### adds research slots until three, then gives a temporary research speed bonus
add_research_slot_until_three = {
	if = {
		limit = {
			amount_research_slots < 3
		}
		add_research_slot = 1
	}
	else_if = {
		limit = {
			has_idea = generic_research_advances
		}
		modify_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
	else = {
		add_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
}

### adds research slots until four, then gives a temporary research speed bonus
add_research_slot_until_four = {
	if = {
		limit = {
			amount_research_slots < 4
		}
		add_research_slot = 1
	}
	else_if = {
		limit = {
			has_idea = generic_research_advances
		}
		modify_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
	else = {
		add_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
}

### adds research slots until five, then gives a temporary research speed bonus
add_research_slot_until_five = {
	if = {
		limit = {
			amount_research_slots < 5
		}
		add_research_slot = 1
	}
	else_if = {
		limit = {
			has_idea = generic_research_advances
		}
		modify_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
	else = {
		add_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
}

add_research_slot_until_six = {
	if = {
		limit = {
			amount_research_slots < 6
		}
		add_research_slot = 1
	}
	else_if = {
		limit = {
			has_idea = generic_research_advances
		}
		modify_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
	else = {
		add_timed_idea = {
			idea = generic_research_advances
			days = 730
		}
	}
}

add_fifteen_compliance_for_every_occupy_state = {
	if = {
		limit = {
			any_controlled_state = {
				has_resistance = yes
			}
		}
		custom_effect_tooltip = generic_current_effects
		every_controlled_state = {
			limit = {
				has_resistance = yes
			}
			add_compliance = 15
		}
	}
}
