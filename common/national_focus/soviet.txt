#!gfx:interface\goals\goal_generic.gfx
#!gfx:interface\goals\goal_SOV.gfx
#!gfx:interface\goals\goal_GER.gfx
#!gfx:interface\goals\goal_FRA.gfx
focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	
	default = no

    continuous_focus_position = { x = 20 y = 2400 }

	focus = {
		id = SOV_Great_Purge_will_fail
		icon = GFX_focus_SOV_Great_Purge_will_fail
		x = 7
		y = 0
		cost = 10
		ai_will_do = {
			factor = 100
		}

		select_effect = {
			country_event = { id = more_soviet.1 days = 1 }

			UKR = {
				country_event = ukr.1 
			}

			set_country_flag = SOV_purge_started
		}

		bypass = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}

		available_if_capitulated = yes

		completion_reward = {

			custom_effect_tooltip = SOV_Great_Purge_will_fail_tt

			add_stability = -0.10

			add_war_support = -0.10

			remove_ideas = trotskyite_plot
			add_ideas = trotskyite_plot_purged

			add_timed_idea = {
				idea = officers_purged
				days = 1460
			}

			hidden_effect = {
				country_event = { id = soviet.37 days = 146 }				
				RUS = { country_event = { id = more_russia_dlc.1 days = 30 } }	
			}

			hidden_effect = {
				country_event = more_soviet.5 
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.219 }
			}

		}
	}

	focus = {
		id = SOV_expand_the_agitprop
		icon = GFX_focus_por_workers_of_iberia
		prerequisite = { focus = SOV_Great_Purge_will_fail }
		x = 0
		y = 1
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 2

		available = {
			or = { 
				has_completed_focus = SOV_Continue_to_enforce_collectivization 
				has_completed_focus = SOV_back_to_the_nep
				has_completed_focus = SOV_Military_collectivization
				has_completed_focus = SOV_Farmer_problem
			}
		}

		ai_will_do = {
			factor = 120
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_political_power = 25
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}

			hidden_effect = {
				SOV_unlock_propaganda_campaign_slot_effect = yes
			}
			unlock_decision_category_tooltip = SOV_propaganda_campaigns
		}
	}

	focus = {
		id = SOV_Improve_industrialization
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SOV_expand_the_agitprop }

		mutually_exclusive = {
			focus = SOV_Continue_to_expand_the_army
		}

		x = -1
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY  }
		
		available_if_capitulated = yes

		available = {
			NOT = { RUS = { has_completed_focus = rus_continue_the_civil_war } }
		}

		ai_will_do = {
			factor = 100
		}

		bypass = {
			RUS = { has_completed_focus = rus_continue_the_civil_war }
		}	

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Improve_industrialization
				bonus = 0.5
				uses = 1
				category = industry
			}

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = SOV_Continue_to_expand_the_army
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_expand_the_agitprop }

		mutually_exclusive = {
			focus = SOV_Improve_industrialization
		}

		x = 1
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY  }
		
		available_if_capitulated = yes

		available = {
			NOT = { RUS = { has_completed_focus = rus_continue_the_civil_war } }
		}

		ai_will_do = {
			factor = 100			
		}

		bypass = {
			RUS = { has_completed_focus = rus_continue_the_civil_war }
		}

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}

			if = {
				limit = {
					571 = {
						is_fully_controlled_by = ROOT
					}
				}
				571 = {
					add_building_construction = {
						type = bunker
						level = 1
						province = 12652
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 4700
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 10696
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 12546
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					588 = {
						is_fully_controlled_by = ROOT
					}
				}
				588 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = 12616
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 10202
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 7708
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 4661
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 12594
						instant_build = yes
					}
				}
			}

			random_owned_state = {
				limit = {
				  is_fully_controlled_by = ROOT
				  industrial_complex > 1
				}
				remove_building = {
				  type = industrial_complex
				  level = 2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
				  type = arms_factory
				  level = 4
				  instant_build = yes
				}
			}

		}
	}

	focus = {
		id = SOV_Achieving_the_Enver_Plan
		icon = GFX_focus_SOV_Enver_Plan
		prerequisite = { focus = SOV_Improve_industrialization focus = SOV_Continue_to_expand_the_army }

		x = 1
		y = 1
		relative_position_id = SOV_Improve_industrialization
		cost = 10

		search_filters = { FOCUS_FILTER_INDUSTRY  }

        cancel_if_invalid = no		
		available_if_capitulated = yes

		available = {
			NOT = { RUS = { has_completed_focus = rus_continue_the_civil_war } }
			date < 1936.12.12
		}

		ai_will_do = {
			factor = 100			
		}

		bypass = {
			RUS = { has_completed_focus = rus_continue_the_civil_war }
		}

		select_effect = {
			set_country_flag = SOV_Achieving_the_Enver_Plan_flag

			# 克孜勒奥尔达铁路和基础设施

			if = {
				limit = {
					has_full_control_of_state = 404
				}
				404 = {
					if = {
						limit = { 
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 402 #
						has_full_control_of_state = 404 #
						has_full_control_of_state = 590 #
					}
					# 阿赫图宾斯克 - 阿克莫林斯克
					build_railway = {
						path = { 7243 7354 7392 10277 10220 4277 10268 12111 7425 4333 }
					}
				}
			}


			#阿克莫林斯克火车站
			590 = {
				if = {
					limit = { 
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = supply_node
						level = 1
						province = 4333
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 588 #
				}
				# 连接前线
				build_railway = {
					path = { 4333 12152 1287 7350 4661 }
				}
			}

		}

		completion_reward = {

			if = {
				limit = {
					or = {
						has_country_leader  = {
							ruling_only  = yes 
							character = SOV_nikolay_yezhov
						}
						has_country_leader  = {
							ruling_only  = yes 
							character = SOV_mikhail_tukhachevsky
						}
					}
					NOT = {
						has_completed_focus = SOV_Achieving_the_Enver_Plan
					}
				}
				custom_effect_tooltip = SOV_Achieving_the_Enver_Plan_tt
			}

			584 = {
				if = {
					limit = { 
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			742 = {
				if = {
					limit = { 
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			405 = {
				if = {
					limit = { 
						is_fully_controlled_by = ROOT
					}
					add_resource = {
						type = steel
						amount = 8
					}
					add_resource = {
						type = aluminium
						amount = 6
					}
					add_resource = {
						type = chromium
						amount = 6
					}
					add_resource = {
						type = tungsten
						amount = 4
					}
				}
			}

			if = {
				limit = { 
					has_completed_focus = SOV_Improve_industrialization
				}
				SOV_increase_industrialization = yes
			}

			if = {
				limit = { 
					has_completed_focus = SOV_Continue_to_expand_the_army
				}
				405 = {
					if = {
						limit = { 
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
						  type = arms_factory
						  level = 2
						  instant_build = yes
						}
					}
				}
			}

		}
	}


	focus = {
		id = SOV_bloody_dwarf_is_in_power
		icon = GFX_focus_SOV_premier_Yezhov
		prerequisite = { focus = SOV_Great_Purge_will_fail }
		x = -4
		y = 1
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			always = no
		}
		bypass = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_bloody_dwarf_is_in_power_tt
			
		}
	}

	focus = {
		id = SOV_Continue_to_clean
		icon = GFX_focus_SOV_Continue_to_clean
		prerequisite = { focus = SOV_bloody_dwarf_is_in_power }
		x = 0
		y = 1
		relative_position_id = SOV_bloody_dwarf_is_in_power
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		    add_ideas = SOV_Big_cleaning_idea_1
		
		}
	}

	focus = {
		id = SOV_Preemptive_force
		icon = GFX_focus_SOV_Preemptive_force
		prerequisite = { focus = SOV_Continue_to_clean }
		x = -1
		y = 1
		relative_position_id = SOV_Continue_to_clean
		cost = 2
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_war_support = -0.15

			set_country_flag = purged_stalinist

			custom_effect_tooltip = SOV_Preemptive_force_tt

		    retire_character = SOV_ivan_konev
		    retire_character = SOV_arseniy_golovko
		    retire_character = SOV_pavel_zhigarev
			retire_character = SOV_stepan_krasovsky


			retire_character = SOV_sergey_gorshkov
			retire_character = SOV_sergey_rudenko

			retire_character = SOV_semyon_timoshenko
			retire_character = SOV_kliment_voroshilov
			retire_character = SOV_semyon_budyonny
			retire_character = SOV_grigory_kulik

			retire_character = SOV_pyotr_smirnov

			if = {
				limit = {
				    has_idea = SOV_Big_cleaning_idea_2
				}
				swap_ideas = {
					remove_idea = SOV_Big_cleaning_idea_2
					add_idea = SOV_Big_cleaning_idea_3
				}
			}	

			if = {
				limit = {
				    has_idea = SOV_Big_cleaning_idea_1
				}
				swap_ideas = {
					remove_idea = SOV_Big_cleaning_idea_1
					add_idea = SOV_Big_cleaning_idea_2
				}
			}
	
	
		}
	}

	focus = {
		id = SOV_Stationed_in_the_government
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_Continue_to_clean }
		x = 1
		y = 1
		relative_position_id = SOV_Continue_to_clean
		cost = 2
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_stability = -0.10

			custom_effect_tooltip = SOV_Stationed_in_the_government_tt

		    retire_character = SOV_alexander_shliapnikov
		    retire_character = SOV_nikolay_krestinsky
		    retire_character = SOV_alexei_rykov
			retire_character = SOV_alexandra_kollontai


			retire_character = SOV_yevgeni_preobrazhensky
			retire_character = SOV_mikhail_kalinin

			retire_character = SOV_grigory_zinovyev
			retire_character = SOV_karl_radek
			retire_character = SOV_lev_kamenev
			retire_character = SOV_nikola_bukharin

			if = {
				limit = {
				    has_idea = SOV_Big_cleaning_idea_2
				}
				swap_ideas = {
					remove_idea = SOV_Big_cleaning_idea_2
					add_idea = SOV_Big_cleaning_idea_3
				}
			}	

			if = {
				limit = {
				    has_idea = SOV_Big_cleaning_idea_1
				}
				swap_ideas = {
					remove_idea = SOV_Big_cleaning_idea_1
					add_idea = SOV_Big_cleaning_idea_2
				}
			}

			hidden_effect = {
			    country_event = more_soviet_dlc.10
			}		
		
		}
	}

	focus = {
		id = SOV_Public_execution
		icon = GFX_focus_SOV_Public_execution_true
		prerequisite = { focus = SOV_Preemptive_force }

		prerequisite = { focus = SOV_Stationed_in_the_government }
		x = 1
		y = 1
		relative_position_id = SOV_Preemptive_force
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_stability = 0.15

      add_country_leader_trait = Blood_Dwarf

      remove_ideas = SOV_Big_cleaning_idea_3

			add_timed_idea = {
				idea = SOV_Big_cleaning_idea_4
				days = 365
			}		
		
		}
	}

	focus = {
		id = SOV_expend_NKVD
		icon = GFX_focus_SOV_expend_NKVD
		prerequisite = { focus = SOV_Public_execution }
		x = 0
		y = 1
		relative_position_id = SOV_Public_execution
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = 50

			custom_effect_tooltip = SOV_expend_NKVD_tt

			hidden_effect = {
				add_units_to_division_template = {
					template_name = "NKVD Pogranichnaya Diviziya"
					regiments = {
						infantry = 0
						infantry = 1

					}
					support = {
						armored_car_recon = 0
						artillery = 0
					}
				}
			}

      if = {
        limit = {
          has_idea = nkvd
        }
        swap_ideas = {
          remove_idea = nkvd
          add_idea = nkvd_2
          }
        }

			hidden_effect = {
				country_event = { id = more_soviet.18 days = 1 }
			}		
		
		}
	}

	focus = {
		id = SOV_Sweep_the_underground_church
		# icon = GFX_focus_SOV_Sweep_the_underground_church
		icon = GFX_focus_mex_triumph_over_the_cristeros
		prerequisite = { focus = SOV_expend_NKVD }
		x = -1
		y = 1
		relative_position_id = SOV_expend_NKVD
		cost = 3
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_manpower = -3627

			add_stability = 0.05

			if = {
				limit = {
					has_idea = nkvd_2
					has_completed_focus = SOV_No_population_movement
				}
				swap_ideas = {
					remove_idea = nkvd_2
					add_idea = nkvd_3
				}
			}
		
		}
	}

	focus = {
		id = SOV_No_population_movement
		icon = GFX_focus_SOV_No_population_movement
		prerequisite = { focus = SOV_expend_NKVD }
		x = 1
		y = 1
		relative_position_id = SOV_expend_NKVD
		cost = 3
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_manpower = -2748

			add_stability = 0.05

			if = {
				limit = {
					has_idea = nkvd_2
					has_completed_focus = SOV_Sweep_the_underground_church
				}
				swap_ideas = {
					remove_idea = nkvd_2
					add_idea = nkvd_3
				}
			}
		
		}
	}

	focus = {
		id = SOV_Continue_to_enforce_collectivization
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = SOV_Sweep_the_underground_church }

		prerequisite = { focus = SOV_No_population_movement }
		x = 1
		y = 1
		relative_position_id = SOV_Sweep_the_underground_church
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_agricultural_collectivization_1

      unlock_decision_tooltip = SOV_Set_up_checkpoints

      unlock_decision_tooltip = SOV_creating_the_25_thousand

		}
	}

	focus = {
		id = SOV_Reform_the_education_system
		icon = GFX_focus_SOV_Reform_the_education_system
		prerequisite = { focus = SOV_Continue_to_enforce_collectivization }

		x = -1
		y = 1
		relative_position_id = SOV_Continue_to_enforce_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_New_curriculum_standard
		
		}
	}

	focus = {
		id = SOV_New_worker_culture
		icon = GFX_focus_SOV_New_worker_culture
		prerequisite = { focus = SOV_Continue_to_enforce_collectivization }

		x = 1
		y = 1
		relative_position_id = SOV_Continue_to_enforce_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_New_worker_culture_idea
		
		}
	}

	focus = {
		id = SOV_Hang_up_portrait
		icon = GFX_focus_SOV_Hang_up_Portraits
		prerequisite = { focus = SOV_Reform_the_education_system }

		prerequisite = { focus = SOV_New_worker_culture }
		x = 1
		y = 1
		relative_position_id = SOV_Reform_the_education_system
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		    add_political_power = 350

			swap_ideas = {
				remove_idea = SOV_Legacy_of_the_Great_Famine_stalindied
				add_idea = SOV_Legacy_of_the_Great_Famine_nostalin
			}

			remove_country_leader_trait = Blood_Dwarf
			add_country_leader_trait = Blood_Dwarf_1

			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_propaganda_yezhov
			custom_effect_tooltip = propaganda_campaign_requirement_tt
		
		}
	}

	focus = {
		id = SOV_Tukhachevsky_coup
		icon = GFX_focus_SOV_Tukhachevsky_coup
		prerequisite = { focus = SOV_Great_Purge_will_fail }
		x = 4
		y = 1
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      always = no
    }
    bypass = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }

		available_if_capitulated = yes

		completion_reward = {
      custom_effect_tooltip = SOV_Tukhachevsky_coup_tt
		}
	}

	focus = {
		id = SOV_End_the_cleaning
		icon = GFX_focus_SOV_Tank_Group_Army
		prerequisite = { focus = SOV_Tukhachevsky_coup }
		x = 0
		y = 1
		relative_position_id = SOV_Tukhachevsky_coup
		cost = 3
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = 100

			add_stability = 0.10

			add_war_support = 0.05

			custom_effect_tooltip = SOV_End_the_cleaning_tt

			clr_country_flag = arrest_kalinin

			clr_country_flag = arrest_khrushchev

			clr_country_flag = arrest_zinovyev

			clr_country_flag = arrest_radek

			clr_country_flag = arrest_kamenev

			clr_country_flag = arrest_bukharin

			UKR = { country_event = more_ukraine_dlc.4 }

		}
	}

	focus = {
		id = SOV_NKVD_fate
		icon = GFX_focus_SOV_NKVD_fate
		prerequisite = { focus = SOV_End_the_cleaning }
		x = -1
		y = 1
		relative_position_id = SOV_End_the_cleaning
		cost = 3
		ai_will_do = {
			factor = 200
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.8

		}
	}

	focus = {
		id = SOV_The_fate_of_the_Stalinists
		icon = GFX_focus_SOV_The_fate_of_the_Stalinists
		prerequisite = { focus = SOV_End_the_cleaning }
		x = 1
		y = 1
		relative_position_id = SOV_End_the_cleaning
		cost = 3
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.9

		}
	}

	focus = {
		id = SOV_Marshal_decision
		icon = GFX_focus_SOV_the_supreme_soviet
		prerequisite = { focus = SOV_NKVD_fate }

		prerequisite = { focus = SOV_The_fate_of_the_Stalinists }
		x = 1
		y = 1
		relative_position_id = SOV_NKVD_fate
		cost = 1
		ai_will_do = {
			factor = 50
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.10

		}
	}

	focus = {
		id = SOV_Humane_communism
		icon = GFX_focus_SOV_premier_bukharin
		prerequisite = { focus = SOV_Marshal_decision }

		x = 4
		y = 1
		relative_position_id = SOV_Marshal_decision
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
		has_country_flag = Bukharin_becomes_general_secretary_flag
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SOV_Humane_communism_idea_1
			add_country_leader_role = {
				character = "SOV_nikola_bukharin"
				country_leader = {
					desc = "POLITICS_MIKHAIL_TUKHACHEVSKY_DESC"
					ideology = leninism
					traits = { Advocate_of_New_Economic_Policy }
					expire = "1965.1.1"
				}
				promote_leader = yes 
			}
			hidden_effect = {
				news_event = { id = more_News.44  hours = 3 }
			}

		}
	}

	focus = {
		id = SOV_Return_power_to_the_union
		icon = GFX_focus_SOV_Return_power_to_the_union
		prerequisite = { focus = SOV_Humane_communism }

		x = -1
		y = 1
		relative_position_id = SOV_Humane_communism
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_nikola_bukharin
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_stability = 0.05

			add_ideas = SOV_Return_power_to_the_union_idea

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_Alexander_Shliapnikov
			show_ideas_tooltip = SOV_Alexandra_Kollontai
		}
	}

	focus = {
		id = SOV_Ensure_the_worker_peasant_alliance
		icon = GFX_focus_SOV_Ensure_the_worker_peasant_alliance
		prerequisite = { focus = SOV_Humane_communism }

		x = 1
		y = 1
		relative_position_id = SOV_Humane_communism
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 100

			swap_ideas = {
        remove_idea = SOV_Humane_communism_idea_1
        add_idea = SOV_Humane_communism_idea_2
      }

		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = SOV_Alexei_Rykov

		}
	}

	focus = {
		id = SOV_back_to_the_nep
		icon = GFX_focus_SOV_Voluntary_collectivization
		prerequisite = { focus = SOV_Return_power_to_the_union }

		prerequisite = { focus = SOV_Ensure_the_worker_peasant_alliance }
		x = 1
		y = 1
		relative_position_id = SOV_Return_power_to_the_union
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_stability = 0.05
			add_popularity = {
				ideology = democratic 
				popularity = -0.1
			}

			add_ideas = SOV_Voluntary_collectivization_idea

			add_ideas = new_economic_policy

		}
	}

	focus = {
		id = SOV_Guarantee_freedom_of_the_press
		icon = GFX_focus_SOV_Guarantee_freedom_of_the_press
		prerequisite = { focus = SOV_back_to_the_nep }

		x = -1
		y = 1
		relative_position_id = SOV_back_to_the_nep
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Guarantee_freedom_of_the_press

		}
	}

	focus = {
		id = SOV_Industrialization_process
		icon = GFX_focus_generic_factory_complex
		prerequisite = { focus = SOV_back_to_the_nep }

		x = 1
		y = 1
		relative_position_id = SOV_back_to_the_nep
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Industrialization_process
				bonus = 1.0
				uses = 1
				category = industry
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Democratic_alliance
		icon = GFX_focus_SOV_Democratic_alliance
		prerequisite = { focus = SOV_Guarantee_freedom_of_the_press }

		prerequisite = { focus = SOV_Industrialization_process }
		x = 1
		y = 1
		relative_position_id = SOV_Guarantee_freedom_of_the_press
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			set_cosmetic_tag = SOV_right_opposition

			remove_ideas = SOV_Legacy_of_the_Great_Famine_nostalin

			swap_ideas = {
				remove_idea = SOV_Humane_communism_idea_2
				add_idea = SOV_Humane_communism_idea_3
			}
			country_event = { id = more_soviet.16 days = 3 }
		}
	}

	focus = {
		id = SOV_Continue_military_control
		icon = GFX_focus_SOV_premier_Tukhachevsky
		prerequisite = { focus = SOV_Marshal_decision }

		x = 0
		y = 1
		relative_position_id = SOV_Marshal_decision
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_country_flag = Tukhachevsky_consolidated_his_position_flag
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Military_dictatorship_idea_1

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_Nikolay_Krestinsky

			hidden_effect = {
				news_event = { id = more_News.43  hours = 3 }
			}
		}
	}

	focus = {
		id = SOV_Soldier_worship
		icon = GFX_focus_SOV_Soldier_worship
		prerequisite = { focus = SOV_Continue_military_control }

		x = -1
		y = 1
		relative_position_id = SOV_Continue_military_control
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_org_factor = 0.1 }

			custom_effect_tooltip = SOV_Soldier_worship_tt

			swap_ideas = {
        remove_idea = SOV_Military_dictatorship_idea_1
        add_idea = SOV_Military_dictatorship_idea_2
      }

	  		custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_nonna_political

		}
	}

	focus = {
		id = SOV_Start_war_mobilization
		icon = GFX_focus_SOV_Start_war_mobilization
		prerequisite = { focus = SOV_Continue_military_control }

		x = 1
		y = 1
		relative_position_id = SOV_Continue_military_control
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		add_ideas = SOV_Additional_conscription

		}
	}

	focus = {
		id = SOV_Military_collectivization
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_Soldier_worship }

		prerequisite = { focus = SOV_Start_war_mobilization }
		x = 1
		y = 1
		relative_position_id = SOV_Soldier_worship
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			swap_ideas = {
				remove_idea = SOV_Additional_conscription
				add_idea = SOV_Military_collectivization_idea
			}

			unlock_decision_tooltip = SOV_War_Mobilization_dec

			SOV_increase_industrialization = yes

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_sovetskaya_rossiya_political

		}
	}

	focus = {
		id = SOV_Military_education_is_supreme
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = SOV_Military_collectivization }

		x = -1
		y = 1
		relative_position_id = SOV_Military_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_planning = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_gain_army_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_doctrine_cost_factor = -0.15 }
			custom_effect_tooltip = SOV_Military_education_is_supreme_tt

      add_ideas = SOV_Military_education_is_supreme_idea

		}
	}

	focus = {
		id = SOV_Regulated_union
		icon = GFX_focus_usa_voter_registration_act
		prerequisite = { focus = SOV_Military_collectivization }

		x = 1
		y = 1
		relative_position_id = SOV_Military_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		add_ideas = SOV_Regulated_union_idea

		}
	}

	focus = {
		id = SOV_Red_Napoleon
		icon = GFX_focus_SOV_Red_Napoleon
		prerequisite = { focus = SOV_Military_education_is_supreme }

		prerequisite = { focus = SOV_Regulated_union }
		x = 1
		y = 1
		relative_position_id = SOV_Military_education_is_supreme
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = 150

			add_country_leader_trait = red_emperor

		}
	}

	focus = {
		id = SOV_Return_of_exile
		icon = GFX_focus_SOV_premier_trotsky
		prerequisite = { focus = SOV_Marshal_decision }

		x = -4
		y = 1
		relative_position_id = SOV_Marshal_decision
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_country_flag = Trotsky_is_invited_back_flag
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Revolutionary_vanguard_idea_1

	  	add_country_leader_role = {
			character = "SOV_lev_trotsky"
			country_leader = {
				ideology = leninism
				traits = {  }
				expire = "1965.1.1"
			}
			promote_leader = yes 
		}

			hidden_effect = {
				news_event = { id = more_News.42  hours = 3 }
			}

		}
	}

	focus = {
		id = SOV_Militarization_of_labor
		icon = GFX_focus_generic_conscription
		prerequisite = { focus = SOV_Return_of_exile }

		x = -1
		y = 1
		relative_position_id = SOV_Return_of_exile
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = -100

      add_ideas = SOV_Militarization_of_labor_idea

		}
	}

	focus = {
		id = SOV_Cut_bureaucracy
		icon = GFX_focus_SOV_Cut_bureaucracy
		prerequisite = { focus = SOV_Return_of_exile }

		x = 1
		y = 1
		relative_position_id = SOV_Return_of_exile
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 50

		  add_to_variable = { HOF_SOV_the_red_army_dynamic_army_org_factor = 0.15 }

		  custom_effect_tooltip = SOV_Cut_bureaucracy_tt

			swap_ideas = {
        remove_idea = SOV_Revolutionary_vanguard_idea_1
        add_idea = SOV_Revolutionary_vanguard_idea_2
      }

		}
	}

	focus = {
		id = SOV_Farmer_problem
		icon = GFX_focus_generic_famine
		prerequisite = { focus = SOV_Militarization_of_labor }

		prerequisite = { focus = SOV_Cut_bureaucracy }
		x = 1
		y = 1
		relative_position_id = SOV_Militarization_of_labor
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.11

		}
	}

	focus = {
		id = SOV_Anti_nationalist_propaganda
		icon = GFX_focus_SOV_anti_nationalist_propaganda
		prerequisite = { focus = SOV_Farmer_problem }

		x = -1
		y = 1
		relative_position_id = SOV_Farmer_problem
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 100

			swap_ideas = {
        remove_idea = SOV_Revolutionary_vanguard_idea_2
        add_idea = SOV_Revolutionary_vanguard_idea_3
      }

		}
	}

	focus = {
		id = SOV_Rapid_industrialization
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_Farmer_problem }

		x = 1
		y = 1
		relative_position_id = SOV_Farmer_problem
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = -100

      add_stability = -0.10

			add_war_support = -0.1

			add_tech_bonus = {
				name = SOV_Rapid_industrialization
				bonus = 1.0
				uses = 2
				category = industry
			}

      SOV_increase_industrialization = yes

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_For_the_world_revolution
		icon = GFX_focus_SOV_For_the_world_revolution
		prerequisite = { focus = SOV_Anti_nationalist_propaganda }

		prerequisite = { focus = SOV_Rapid_industrialization }
		x = 1
		y = 1
		relative_position_id = SOV_Anti_nationalist_propaganda
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			set_cosmetic_tag = SOV_left_opposition

			add_political_power = 200

			add_country_leader_trait = Forever_revolution

			swap_ideas = {
				remove_idea = SOV_Revolutionary_vanguard_idea_3
				add_idea = SOV_Revolutionary_vanguard_idea_4
			}

		}
	}





	focus = {
		id = SOV_Reorganizing_the_Red_Army
		icon = GFX_goal_generic_military_sphere

		x = 25
		y = 0
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 300
		}

		available = {
			or = {
				has_completed_focus = SOV_Hang_up_portrait
				has_completed_focus = SOV_Democratic_alliance
				has_completed_focus = SOV_Red_Napoleon
				has_completed_focus = SOV_For_the_world_revolution
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = 50

			add_command_power = 25

			army_experience = 25

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_org_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_loss_factor = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_resistance_damage_to_garrison = 0.1 }
			custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt_2

			add_doctrine_cost_reduction = {
				name = SOV_Reorganizing_the_Red_Army
				cost_reduction = 0.5
				uses = 2
				category = cat_mass_assault
			} 

		}
	}

	focus = {
		id = SOV_Strengthen_discipline
		icon = GFX_focus_SOV_Strengthen_discipline

		mutually_exclusive = {
			focus = SOV_Decentralization
		}

		prerequisite = { focus = SOV_Reorganizing_the_Red_Army }

		x = -3
		y = 1
		relative_position_id = SOV_Reorganizing_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_war_support = 0.05

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_org_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_loss_factor = -0.15 }
			custom_effect_tooltip = SOV_Strengthen_discipline_tt

		}
	}

	focus = {
		id = SOV_Filling_staff
		icon = GFX_focus_SOV_Filling_staff

		prerequisite = { focus = SOV_Strengthen_discipline }

		x = -1
		y = 1
		relative_position_id = SOV_Strengthen_discipline
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = 100

			add_command_power = 50

			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_gain_army_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_planning_speed = 0.25 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_planning = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_doctrine_cost_factor = -0.1 }
			custom_effect_tooltip = SOV_Filling_staff_tt

		}
	}

	focus = {
		id = SOV_NKVD_div
		icon = GFX_focus_SOV_nkvd_divisions

		mutually_exclusive = {
			focus = SOV_Supervising_team
		}

		prerequisite = { focus = SOV_Filling_staff }

		x = -1
		y = 1
		relative_position_id = SOV_Filling_staff
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      NOT = { has_country_flag = purged_NKVD }
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_morale_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_reinforce_rate = 0.03 }
			custom_effect_tooltip = SOV_NKVD_div_tt

      if = {
        limit = {
          has_idea = nkvd
        }
        swap_ideas = {
          remove_idea = nkvd
          add_idea = nkvd_1
        }
      }

      if = {
        limit = {
          has_idea = nkvd_3
        }
        swap_ideas = {
          remove_idea = nkvd_3
          add_idea = nkvd_4
        }
      }
 
		}
	}

	focus = {
		id = SOV_Supervising_team
		icon = GFX_focus_generic_military_mission

		mutually_exclusive = {
			focus = SOV_NKVD_div
		}

		prerequisite = { focus = SOV_Filling_staff }

		x = 1
		y = 1
		relative_position_id = SOV_Filling_staff
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      has_country_flag = purged_NKVD
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_morale_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_reinforce_rate = 0.03 }
			custom_effect_tooltip = SOV_NKVD_div_tt
		}
	}

	focus = {
		id = SOV_Concentrated_operations
		icon = GFX_focus_generic_join_faction

		prerequisite = { focus = SOV_Supervising_team focus = SOV_NKVD_div }

		x = 0
		y = 1
		relative_position_id = SOV_Supervising_team
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_speed_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_planning = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_doctrine_cost_factor = -0.15 }
			custom_effect_tooltip = SOV_Concentrated_operations_tt

			add_doctrine_cost_reduction = {
				name = SOV_Concentrated_operations
				cost_reduction = 0.5
				uses = 1
				category = cat_mass_assault
			} 

		}
	}

	focus = {
		id = SOV_Wartime_communism
		icon = GFX_focus_SOV_Wartime_communism

		prerequisite = { focus = SOV_Strengthen_discipline }

		x = 1
		y = 1
		relative_position_id = SOV_Strengthen_discipline
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {
			NOT = { has_completed_focus = SOV_Humane_communism }
			SOV = { has_war_with = RUS }
		}
		bypass = {
			or = {
				RUS = { exists = no }
				RUS = { is_puppet = yes }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
            add_ideas = SOV_Wartime_communism_idea
		}
	}

	focus = {
		id = SOV_general_mobilization
		icon = GFX_focus_generic_support_the_left_right

		prerequisite = { focus = SOV_Wartime_communism }

		x = 1
		y = 1
		relative_position_id = SOV_Wartime_communism
		cost = 5
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				NOT = { surrender_progress > 0.10 }
			}
		}

		available = {
			or = {
				has_country_leader  = {
					ruling_only  = yes 
					character = SOV_nikolay_yezhov
				}
				has_country_leader  = {
					ruling_only  = yes 
					character = SOV_lev_trotsky
				}
			}
			has_war = yes
			or = {
				casualties > 500000
				surrender_progress > 0.30
			}
		}
		bypass = {
			or = {
				threat > 0.6
				has_idea = tot_economic_mobilisation
				or = {
					RUS = { exists = no }
					RUS = { is_puppet = yes }
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			add_political_power = -300

            add_ideas = tot_economic_mobilisation
		}
	}

	focus = {
		id = SOV_Decentralization
		icon = GFX_focus_SOV_Decentralization

		mutually_exclusive = {
			focus = SOV_Strengthen_discipline
		}

		prerequisite = { focus = SOV_Reorganizing_the_Red_Army }

		x = 2
		y = 1
		relative_position_id = SOV_Reorganizing_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      has_completed_focus = SOV_Humane_communism
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = -50

			add_war_support = -0.05

			custom_effect_tooltip = SOV_Decentralization_tt

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_morale_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_gain_army_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_planning_speed = 0.25 }
			custom_effect_tooltip = SOV_Decentralization_tt_2

		}
	}

	focus = {
		id = SOV_Simplify_weapons_production
		icon = GFX_focus_SOV_Simplify_weapons_production

		prerequisite = { focus = SOV_Decentralization focus = SOV_Strengthen_discipline  }

		x = -2
		y = 1
		relative_position_id = SOV_Decentralization
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_mobilization_speed = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_conscription_factor = 0.05 }
			custom_effect_tooltip = SOV_Simplify_weapons_production_tt

            add_ideas = SOV_Simplify_weapons_production_idea

		}
	}

	focus = {
		id = SOV_New_structure_of_artillery
		icon = GFX_focus_SOV_New_structure_of_artillery

		prerequisite = { focus = SOV_Simplify_weapons_production }

		x = 0
		y = 2
		relative_position_id = SOV_Simplify_weapons_production
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_artillery_attack_factor = 0.1 }
			custom_effect_tooltip = SOV_New_structure_of_artillery_tt

            add_ideas = SOV_New_structure_of_artillery_idea

			add_tech_bonus = {
				name = SOV_New_structure_of_artillery
				bonus = 1.0
				uses = 2
				category = artillery
			}

		}
	}

	focus = {
		id = SOV_Mission_command
		icon = GFX_goal_generic_axis_build_infantry

		prerequisite = { focus = SOV_Decentralization }

		x = 1
		y = 1
		relative_position_id = SOV_Decentralization
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_planning_speed = 0.2 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_gain_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_supply_consumption_factor = -0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_doctrine_cost_factor = -0.1 }
			custom_effect_tooltip = SOV_Mission_command_tt

			add_doctrine_cost_reduction = {
				name = SOV_Mission_command
				cost_reduction = 0.5
				uses = 1
				category = cat_mass_assault
			}

		}
	}

	focus = {
		id = SOV_tachanka
		icon = GFX_goal_generic_cavalry

		prerequisite = { focus = SOV_Mission_command }

		x = -2
		y = 1
		relative_position_id = SOV_Mission_command
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_modifier_army_sub_unit_cavalry_speed_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_modifier_army_sub_unit_cavalry_attack_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_out_of_supply_factor = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_pocket_penalty = -0.2 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_no_supply_grace = 48 }
			custom_effect_tooltip = SOV_tachanka_tt

			#add_ideas = SOV_tachanka_idea

		}
	}

	focus = {
		id = SOV_Officer_initiative
		icon = GFX_focus_prc_infiltration

		prerequisite = { focus = SOV_Mission_command }

		x = 0
		y = 1
		relative_position_id = SOV_Mission_command
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_recon_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_experience_loss_factor = -0.15 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_land_doctrine_cost_factor = -0.1 }
			custom_effect_tooltip = SOV_Officer_initiative_tt

			add_tech_bonus = {
				name = SOV_Officer_initiative
				bonus = 1.0
				uses = 1
				category = recon_tech
			}

			add_doctrine_cost_reduction = {
				name = SOV_Officer_initiative
				cost_reduction = 0.5
				uses = 1
				category = cat_mass_assault
			}

		}
	}

	focus = {
		id = SOV_Practice_new_tactics
		icon = GFX_focus_generic_license_production

		prerequisite = { focus = SOV_Mission_command }

		x = 2
		y = 1
		relative_position_id = SOV_Mission_command
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_speed_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_attack_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_defence_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_speed_factor = 0.05 }
			custom_effect_tooltip = SOV_Practice_new_tactics_tt

			add_doctrine_cost_reduction = {
				name = SOV_Practice_new_tactics
				cost_reduction = 0.5
				uses = 1
				category = cat_mass_assault
			}

			#add_ideas = SOV_Practice_new_tactics_idea

		}
	}

	focus = {
		id = SOV_Squad_assault
		icon = GFX_focus_generic_manpower

		prerequisite = { focus = SOV_tachanka }

		prerequisite = { focus = SOV_Officer_initiative }

		prerequisite = { focus = SOV_Practice_new_tactics }
		x = 1
		y = 1
		relative_position_id = SOV_Officer_initiative
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_org_loss_when_moving = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_speed_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_infantry_attack_factor = 0.05 }
			custom_effect_tooltip = SOV_Squad_assault_tt

			add_doctrine_cost_reduction = {
				name = SOV_Squad_assault
				cost_reduction = 0.5
				uses = 1
				category = cat_mass_assault
			}

		}
	}

	focus = {
		id = SOV_Infantry_tradition
		#icon = GFX_focus_YUG_pan_slavic_congress
		icon = GFX_focus_SOV_builder_of_the_red_army

		prerequisite = { focus = SOV_Concentrated_operations }

		prerequisite = { focus = SOV_New_structure_of_artillery }

		x = 0
		y = 1
		relative_position_id = SOV_Concentrated_operations
		cost = 5
		ai_will_do = {
			factor = 5
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			army_experience = 25

			add_to_variable = { HOF_SOV_the_red_army_dynamic_training_time_factor = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_conscription_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_infantry_defence_factor = 0.1 }
			custom_effect_tooltip = SOV_Infantry_tradition_tt

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}

		}
	}

	focus = {
		id = SOV_Training_grassroots_non_commissioned_officers
		icon = GFX_focus_generic_military_academy

		prerequisite = { focus = SOV_Infantry_tradition }

		x = 0
		y = 1
		relative_position_id = SOV_Infantry_tradition
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {
			
			add_to_variable = { HOF_SOV_the_red_army_dynamic_attrition = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_supply_consumption_factor = -0.1 }
			custom_effect_tooltip = SOV_Training_grassroots_non_commissioned_officers_tt

			random_army_leader = {
				limit = { 
					skill > 5			
				}
				add_logistics = 1				
			}

			random_army_leader = {
				limit = { 
					skill < 5			
				}
				add_logistics = 1				
			}

			random_army_leader = {
				limit = { 
					skill < 5			
				}
				add_logistics = 1				
			}

			add_tech_bonus = {
				name = SOV_Training_grassroots_non_commissioned_officers
				bonus = 0.75
				uses = 2
				category = support_tech	
			}

		}
	}

	focus = {
		id = SOV_Expansion_of_special_forces
		icon = GFX_goal_generic_special_forces

		prerequisite = { focus = SOV_Infantry_tradition }

		x = -2
		y = 1
		relative_position_id = SOV_Infantry_tradition
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_special_forces_cap = 0.1 }
			custom_effect_tooltip = SOV_Expansion_of_special_forces_tt

			add_tech_bonus = {
				name = SOV_Expansion_of_special_forces
				bonus = 1.0
				uses = 2
				category = mountaineers_tech
				category = para_tech
				category = marine_tech
			}	

		}
	}

	focus = {
		id = SOV_New_thought
		icon = GFX_goal_generic_army_tanks

		prerequisite = { focus = SOV_Squad_assault focus = SOV_Concentrated_operations }

		prerequisite = { focus = SOV_New_structure_of_artillery }

		x = -2
		y = 1
		relative_position_id = SOV_Squad_assault
		cost = 5
		ai_will_do = {
			factor = 300
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_recon_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_attack_factor = 0.15 }
			custom_effect_tooltip = SOV_New_thought_tt

			custom_effect_tooltip = GER_Armored_Scout_tooltip

			set_technology = { GER_Armored_Scout_tech = 1 }

			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				name = SOV_Mass_Breakthroughs
				technology = armored_car2
				technology = armored_car3
			}

			add_tech_bonus = {
				name = SOV_New_thought
				bonus = 1.0
				uses = 1
				category = recon_tech
			}

		}
	}

	focus = {
		id = SOV_Assault_Engineer
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = SOV_New_thought focus = SOV_Infantry_tradition }
		x = -2
		y = 1
		relative_position_id = SOV_New_thought
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {

			custom_effect_tooltip = GER_Combat_Engineer_tooltip

			set_technology = { GER_Combat_Engineer_tech = 1 }

			add_tech_bonus = {
				name = SOV_Assault_Engineer 
				bonus = 1.0
				uses = 2
				category = engineers_tech	
			}	
		}
	}

	focus = {
		id = SOV_Mass_Breakthroughs
		icon = GFX_focus_SOV_Mass_Breakthroughs

		prerequisite = { focus = SOV_New_thought }

		x = 0
		y = 1
		relative_position_id = SOV_New_thought
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_org_loss_when_moving = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_speed_factor = 0.15 }
			custom_effect_tooltip = SOV_Mass_Breakthroughs_tt

			random_army_leader = {
				limit = { 
					skill > 5			
				}
				add_attack = 1				
			}

			random_army_leader = {
				limit = { 
					skill < 5			
				}
				add_attack = 1				
			}

			random_army_leader = {
				limit = { 
					skill < 5			
				}
				add_attack = 1				
			}

			add_doctrine_cost_reduction = {
				name = SOV_Mass_Breakthroughs
				cost_reduction = 0.75
				uses = 1
				category = cat_mass_assault
			} 

		}
	}

	focus = {
		id = SOV_Mass_motorization
		icon = GFX_focus_SOV_katyusha

		prerequisite = { focus = SOV_New_thought }

		x = 2
		y = 1
		relative_position_id = SOV_New_thought
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			  has_completed_focus = SOV_Independent_automotive_industry
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			if = {
				limit = {
					not = { has_tech = motorized_rocket_unit  }
				}
				set_technology = {
					motorized_rocket_unit = 1
				}
			}

		  add_ideas = SOV_katyusha_idea

		}
	}

	focus = {
		id = SOV_transpolar_flights
		icon = GFX_focus_SOV_transpolar_flight

		x = 11
		y = 0
		relative_position_id = SOV_Reorganizing_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_completed_focus = SOV_Reorganizing_the_Red_Army
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			air_experience = 25

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_fuel_consumption_factor = -0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_range_factor = 0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_agility_factor = 0.05 }
			custom_effect_tooltip = SOV_transpolar_flights_tt

			add_doctrine_cost_reduction = {
				name = SOV_transpolar_flights
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}

		}
	}

	focus = {
		id = SOV_Training_paratroopers
		icon = GFX_focus_generic_paratrooper

		prerequisite = { focus = SOV_transpolar_flights }

		x = -1
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Training_paratroopers
				bonus = 1
				uses = 1
				category = para_tech
			}

		}
	}

	focus = {
		id = SOV_Expand_flight_school
		icon = GFX_focus_SOV_flying_clubs
		#icon = GFX_goal_DOM_Air_Fuel

		prerequisite = { focus = SOV_transpolar_flights }

		x = -3
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_accidents_factor = -0.25 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_weather_penalty = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_training_xp_gain_factor = 0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_wing_xp_loss_when_killed_factor = -0.15 }
			custom_effect_tooltip = SOV_Expand_flight_school_tt

		}
	}

	focus = {
		id = SOV_women_pilots
		icon = GFX_focus_SOV_women_in_aviation

		prerequisite = { focus = SOV_Expand_flight_school }

		x = -1
		y = 1
		relative_position_id = SOV_Expand_flight_school
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			air_experience = 25

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_weather_penalty = -0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_mission_xp_gain_factor = 0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_training_xp_gain_factor = 0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_night_penalty = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_strategic_bomber_night_penalty = -0.1 }
			custom_effect_tooltip = SOV_women_pilots_ns_tt

			set_rule = {
				can_generate_female_aces = yes
			}

			if = {
				limit = {
					SOV = { has_full_control_of_state = 219 }
				}
				custom_effect_tooltip = SOV_night_witches_tt
				hidden_effect = {
					load_oob = "SOV_night_witches"
				}
			}

		}
	}

	focus = {
		id = SOV_Rule_the_sky
		icon = GFX_focus_SOV_air_volunteers

		prerequisite = { focus = SOV_women_pilots }

		prerequisite = { focus = SOV_new_soviet_man }
		x = 1
		y = 1
		relative_position_id = SOV_women_pilots
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_agility_factor = 0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_doctrine_cost_factor = -0.5 }
			custom_effect_tooltip = SOV_Rule_the_sky_tt

		}
	}

	focus = {
		id = SOV_new_soviet_man
		icon = GFX_goal_support_communism

		prerequisite = { focus = SOV_Expand_flight_school }

		x = 1
		y = 1
		relative_position_id = SOV_Expand_flight_school
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_night_penalty = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_wing_xp_loss_when_killed_factor = -0.1 }
			custom_effect_tooltip = SOV_new_soviet_man_tt

			hidden_effect = {
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
			}
			custom_effect_tooltip = kamikaze_focus_tooltip

		}
	}

	focus = {
		id = SOV_aviation_cult
		icon = GFX_focus_SOV_transpolar_flight_OLD

		prerequisite = { focus = SOV_transpolar_flights }

		x = 1
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_accidents_factor = -0.25 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_weather_penalty = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_training_xp_gain_factor = 0.1 }
			custom_effect_tooltip = SOV_aviation_cult_tt

			add_tech_bonus = {
				name = SOV_aviation_cult
				bonus = 1.0
				uses = 1
				category = light_air
			}

		}
	}

	focus = {
		id = SOV_Development_of_ground_attack_aircraft
		icon = GFX_focus_SOV_il2

		prerequisite = { focus = SOV_aviation_cult }

		x = -1
		y = 1
		relative_position_id = SOV_aviation_cult
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = CAS_bonus
        bonus = 2
        uses = 1
				category = cas_bomber
			}

		}
	}

	focus = {
		id = SOV_Tactical_Air_Force
		icon = GFX_focus_SOV_batt_supp

		mutually_exclusive = {
			focus = SOV_Tend_to_Strategic_Air_Force
		}

		prerequisite = { focus = SOV_Development_of_ground_attack_aircraft }

		x = 0
		y = 1
		relative_position_id = SOV_Development_of_ground_attack_aircraft
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_attack_factor = 0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_cas_present_factor = 0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_doctrine_cost_factor = -0.5 }
			custom_effect_tooltip = SOV_Tactical_Air_Force_tt

		}
	}

	focus = {
		id = SOV_Development_of_long_range_bombers
		icon = GFX_focus_SOV_pe2

		prerequisite = { focus = SOV_aviation_cult }

		x = 1
		y = 1
		relative_position_id = SOV_aviation_cult
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = CAS_bonus
        bonus = 2
        uses = 1
				category = tactical_bomber
			}

		}
	}

	focus = {
		id = SOV_Tend_to_Strategic_Air_Force
		icon = GFX_focus_SOV_op_dist

		mutually_exclusive = {
			focus = SOV_Tactical_Air_Force
		}

		prerequisite = { focus = SOV_Development_of_long_range_bombers }

		x = 0
		y = 1
		relative_position_id = SOV_Development_of_long_range_bombers
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_range_factor = 0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_strategic_bomb_visibility = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_doctrine_cost_factor = -0.5 }
			custom_effect_tooltip = SOV_Tend_to_Strategic_Air_Force_tt

		}
	}

	focus = {
		id = SOV_Burning_sky
		icon = GFX_focus_generic_air_defense2

		prerequisite = { focus = SOV_transpolar_flights }

		x = 4
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
		   195 = { is_fully_controlled_by = SOV }
		   219 = { is_fully_controlled_by = SOV }
		   217 = { is_fully_controlled_by = SOV }
		   229 = { is_fully_controlled_by = SOV }
		   582 = { is_fully_controlled_by = SOV }
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Burning_sky
				bonus = 1.0
				uses = 1
				category = cat_anti_air
			}

			if = {
				limit = {
					195 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				195 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					195 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				195 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					219 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				219 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					219 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				219 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					217 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				217 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					217 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				217 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					229 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				229 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					229 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				229 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					582 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				582 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					582 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				582 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

		}
	}

	focus = {
		id = SOV_Consolidate_the_air_defense_net
		icon = GFX_goal_generic_radar

		prerequisite = { focus = SOV_Burning_sky }

		x = 0
		y = 1
		relative_position_id = SOV_Burning_sky
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Consolidate_the_air_defense_net
				bonus = 1
				uses = 2
				category = radar_tech
			}

		}
	}


	focus = {
		id = SOV_Navy_ashore
		icon = GFX_focus_SOV_navy

		x = 12
		y = 0
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_completed_focus = SOV_Reorganizing_the_Red_Army
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 25

		}
	}

	focus = {
		id = SOV_Admission_of_White_Admiral
		icon = GFX_focus_GER_navy_hat_ships

		prerequisite = { focus = SOV_Navy_ashore }

		x = -3
		y = 1
		relative_position_id = SOV_Navy_ashore
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      or = {
        RUS = { exists = no }
        RUS = { is_puppet = yes }
        AND = {
          NOT = { RUS = { has_full_control_of_state = 563 } }
          is_ai = yes
        }
      }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = SOV_Admission_of_White_Admiral
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}

		}
	}

	focus = {
		id = SOV_Underwater_attack
		icon = GFX_goal_generic_navy_submarine

		prerequisite = { focus = SOV_Admission_of_White_Admiral }

		x = 0
		y = 1
		cost = 5

		relative_position_id = SOV_Admission_of_White_Admiral

		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Underwater_attack
				bonus = 1.0
				uses = 2
				category = ss_tech
			}

		}
	}

	focus = {
		id = SOV_ocean_going_navy
		icon = GFX_goal_generic_navy_battleship

		prerequisite = { focus = SOV_Admission_of_White_Admiral }

		x = 2
		y = 1
		cost = 5

		relative_position_id = SOV_Admission_of_White_Admiral

		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = SOV_Offshore_defense
		icon = GFX_focus_generic_mine_warfare

		prerequisite = { focus = SOV_Admission_of_White_Admiral }

		x = -2
		y = 1
		relative_position_id = SOV_Admission_of_White_Admiral
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_ideas = SOV_mine_warfare_ns

			add_tech_bonus = {
				name = SOV_mine_warfare
				bonus = 1.0
				uses = 2
				category = naval_mines
			}

		}
	}

	focus = {
		id = SOV_Long_term_naval_construction_plan
		icon = GFX_focus_generic_navy_decision

		prerequisite = { focus = SOV_Underwater_attack }

		prerequisite = { focus = SOV_ocean_going_navy }

		prerequisite = { focus = SOV_Offshore_defense }

		x = 0
		y = 1
		relative_position_id = SOV_Underwater_attack
		cost = 5
		ai_will_do = {
			factor = 50
		}

		available = {

		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_timed_idea = {
				idea = SOV_the_young_school
				days = 730
			}

		}
	}

	focus = {
		id = SOV_Rebuilding_the_Baltic_Fleet
		icon = GFX_focus_generic_shipyard

		prerequisite = { focus = SOV_Navy_ashore }

		x = 2
		y = 1
		relative_position_id = SOV_Navy_ashore
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       195 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 10

			add_tech_bonus = {
				name = SOV_Rebuilding_the_Baltic_Fleet
				bonus = 1.0
				uses = 1
				category = cl_tech
			}

      195 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}

	focus = {
		id = SOV_Put_into_the_Black_Sea_Fleet
		icon = GFX_goal_generic_amphibious_assault

		prerequisite = { focus = SOV_Rebuilding_the_Baltic_Fleet }

		x = -1
		y = 1
		relative_position_id = SOV_Rebuilding_the_Baltic_Fleet
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       137 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_naval_invasion_capacity = 15 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_infantry_attack_factor = 0.05 }
			custom_effect_tooltip = SOV_Put_into_the_Black_Sea_Fleet_tt

			army_experience = 10

      add_tech_bonus = {
        name = SOV_Put_into_the_Black_Sea_Fleet
        bonus = 1.0
        uses = 1
        ahead_reduction = 1.0
        category = marine_tech
      }

      137 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}

	focus = {
		id = SOV_North_Sea_Escort
		icon = GFX_focus_SOV_north_sea_escort

		prerequisite = { focus = SOV_Rebuilding_the_Baltic_Fleet }

		x = 1
		y = 1
		relative_position_id = SOV_Rebuilding_the_Baltic_Fleet
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       213 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 10

			add_tech_bonus = {
				name = SOV_North_Sea_Escort
				bonus = 1.0
				uses = 1
				category = dd_tech
			}

      213 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}

	focus = {
		id = SOV_Conquer_the_East
		icon = GFX_focus_generic_cross_the_channel

		prerequisite = { focus = SOV_Put_into_the_Black_Sea_Fleet }

		prerequisite = { focus = SOV_North_Sea_Escort }
		x = 1
		y = 1
		relative_position_id = SOV_Put_into_the_Black_Sea_Fleet
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       408 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 20

			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 1.0
				uses = 2
				category = naval_air
			}

      408 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}


	focus = {
		id = SOV_finish_five_year_plan
		icon = GFX_focus_SOV_finish_five_year_plan

		x = 14
		y = 0
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 8
		ai_will_do = {
			factor = 2000
		}

		available = {
			or = {
				RUS = { exists = no }
				RUS = { is_puppet = yes }
				has_full_control_of_state = 563 
			}
		}

		available_if_capitulated = yes

		completion_reward = {

			unlock_decision_tooltip = RUS_Develop_Industry_In_Moscow
			unlock_decision_tooltip = RUS_Develop_Industry_In_Petersburg

			if = {
				limit = { 
					NOT = { has_global_flag = UKR_still_on_earth_flag }
				}
				unlock_decision_tooltip = RUS_Develop_Industry_In_Kharkov
				unlock_decision_tooltip = RUS_Develop_Industry_In_Donetsk
				unlock_decision_tooltip = RUS_Develop_Industry_In_Luhansk
				unlock_decision_tooltip = RUS_Develop_Industry_In_Kyiv
				unlock_decision_tooltip = RUS_Develop_Industry_In_Dnipro
			}

			add_stability = 0.15

			if = {
				limit = { 
					has_completed_focus = SOV_back_to_the_nep
				}
				add_ideas = new_economic_policy_2
			}

			if = {
				limit = { 
					has_global_flag = UKR_still_on_earth_flag
				}
				swap_ideas = {
					remove_idea = home_of_revolution
					add_idea = home_of_revolution_victory_butnoukr
				}
			}
			else = {
				swap_ideas = {
					remove_idea = home_of_revolution
					add_idea = home_of_revolution_victory
				}
			}

			SOV_increase_industrialization = yes

			add_tech_bonus = {
				name = rus_third_element
				bonus = 1.0
				uses = 3
				category = industry
			}

			add_timed_idea = {
				idea = SOV_five_year_plan_idea
				days = 1825
			}

			activate_mission_tooltip = SOV_Last_Five_Year_Plan

			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes

			if = {
				limit = {
					has_war = no
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = SOV_propaganda_peace
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}

		}
	}

	focus = {
		id = SOV_Open_more_arsenals
		icon = GFX_focus_SOV_tula

		prerequisite = { focus = SOV_finish_five_year_plan }

		x = -3
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 7
		ai_will_do = {
			factor = 2000
		}

    available = {
		  has_idea = SOV_Simplify_weapons_production_idea
    }

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Novgorod
			unlock_decision_tooltip = RUS_Develop_Industry_In_Pskov

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = artillery
			}	

      swap_ideas = {
        remove_idea = SOV_Simplify_weapons_production_idea
        add_idea = SOV_Simplify_weapons_production_idea_1
      }

			if = {
				limit = {
					195 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}	

				}
			}
			195 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

				}
			}
			if = {
				limit = {
					223 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}							

				}
			}
			223 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					399 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}							

				}
			}
			399 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Expansion_of_aircraft_manufacturingc
		icon = GFX_focus_SOV_increase_il2_production

		prerequisite = { focus = SOV_Open_more_arsenals }

		x = 0
		y = 1
		relative_position_id = SOV_Open_more_arsenals
		cost = 7
		ai_will_do = {
			factor = 2000
		}

    available = {
			has_completed_focus = SOV_Independent_automotive_industry
    }

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Ufa

      add_ideas = SOV_Expansion_of_aircraft_manufacturingc_idea

      add_tech_bonus = {
        name = SOV_Expansion_of_aircraft_manufacturingc
        bonus = 1.0
        uses = 1
        category = light_fighter
        category = cat_heavy_fighter
      }

      add_tech_bonus = {
        name = SOV_Expansion_of_aircraft_manufacturingc
        bonus = 1.0
        uses = 1
        category = cat_strategic_bomber
        category = tactical_bomber
      }

      add_tech_bonus = {
        name = SOV_Expansion_of_aircraft_manufacturingc
        bonus = 1.0
        uses = 1
        category = naval_bomber
        category = cas_bomber
      }

			if = {
				limit = {
					249 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			249 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					251 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			251 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Ural_armor_production
		icon = GFX_focus_SOV_Soviet_Bear_Awaken

		prerequisite = { focus = SOV_Expansion_of_aircraft_manufacturingc }

		x = 0
		y = 1
		relative_position_id = SOV_Expansion_of_aircraft_manufacturingc
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Perm
			unlock_decision_tooltip = RUS_Develop_Industry_In_Yekaterinburg

			add_tech_bonus = {
				name = SOV_Ural_armor_production
        bonus = 1.0
        uses = 1
				category = cat_heavy_armor
			}

			add_tech_bonus = {
				name = SOV_Ural_armor_production
        bonus = 1.0
        uses = 2
				category = cat_medium_armor
			}

      swap_ideas = {
        remove_idea = SOV_Expansion_of_aircraft_manufacturingc_idea
        add_idea = SOV_Ural_armor_production_idea
      }

			if = {
				limit = {
					572 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			572 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					217 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			217 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Support_the_zorgen_Institute
		icon = GFX_focus_research

		prerequisite = { focus = SOV_finish_five_year_plan }

		x = 0
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {

			add_research_slot = 1

			add_ideas = SOV_zorgen_Institute_idea

			add_tech_bonus = {
				name = SOV_Support_the_zorgen_Institute
				bonus = 1
				uses = 2
				category = synth_resources
			}

			if = {
				limit = {
					has_country_leader  = {
						ruling_only  = yes 
						character = SOV_makiri_zolgen
					}
				}
				add_tech_bonus = {
					name = SOV_Support_the_zorgen_Institute
					bonus = 1
					uses = 2
					category = synth_resources
				}
			}

		}
	}

	focus = {
		id = SOV_tranformation_of_nature
		icon = GFX_goal_generic_soviet_construction

		prerequisite = { focus = SOV_Support_the_zorgen_Institute }

		x = 1
		y = 1
		relative_position_id = SOV_Support_the_zorgen_Institute
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available = {
      has_full_control_of_state = 404
		}

		available_if_capitulated = yes

		completion_reward = {

			swap_ideas = {
				add_idea = SOV_transformation_of_nature
				remove_idea = SOV_zorgen_Institute_idea
			}

			if = {
				limit = {
					has_full_control_of_state = 223 #TULA
				}
				223 = { #TULA
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
				# Moscow - Tula
				build_railway = {
					path = { 6380 6414 9348 6290 6396 6262 }
				}
			}

			add_political_power = 120
			add_resource = {
				type = rubber
				amount = 20
				state = 404
			}

			add_tech_bonus = {
				name = SOV_Support_the_zorgen_Institute
				bonus = 1
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Magnitorsk_steel_mill
		icon = GFX_focus_SOV_magnitogorsk

		prerequisite = { focus = SOV_Support_the_zorgen_Institute }

		x = -1
		y = 1
		relative_position_id = SOV_Support_the_zorgen_Institute
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available = {
            has_full_control_of_state = 573
            has_full_control_of_state = 582
		}

		available_if_capitulated = yes

		completion_reward = {

			add_resource = {
				type = steel
				amount = 30
				state = 582
			}

			573 = {
				if = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}

				}
			}

			573 = {
				if = {
					limit = {
						has_completed_focus = SOV_Mobilize_the_rear_industrial_area
					}
					remove_dynamic_modifier = { modifier = industrial_area_Lv2 }
					add_dynamic_modifier = { modifier = industrial_area_Lv3 }
				}
				else = {
					add_dynamic_modifier = { modifier = industrial_area_Lv1 }
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}

			582 = {
				if = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 1
							include_locked = yes
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}

				}
			}

			582 = {
				if = {
					limit = {
						has_completed_focus = SOV_Mobilize_the_rear_industrial_area
					}
					remove_dynamic_modifier = { modifier = industrial_area_Lv2 }
					add_dynamic_modifier = { modifier = industrial_area_Lv3 }
				}
				else = {
					add_dynamic_modifier = { modifier = industrial_area_Lv1 }
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}

            SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Independent_automotive_industry
		icon = GFX_focus_generic_rubber

		prerequisite = { focus = SOV_Magnitorsk_steel_mill }

		prerequisite = { focus = SOV_tranformation_of_nature }

		x = 1
		y = 1
		relative_position_id = SOV_Magnitorsk_steel_mill
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Lerev
			unlock_decision_tooltip = RUS_Develop_Industry_In_Kazan

      add_ideas = SOV_Independent_automotive_industry_idea

			if = {
				limit = {
					252 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}							

				}
			}
			252 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					219 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}							

				}
			}
			219 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					217 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}							

				}
			}
			217 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Maintain_the_Trans_Siberian_Railway
		icon = GFX_focus_SOV_train_1

		prerequisite = { focus = SOV_finish_five_year_plan }

		x = 3
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 14
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {

			add_ideas = SOV_soviet_railways_idea

			# Moscow - Rostov on Don
			build_railway = {
				path = { 9330 3356 6279 6230 6398 6341 413 3527 11475 11412 6591 3540 3519 11459 11450 11434 9417 }
			}
			# Stalingrad-Rostov on Don
			build_railway = {
				path = { 3529 9504 533 9516 509 500 11459 } #(Stalingrad - Conjunction near Millerovo)
			}
			# Stalingrad-Mikhaylovka 
			build_railway = {
				path = { 9504 3582 9436 11485 3539 9564 11408 } #(Conjunction right next to Stalingrad - Conjunction in West Saratov)
			}
			# Stalingrad - Astrakhan
			build_railway = {
				path = { 3529 11474 520 6516 6486 9455 11429 6620 9753 }
			}
			# Tbilisi - Yerevan
			build_railway = {
				path = { 1599 9702 12441 3564 12320 }
			}

			#Supply Hub in Yerevan
			230 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12320
					instant_build = yes
				}
			}
			#Supply Hub in Kandalaksha
			213 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6181
					instant_build = yes
				}
			}

			unlock_decision_tooltip = RUS_Develop_Industry_In_Omsk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Novo_Nikolayevsk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Krasnoyarsk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Irkutsk

			custom_effect_tooltip = SOV_Maintain_the_Trans_Siberian_Railway_tt
			hidden_effect = {

				if = {
					limit = {
						has_full_control_of_state = 219
					}
					219 = { # Moscow
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 248
					}
					248 = { # Yaroslavl
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 351
					}
					351 = { # Vologda
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 400
					}
					400 = { # Kirov
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 398
					}
					398 = { # Perm
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 573
					}
					573 = { # Kirov
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 653
					}
					653 = { # Perm
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 403
					}
					403 = { # Kirov
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 571
					}
					571 = { # Kirov
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 570
					}
					570 = { # Novosibirsk
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 569
					}
					569 = { # Kemerovo
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 568
					}
					568 = { # Krasnoyarsk
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 567
					}
					567 = { # Bratsk
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 566
					}
					566 = { # Irkutsk
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 564
					}
					564 = { # Ulan Ude
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 563
					}
					563 = { # Chita
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 561
					}
					561 = { # Amur
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 657
					}
					657 = { # Biribidzhan
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 409
					}
					409 = { # Khabarovsk
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 1
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 408
					}
					408 = { # Vladivostok
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

			}

		}
	}

	focus = {
		id = SOV_Achieve_all_Russian_electrification
		icon = GFX_focus_SOV_Achieve_all_Russian_electrification

		prerequisite = { focus = SOV_Maintain_the_Trans_Siberian_Railway }

		x = 0
		y = 1
		relative_position_id = SOV_Maintain_the_Trans_Siberian_Railway
		cost = 14
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Kursk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Yaroslavl
			unlock_decision_tooltip = RUS_Develop_Industry_In_Tsaritsyn

			if = {
				limit = { 
					has_global_flag = UKR_still_on_earth_flag
				}
			    add_stability = 0.1
			}
			else = {
			    add_stability = 0.15
			}

			if = {
				limit = {
					570 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			570 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					206 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			206 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					202 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			202 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					137 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			137 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					566 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			566 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					229 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			229 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					582 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			582 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					408 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			408 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_closed_city_network
		icon = GFX_focus_research

		prerequisite = { focus = SOV_Achieve_all_Russian_electrification }

		x = 0
		y = 1
		relative_position_id = SOV_Achieve_all_Russian_electrification
		cost = 5
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Chelyabinsk

			add_research_slot = 1

		}
	}

	focus = {
		id = SOV_Soviet_industrial_power
		icon = GFX_focus_SOV_massive_production
		prerequisite = { focus = SOV_Ural_armor_production }

		prerequisite = { focus = SOV_Independent_automotive_industry }

		prerequisite = { focus = SOV_closed_city_network }

		x = 0
		y = 1
		relative_position_id = SOV_Independent_automotive_industry
		cost = 10
		ai_will_do = {
			factor = 2000
		}

		available = {
			is_puppet = no
			has_idea = SOV_Simplify_weapons_production_idea_1	
			has_idea = SOV_New_structure_of_artillery_idea	
			has_idea = SOV_Independent_automotive_industry_idea	
			has_idea = SOV_Ural_armor_production_idea
			has_idea = SOV_transformation_of_nature	
			has_idea = SOV_soviet_railways_idea
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1

			remove_ideas = SOV_Simplify_weapons_production_idea_1
			remove_ideas = SOV_New_structure_of_artillery_idea
			remove_ideas = SOV_Independent_automotive_industry_idea
			remove_ideas = SOV_Ural_armor_production_idea
			remove_ideas = SOV_transformation_of_nature
			remove_ideas = SOV_soviet_railways_idea

			add_ideas = SOV_Soviet_industrial_power_idea
			#Build Railways in Caucasus
			if = {
				limit = {
					has_full_control_of_state = 229 #BAKU
					has_full_control_of_state = 230 #ARMENIA
					has_full_control_of_state = 231 #GEORGIA
				}
				# Baku - Tbilisi
				build_railway = {
					path = { 7661 1536 4614 4477 11645 11674 1539 11708 1599 }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 232 #DAGESTAN
					has_full_control_of_state = 821 #CHECHNYA-INGUSHETIA
				}
				# Makhachkala (Hub province) - Grozny
				build_railway = {
					path = { 3668 3682 3672 }
				}
			}
		}
	}

	focus = {
		id = SOV_borodino
		icon = GFX_focus_SOV_nuclear
		prerequisite = { focus = SOV_Soviet_industrial_power }
		available = {

		}
		x = -2
		y = 1
		relative_position_id = SOV_Soviet_industrial_power
		cost = 5

    available = {
      has_tech = improved_computing_machine
    }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 5
				has_war = yes
			}
		}


		completion_reward = {
			add_tech_bonus = {
				name = SOV_borodino
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	focus = {
		id = SOV_leningrad_institute
			icon = GFX_focus_SOV_leningrad_institute
			prerequisite = { focus = SOV_Soviet_industrial_power }
			continue_if_invalid = yes
			available_if_capitulated = yes
			x = 0
			y = 1
			relative_position_id = SOV_Soviet_industrial_power
			cost = 5

			ai_will_do = {
				factor = 200
			}

			completion_reward = {
				add_tech_bonus = {
					name = SOV_leningrad_institute
					category = electronics
					uses = 3
					bonus = 1
				}
			}
		}

	focus = {
		id = SOV_rockets
		icon = GFX_focus_SOV_rockets_2
		prerequisite = { focus = SOV_Soviet_industrial_power }
		x = 2
		y = 1
		relative_position_id = SOV_Soviet_industrial_power
		cost = 10
		ai_will_do = {
			factor = 1
		}

    available = {
      has_tech = improved_computing_machine
    }

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = SOV_rockets
				bonus = 1
				uses = 2
				technology = experimental_rockets
				technology = rocket_engines
				technology = improved_rocket_engines
				technology = advanced_rocket_engines
			}
      add_tech_bonus = {
        name = SOV_rockets
        bonus = 1
        uses = 1
        category = jet_technology
      }
		}
	}

	focus = {
		id = SOV_send_military_advisors_to_spain
		icon = GFX_focus_intervention_spain_republic


		x = -1
		y = 4
		relative_position_id = SOV_Soviet_industrial_power

		cost = 5

		ai_will_do = {
			factor = 1500
		}
		
		available = {
			has_civil_war = no
			has_completed_focus = SOV_finish_five_year_plan
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = { has_global_flag = spanish_civil_war }
					}
					custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_country_exist_tt
					    country_exists = SPR
				    }
				    custom_trigger_tooltip = {
					    tooltip = POR_spr_tooltip_at_peace_tt
						NOT = { has_war_with = SPR }
				    }
				}
				else = {
					if = {
						limit = {
							has_completed_focus = SOV_covert_support_for_spanish_poum
						}
						country_exists = SPC
						NOT = { has_war_with = SPC }
					}
					else = {
						country_exists = SPD
						NOT = { has_war_with = SPD }
					}
				}
			}
			else = {
				any_other_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = { has_war_with = ROOT }
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
			has_government = communism
			is_subject = no
		}

		bypass = {
			or = {
				has_global_flag = scw_over
				GER = { 
					has_war = yes 
					any_enemy_country = {
						is_major = yes
					}
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = { idea = SOV_military_advisors_in_spain days = 1095 }
			
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_completed_focus = SOV_covert_support_for_spanish_poum
					has_completed_focus = SOV_coup_detat
					has_global_flag = SPR_anarchist_uprising_flag
					country_exists = SPC
					SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
				}
				SPC = {
					hidden_effect = { country_event = { id = NSB_soviet_foreign_politics_events.20 hours = 2 random_hours = 1 } }
					effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					country_exists = SPD
				}
				SPD = {
					hidden_effect = { country_event = { id = NSB_soviet_foreign_politics_events.20 hours = 2 random_hours = 1 } }
					effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = { country_exists = SPD }
				}
				custom_effect_tooltip = SOV_aid_republican_spain_tt
				effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
			}
			else = {
				random_country = {
					limit = {
						original_tag = SPR
						has_civil_war = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					hidden_effect = { country_event = { id = NSB_soviet_foreign_politics_events.20 hours = 2 random_hours = 1 } }
					effect_tooltip = { add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 } }
				}
			}
			# A Spanish General will join the USSR if his side loses the SCW
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = SOV_send_military_advisors_to_spain_generals_tt
				set_country_flag = SOV_spanish_refugee_generals_welcome_flag
			}
		}
	}

	focus = {
		id = SOV_the_gobi_gambit
		icon = GFX_focus_generic_befriend_sinkiang

		x = 1
		y = 4
		relative_position_id = SOV_Soviet_industrial_power
		cost = 5

		ai_will_do = {
			factor = 1500
		}

		available = {
			has_completed_focus = SOV_finish_five_year_plan
			#SOV controls the states in which railway lines will be built
			controls_state = 405 #TASHKENT
			controls_state = 404 #KYZYL ORDA
			controls_state = 732 #PAMIR
			controls_state = 586 #ALMA-ATA

			OR = {
				AND = { #Relevant states under Soviet control
					controls_state = 617 #URUMQI
					controls_state = 618 #DZUNGARIA
				}
				SIK = { #Relevant states under Sinkiang control
					NOT = { has_war_with = ROOT }
					controls_state = 617 #URUMQI
					controls_state = 618 #DZUNGARIA
				}
			}

			is_subject = no
		}

		bypass = {
			SIK = {
				OR = {
					exists = no
					is_subject = yes
					has_war_with = ROOT
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			hidden_effect = { #Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = { #This is added in Gobi Gambit + all 3 investment decisions
						type = alliance
						id = SOV		
						value = 4
					}
				}
			}
			if = { #If SOV controls the relevant states (for whatever weird reason -.-), then insta-build
				limit = {
					controls_state = 617 #URUMQI
					controls_state = 618 #DZUNGARIA
				}
				# Tashkent - Frunze - Alma-Ata - Urumqi
				build_railway = {
					path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 10547 10619 12529 7866 1783 10674 4709 } #1840 12526 4770 4709
				}
				#Supply Hub in Alma-Ata
				586 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 1591
						instant_build = yes
					}
				}
				custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
			}
			else = { #If SIK in control of them
				SIK = { country_event = { id = NSB_soviet_foreign_politics_events.270 hours = 6 random_hours = 6 } }
				# IF THEY ACCEPT
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_complied_with_our_demands
					}
					
					# Tashkent - Frunze - Alma-Ata - Urumqi
					build_railway = {
						path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 10547 10619 12529 7866 1783 10674 4709 }
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
					custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
				}
				# IF THEY REFUSE
				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_rejected_our_demands
					}
					# Tashkent - Frunze - Alma-Ata
					build_railway = {
						path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 }
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
				}
			}
			custom_effect_tooltip = SOV_volunteers_allowed_sinkiang_tt
		}
	}

	focus = {
		id = SOV_Chances_of_the_Europa_War
		icon = GFX_goal_molotov_ribbentrop_pact

		prerequisite = { focus = SOV_send_military_advisors_to_spain }

		x = -1
		y = 1
		relative_position_id = SOV_send_military_advisors_to_spain
		cost = 5
		ai_will_do = {
			factor = 2000
		}

		available = {
			country_exists = GER
			GER = { 
				has_war = yes 
				any_enemy_country = {
					is_major = yes
				}
			}
			GER = { SOV_is_valid_subject = yes }
			NOT = { has_war_with = GER }
			is_subject = no

			NOT = { has_global_flag = UKR_still_on_earth_flag }
		}

		bypass = {
			GER = {
				OR = {
					exists = no
					is_subject = yes
					has_war_with = ROOT
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {

			country_event = more_soviet_dlc.20

		}
	}

	focus = {
		id = SOV_Update_Assault_Gear

		icon = GFX_goal_generic_production2
		prerequisite = { 
			focus = SOV_Chances_of_the_Europa_War 
			focus = SOV_found_the_pcdi 
		}
		
		x = -1
		y = 1
		relative_position_id = SOV_Chances_of_the_Europa_War
		cost = 5

		ai_will_do = {
			factor = 1000
		}

		available = {
			has_war = no
			has_full_control_of_state = 219 #MOSCOW
		}

		bypass = {
			has_war = yes
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = SOV_Update_Assault_Gear_idea
			
			219 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_found_the_pcdi

		icon = GFX_goal_generic_defence
		prerequisite = { focus = SOV_send_military_advisors_to_spain focus = SOV_the_gobi_gambit }
		x = 1
		y = 1
		relative_position_id = SOV_send_military_advisors_to_spain
		cost = 5

		ai_will_do = {
			factor = 1000
		}

		available = {
			OR = {
				has_global_flag = UKR_still_on_earth_flag

				custom_trigger_tooltip = {
					tooltip = SOV_has_not_lacking_industrialization_tt
					NOT = { has_idea = SOV_lacking_industrialization_1 }			
					NOT = { has_idea = SOV_lacking_industrialization_2 }			
					NOT = { has_idea = SOV_lacking_industrialization_3 }			
					NOT = { has_idea = SOV_lacking_industrialization_4 }			
					NOT = { has_idea = SOV_lacking_industrialization_5 }			
					NOT = { has_idea = SOV_lacking_industrialization_6 }			
					NOT = { has_idea = SOV_lacking_industrialization_7 }			
					NOT = { has_idea = SOV_lacking_industrialization_8 }				
				}
				custom_trigger_tooltip = {
					tooltip = SOV_has_not_officers_purged_tt
					NOT = { has_idea = officers_purged }			
					NOT = { has_idea = officers_purged_2 }			
					NOT = { has_idea = officers_purged_3 }			
					NOT = { has_idea = officers_purged_4 }			
					NOT = { has_idea = officers_purged_5 }			
					NOT = { has_idea = officers_purged_6 }			
					NOT = { has_idea = officers_purged_7 }			
					NOT = { has_idea = officers_purged_8 }			
					NOT = { has_idea = officers_purged_9 }			
					NOT = { has_idea = officers_purged_10 }			
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			hidden_effect = {
				add_dynamic_modifier = { modifier = HOF_SOV_defense_industry_dynamic_modifier }
			}
			custom_effect_tooltip = SOV_found_the_pcdi_ns_tt

			add_tech_bonus = {
				name = SOV_Improve_industrialization
				bonus = 0.5
				uses = 1
				category = industry
			}

		}
	}


	focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = SOV_the_gobi_gambit }
		x = 1
		y = 1
		relative_position_id = SOV_the_gobi_gambit
		cost = 5

		ai_will_do = {
			factor = 1000
		}

		available = {
			OR = {
				has_full_control_of_state = 563
				has_full_control_of_state = 819
				MON = {
					is_in_faction_with = ROOT
					has_full_control_of_state = 819
				}
				MON = {
					is_in_faction_with = ROOT
					has_full_control_of_state = 817
				}
			}
		}

		bypass = {
			NOT = {
				has_full_control_of_state = 563
				has_full_control_of_state = 819
				MON = {
					is_in_faction_with = ROOT
					has_full_control_of_state = 819
				}
				MON = {
					is_in_faction_with = ROOT
					has_full_control_of_state = 817
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			563 = { #CHITA
				if = {
					limit = { 
					    is_fully_controlled_by = ROOT 
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 10681
							id = 4832
							id = 10559
							id = 12622
							id = 4719
						}
						instant_build = yes
					}
				}
			}
			819 = { #
				if = {
					limit = { 
						or = { 
							is_fully_controlled_by = ROOT 
							AND = { 
								is_fully_controlled_by = MON
								MON = {  is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 4792
							id = 12557
							id = 12629
							id = 4873
						}
						instant_build = yes
					}
				}
			}
			817 = { #
				if = {
					limit = { 
						or = { 
							is_fully_controlled_by = ROOT 
							AND = { 
								is_fully_controlled_by = MON
								MON = {  is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 10575
							id = 4655
							id = 1723
							id = 1853
						}
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_military_engineering_university
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SOV_far_east_fortification focus = SOV_found_the_pcdi }

		x = 1
		y = 1
		relative_position_id = SOV_far_east_fortification
		cost = 5

		ai_will_do = {
			factor = 1500
		}

		available = {

		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { HOF_SOV_defense_industry_dynamic_production_speed_coastal_bunker_factor = 0.05 }
			add_to_variable = { HOF_SOV_defense_industry_dynamic_production_speed_bunker_factor = 0.05 }
			add_to_variable = { HOF_SOV_defense_industry_dynamic_max_dig_in_factor = 0.05 }

			custom_effect_tooltip = SOV_military_engineering_university_ns_tt


			custom_effect_tooltip = SOV_military_engineering_university_bunk_tt

			unlock_decision_tooltip = SOV_Eastern_Front_bunk_LIT_decision
			unlock_decision_tooltip = SOV_Eastern_Front_bunk_POL_decision
			unlock_decision_tooltip = SOV_Eastern_Front_bunk_ROM_decision
			unlock_decision_tooltip = SOV_improve_the_Frunze_line_decision
			unlock_decision_tooltip = SOV_impregnable_forts_decision
			unlock_decision_tooltip = SOV_protect_the_white_sea_baltic_canal_decision

		}
	}

	focus = {
		id = SOV_Export_revolution
		icon = GFX_focus_ger_great_red_menace

		prerequisite = { focus = SOV_found_the_pcdi }

		will_lead_to_war_with = UKR

		mutually_exclusive = {
			focus = SOV_Expansionism
		}

		x = -1
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 5
		ai_will_do = {
			factor = 2000
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}

			OR = {
				AND = {
					has_army_manpower = { size > 999999 }
					date > 1939.1.1
					has_global_flag = UKR_still_on_earth_flag
				}
				AND = {
					has_army_manpower = { size > 1499999 }
					or = {
						threat > 0.9
						date > 1940.1.1
					}
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_lacking_industrialization_tt
						NOT = { has_idea = SOV_lacking_industrialization_1 }			
						NOT = { has_idea = SOV_lacking_industrialization_2 }			
						NOT = { has_idea = SOV_lacking_industrialization_3 }			
						NOT = { has_idea = SOV_lacking_industrialization_4 }			
						NOT = { has_idea = SOV_lacking_industrialization_5 }			
						NOT = { has_idea = SOV_lacking_industrialization_6 }			
						NOT = { has_idea = SOV_lacking_industrialization_7 }			
						NOT = { has_idea = SOV_lacking_industrialization_8 }				
					}
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_officers_purged_tt
						NOT = { has_idea = officers_purged }			
						NOT = { has_idea = officers_purged_2 }			
						NOT = { has_idea = officers_purged_3 }			
						NOT = { has_idea = officers_purged_4 }			
						NOT = { has_idea = officers_purged_5 }			
						NOT = { has_idea = officers_purged_6 }			
						NOT = { has_idea = officers_purged_7 }			
						NOT = { has_idea = officers_purged_8 }			
						NOT = { has_idea = officers_purged_9 }			
						NOT = { has_idea = officers_purged_10 }			
					}
				}
			}

		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			if = {
				limit = {
					country_exists = UKR
					UKR = { is_subject = no }
					NOT = { is_in_faction_with = UKR }
				}

				add_political_power = 150

				add_war_support = 0.1

				add_ai_strategy = {
					type = antagonize
					id = "UKR"
					value = 5000
				}

				declare_war_on = {
					target = UKR
					type = annex_everything
				}

				every_other_country = {
					limit = {
						NOT = { TAG = UKR }
						is_neighbor_of = ROOT
						NOT = { has_war_with = ROOT }
						or = {
							is_in_faction_with = UKR
							is_subject_of = UKR
						}
					}
					ROOT = {
						declare_war_on = {
							target = PREV
							type = puppet_wargoal_focus
						}
					}
				}

			}

			add_named_threat = { threat = 20 name = SOV_Export_revolution }

			if = {
				limit = { has_idea = SOV_Focus_on_the_inside_idea }
				remove_ideas = SOV_Focus_on_the_inside_idea
			}

			if = {
				limit = { is_in_faction_with = MON }
				MON = { remove_ideas = SOV_Focus_on_the_inside_idea }
			}

			if = {
				limit = { 
					OR = { 
						is_in_faction_with = SIK 
						SIK = { is_guaranteed_by = SOV }
					}
				}
				SIK = { remove_ideas = SOV_Focus_on_the_inside_idea }
			}

			#add_ideas = SOV_World_revolution_idea
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_attack_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_speed_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_resistance_damage_to_garrison = -0.2 }
			custom_effect_tooltip = SOV_World_revolution_tt_2

			every_state = {
				limit = {
					NOT = { is_core_of = ROOT }
					OR = {
						is_on_continent = europe
						is_on_continent = asia
					}
				}
				add_claim_by = ROOT
			}

			every_country = {
				limit = {
					or = {
						is_major = yes
						is_neighbor_of = SOV
					}
					or = {
						NOT = { has_government = communism }
						NOT = { is_in_faction_with = SOV }
					}
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = 200
				}
				ROOT = {
					add_ai_strategy = {
						type = antagonize
						id = PREV
						value = 200
					}
				}
				add_opinion_modifier = { modifier = embargo target = ROOT}
				reverse_add_opinion_modifier = { modifier = embargo target = ROOT}
				add_opinion_modifier = { modifier = Proclaim_world_revolution target = ROOT}
				reverse_add_opinion_modifier = { modifier = Proclaim_world_revolution target = ROOT}
			}

			custom_effect_tooltip = SOV_Export_revolution_tt

		}
	}

	focus = {
		id = SOV_Expansionism
		icon = GFX_focus_SOV_Expansionism

		prerequisite = { focus = SOV_found_the_pcdi }

		will_lead_to_war_with = UKR

		mutually_exclusive = {
			focus = SOV_Export_revolution
		}

		x = 1
		y = 1
		relative_position_id = SOV_found_the_pcdi
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				date > 1942.1.1
				factor = 20
			}
			modifier = {
				or = {
					GER = { surrender_progress > 0.3 }
					GER = { casualties > 1500000 }
					AND = {
						GER = { has_war_with = FRA }
						FRA = { is_subject = no }
						FRA = { surrender_progress < 0.5 }
					}
				}
				factor = 100
			}
		}

		available = {
			NOT = {
				has_country_leader  = {
					ruling_only  = yes 
					character = SOV_lev_trotsky
				}
			}

			OR = {
				AND = {
					has_army_manpower = { size > 999999 }
					date > 1939.1.1
					has_global_flag = UKR_still_on_earth_flag
				}
				AND = {
					has_army_manpower = { size > 1499999 }
					date > 1940.1.1
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_lacking_industrialization_tt
						NOT = { has_idea = SOV_lacking_industrialization_1 }			
						NOT = { has_idea = SOV_lacking_industrialization_2 }			
						NOT = { has_idea = SOV_lacking_industrialization_3 }			
						NOT = { has_idea = SOV_lacking_industrialization_4 }			
						NOT = { has_idea = SOV_lacking_industrialization_5 }			
						NOT = { has_idea = SOV_lacking_industrialization_6 }			
						NOT = { has_idea = SOV_lacking_industrialization_7 }			
						NOT = { has_idea = SOV_lacking_industrialization_8 }				
					}
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_officers_purged_tt
						NOT = { has_idea = officers_purged }			
						NOT = { has_idea = officers_purged_2 }			
						NOT = { has_idea = officers_purged_3 }			
						NOT = { has_idea = officers_purged_4 }			
						NOT = { has_idea = officers_purged_5 }			
						NOT = { has_idea = officers_purged_6 }			
						NOT = { has_idea = officers_purged_7 }			
						NOT = { has_idea = officers_purged_8 }			
						NOT = { has_idea = officers_purged_9 }			
						NOT = { has_idea = officers_purged_10 }			
					}
				}
			}

		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			if = {
				limit = {
					country_exists = UKR
					UKR = { is_subject = no }
					NOT = { is_in_faction_with = UKR }
				}

				add_political_power = 150

				add_war_support = 0.1

				add_ai_strategy = {
					type = antagonize
					id = "UKR"
					value = 5000
				}

				declare_war_on = {
					target = UKR
					type = annex_everything
				}

				every_other_country = {
					limit = {
						NOT = { TAG = UKR }
						is_neighbor_of = ROOT
						NOT = { has_war_with = ROOT }
						or = {
							is_in_faction_with = UKR
							is_subject_of = UKR
						}
					}
					ROOT = {
						declare_war_on = {
							target = PREV
							type = puppet_wargoal_focus
						}
					}
				}

			}

		    add_named_threat = { threat = 10 name = SOV_Expansionism }

			if = {
				limit = { has_idea = SOV_Focus_on_the_inside_idea }
				remove_ideas = SOV_Focus_on_the_inside_idea
			}

			if = {
				limit = { is_in_faction_with = MON }
				MON = { remove_ideas = SOV_Focus_on_the_inside_idea }
			}

			if = {
				limit = { 
					OR = { 
						is_in_faction_with = SIK 
						SIK = { is_guaranteed_by = SOV }
					}
				}
				SIK = { remove_ideas = SOV_Focus_on_the_inside_idea }
			}

			add_ideas = SOV_Expansionism_idea

			every_state = {
				limit = {
					is_core_of = UKR
					NOT = { is_core_of = ROOT }
					NOT = { is_fully_controlled_by = ROOT }
					NOT = {
						state = 93
						state = 91
						state = 89
						state = 73
						state = 80
						state = 766
					}
				}
				add_claim_by = ROOT
			}

            custom_effect_tooltip = SOV_Expansionism_tt

		}
	}

	focus = {
		id = SOV_found_the_comecon

		icon = GFX_focus_SOV_the_comecon
		prerequisite = { 
			focus = SOV_Export_revolution 
			focus = SOV_Expansionism 
		}
		x = 1
		y = 1
		relative_position_id = SOV_Export_revolution
		cost = 5

		ai_will_do = {
			factor = 1500
		}

		# allow_branch = {
		# 	has_government = communism
		# }

		available = {
			num_subjects > 0
			64 = {
				CONTROLLER = {
					OR = {
						original_tag = SOV
						is_subject_of = SOV
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			if = {
				limit = {
					has_war = no
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = SOV_propaganda_rebuild_to_glory
				unlock_decision_tooltip = SOV_propaganda_happy_life
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}

			if = {
				limit = {
					num_subjects > 0
				}
				add_ideas = SOV_comecon_sov_default
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = SOV_comecon_puppet_default
				}

				custom_effect_tooltip = SOV_found_the_comecon_program_tt
				hidden_effect = {
					add_to_tech_sharing_group = SOV_comecon
					every_country = {
						limit = {
							is_subject_of = ROOT
						}
						add_to_tech_sharing_group = SOV_comecon
					}
				}
			}
			else = { #Early tooltip for when Soviets have no subjects
				effect_tooltip = {
					add_ideas = SOV_comecon_sov_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				effect_tooltip = {
					add_ideas = SOV_comecon_puppet_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_program_tt
			}

			unlock_decision_category_tooltip = SOV_comecon_dec_cat
		}
	}

	focus = {
		id = SOV_great_patriotic_war

		icon = GFX_focus_SOV_protect_our_fatherland

		x = 0
		y = 2
		relative_position_id = SOV_found_the_comecon
		cost = 3

		ai_will_do = {
			factor = 3000
		}

		available = {
            is_subject = no
			has_war = yes
			any_enemy_country = {
				is_major = yes
				NOT = { tag = RUS }
			}
			or = {
				AND = {
					or = {
						AND = {
							has_war_with = UKR
							UKR = { is_in_faction = yes }
						}
						surrender_progress > 0
					}
					has_global_flag = UKR_still_on_earth_flag
				}
				surrender_progress > 0.10
				casualties > 1000000
			}
			has_completed_focus = SOV_finish_five_year_plan
		}
		
		search_filters = {}

		completion_reward = {

            set_country_flag = SOV_great_patriotic_war_start_flag

			SOV_increase_industrialization = yes

			if = {
				limit = { has_idea = SOV_Focus_on_the_inside_idea }
				remove_ideas = SOV_Focus_on_the_inside_idea
			}

			if = {
				limit = {
					has_idea = limited_conscription
				}
				add_ideas = extensive_conscription
			}

			if = {
				limit = {
					OR = {
						has_idea = free_trade
						has_idea = export_focus
					}
				}
				add_ideas = limited_exports
			}

			if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				add_political_power = 150
			}
			else = {
				add_ideas = tot_economic_mobilisation
			}


			add_ideas = SOV_great_patriotic_war

			add_timed_idea = {
				idea = SOV_desperate_measures_ns
				days = 365
			}

			custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
			SOV_unlock_propaganda_campaign_slot_effect = yes

		}

	}

	focus = {
		id = SOV_move_industry_to_the_urals
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = SOV_great_patriotic_war }
		x = -4
		y = 1
		relative_position_id = SOV_great_patriotic_war
		cost = 1

		ai_will_do = {
			factor = 3000
		}

		available = {
			has_full_control_of_state = 219 #MOSCOW
			OR = {
				has_equipment = { train_equipment > 119 } #20 trains per factory
				is_ai = yes
			}
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
				capital_scope = {
					is_on_continent = europe
				}
			}
		}

		bypass = {
			NOT = { has_full_control_of_state = 219 }
		}

		select_effect = {
			if = {
				limit = { is_ai = yes }
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = 150
					producer = SOV
				}
			}
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = SOV_industrial_relocation_trains_focus_negative
				producer = SOV
			}
			#Factories are removed immediately to keep consistency with how decisions work
			219 = { #Moscow
				remove_building = {
					type = arms_factory
					level = 1
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 195
				}
				195 = { #Leningrad
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 202
				}
				202 = { #Kiev
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_focus
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				219 = { #Moscow
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 195
					}
					195 = { #Leningrad
						remove_building = {
							type = arms_factory
							level = 1
						}
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
				}
				if = {
					limit = {
						has_full_control_of_state = 202
					}
					202 = { #Kiev
						remove_building = {
							type = arms_factory
							level = 1
						}
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
				}
			}
			custom_effect_tooltip = SOV_move_industry_to_the_urals_trains_tt

			custom_effect_tooltip = SOV_focus_complete_effect_tt
			unlock_decision_category_tooltip = SOV_industry_relocation

			random_controlled_state = {
				limit = {
					SOV_is_industrial_relocation_destiny_state = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			
				hidden_effect = {
					damage_building = { type = arms_factory damage = 0.5 }
					damage_building = { type = industrial_complex damage = 0.5 }
				}
			}
			if = {
				limit = {
					ROOT = { has_full_control_of_state = 195 } #Leningrad
				}
				random_controlled_state = { #Different State please thanks
					limit = {
						NOT = { state = PREV }
						SOV_is_industrial_relocation_destiny_state = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				
					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.5 }
						damage_building = { type = industrial_complex damage = 0.5 }
					}
				}
			}
			if = {
				limit = {
					ROOT = { has_full_control_of_state = 202 } #Leningrad
				}
				random_controlled_state = { #Different State please thanks
					limit = {
						NOT = { state = PREV }
						SOV_is_industrial_relocation_destiny_state = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				
					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.5 }
						damage_building = { type = industrial_complex damage = 0.5 }
					}
				}
			}
			custom_effect_tooltip = SOV_relocate_industry_repair_tt
		}

	}

	focus = {
		id = SOV_Mobilize_the_rear_industrial_area
		icon = GFX_focus_generic_ITA_urban
		prerequisite = { focus = SOV_move_industry_to_the_urals }
		x = -2
		y = 1
		relative_position_id = SOV_move_industry_to_the_urals
		cost = 10

		ai_will_do = {
			factor = 3000
		}

		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
            has_full_control_of_state = 249 #发达乡村
            has_full_control_of_state = 251 #发达乡村
            has_full_control_of_state = 651 #城镇
            has_full_control_of_state = 582 #乡村
            has_full_control_of_state = 573
            has_full_control_of_state = 572 #发达乡村

		}
		search_filters = {}

		completion_reward = {

			SOV_increase_industrialization = yes

			if = {
				limit = {
				    has_idea = SOV_great_patriotic_war
				}
				swap_ideas = {
					remove_idea = SOV_great_patriotic_war
					add_idea = SOV_great_patriotic_war_3
				}
			}

			249 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					} 
				}
			}

			249 = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 3
						}
					}
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
					} 
				}
			}

			249 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				} 
			}

			249 = {
				add_dynamic_modifier = { modifier = industrial_area_Lv1 }
				set_state_category = town
			}

			251 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					} 
				}
			}

			251 = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 3
						}
					}
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
					} 
				}
			}

			251 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				} 
			}

			251 = {
				add_dynamic_modifier = { modifier = industrial_area_Lv1 }
				set_state_category = town
			}

			651 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					} 
				}
			}

			582 = {
				if = {
					limit = {
						has_completed_focus = SOV_Magnitorsk_steel_mill
					}
					remove_dynamic_modifier = { modifier = industrial_area_Lv1 }
					add_dynamic_modifier = { modifier = industrial_area_Lv3 }
				}
				else = {
					add_dynamic_modifier = { modifier = industrial_area_Lv2 }
				}
				set_state_category = town
				add_extra_state_shared_building_slots = 8
			}

			573 = {
				if = {
					limit = {
						has_completed_focus = SOV_Magnitorsk_steel_mill
					}
					remove_dynamic_modifier = { modifier = industrial_area_Lv1 }
					add_dynamic_modifier = { modifier = industrial_area_Lv3 }
				}
				else = {
					add_dynamic_modifier = { modifier = industrial_area_Lv2 }
				}
				set_state_category = town
				add_extra_state_shared_building_slots = 8
			}

			572 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					} 
				}
			}

			572 = {
				add_dynamic_modifier = { modifier = industrial_area_Lv3 }
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 8
					instant_build = yes
				}
				set_state_category = city
			}

		}

	}

	focus = {
		id = SOV_Extreme_mobilization
		icon = GFX_focus_generic_economic_control
		prerequisite = { focus = SOV_Mobilize_the_rear_industrial_area }
		x = 0
		y = 1
		relative_position_id = SOV_Mobilize_the_rear_industrial_area
		cost = 5

		ai_will_do = {
			factor = 3000
		}

		available = {
			NOT = { has_completed_focus = SOV_Humane_communism }
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			has_idea = tot_economic_mobilisation
		}
		search_filters = {}

		completion_reward = {

            add_ideas = SOV_Extreme_mobilization_idea

		}

	}

	focus = {
		id = SOV_Simplify_production
		icon = GFX_focus_generic_military_equipment
		prerequisite = { focus = SOV_move_industry_to_the_urals }
		x = 0
		y = 1
		relative_position_id = SOV_move_industry_to_the_urals
		cost = 5

		ai_will_do = {
			factor = 2000
		}

		available = {
			has_war = yes
		}
		search_filters = {}

		completion_reward = {
			set_country_flag = SOV_Simplify_production_flag

			add_ideas = SOV_Army_equipment_simplifies_production_idea

			add_ideas = SOV_Armor_quality_declines_idea
		}

	}
	focus = {
		id = SOV_pc_of_mechanical_engineering
		icon = GFX_focus_generic_manage_industries
		prerequisite = { focus = SOV_Simplify_production }
		x = 0
		y = 1
		relative_position_id = SOV_Simplify_production
		cost = 5

		ai_will_do = {
			factor = 2000
		}

		available = {

		}
		search_filters = {}

		completion_reward = {
			add_to_variable = { HOF_SOV_defense_industry_dynamic_production_factory_max_efficiency_factor = 0.05 }
			add_to_variable = { HOF_SOV_defense_industry_dynamic_production_factory_efficiency_gain_factor = -0.05 }

			custom_effect_tooltip = SOV_pc_of_mechanical_engineering_ns_tt


			add_tech_bonus = {
				name = SOV_pc_of_mechanical_engineering_name_default
				bonus = 1
				uses = 2
				category = industry
				category = motorized_equipment
				category = infantry_weapons
			}

			if = { #DEFAULT COMMIE
				limit = {
					has_full_control_of_state = 219
				}
				219 = {
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}

		}

	}

	focus = {
		id = SOV_pc_of_mortar_armament

		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = 0
		y = 1
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 5

		available = {
			has_completed_focus = SOV_found_the_pcdi
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_attack_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_artillery_attack_factor = 0.1 }
			custom_effect_tooltip = SOV_pc_of_mortar_armament_1_tt

			add_tech_bonus = {
				name = SOV_pc_of_mortar_armament
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}

			add_tech_bonus = {
				name = SOV_pc_of_mortar_armament
				bonus = 0.75
				uses = 2
				category = artillery
			}

			if = { #DEFAULT COMMIE
				limit = {
					has_full_control_of_state = 219
				}
				219 = {
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = SOV_superior_war_machines

		icon = GFX_focus_SOV_superior_war_machines
		prerequisite = { focus = SOV_pc_of_mortar_armament }
		x = 0
		y = 1
		relative_position_id = SOV_pc_of_mortar_armament
		cost = 5

		available = {
			has_country_flag = {
				flag = SOV_Simplify_production_flag
				days > 180
			}
			custom_trigger_tooltip = {
				tooltip = SOV_Simplify_production_flag_tt
				has_country_flag = {
					flag = SOV_Simplify_production_flag
					days > 180
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			if = {
				limit = {
					has_idea = SOV_Armor_quality_declines_idea
				}
				remove_ideas = SOV_Armor_quality_declines_idea
			}

			add_tech_bonus = {
				name = SOV_superior_war_machines
				bonus = 0.75
				uses = 2
				category = armor
			}

		}
	}

	focus = {
		id = SOV_Tank_Group_Army

		icon = GFX_focus_SOV_Tank_Group_Army
		prerequisite = { focus = SOV_superior_war_machines }
		x = 0
		y = 1
		relative_position_id = SOV_superior_war_machines
		cost = 5

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_Tank_Group_Army_available_tt
				OR = { 
					check_variable = { num_equipment_in_armies@medium_tank_chassis > 2499 }
					AND = { 
						is_ai = yes
						date > 1941.1.1			
					}
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_defence_factor = 0.1 }
			custom_effect_tooltip = SOV_Tank_Group_Army_tt

			random_army_leader = {
				limit = { 
					NOT = { has_trait = panzer_leader }	 			
				}
				add_unit_leader_trait = panzer_leader								
			}

			random_army_leader = {
				limit = { 
					NOT = { has_trait = panzer_leader }	 			
				}
				add_unit_leader_trait = panzer_leader								
			}

			random_army_leader = {
				limit = { 
					NOT = { has_trait = panzer_leader }	
				}
				add_unit_leader_trait = panzer_leader				
			}

		}
	}

	focus = {
		id = SOV_increase_aircraft_production

		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = SOV_pc_of_mechanical_engineering }
		x = 2
		y = 1
		relative_position_id = SOV_pc_of_mechanical_engineering
		cost = 5

		available = {
			has_war = yes
		}
		
		search_filters = {}

		completion_reward = {

			set_country_flag = SOV_increase_aircraft_production_flag

			add_ideas = SOV_Simplified_production_of_Air_Force_equipment_idea

			add_ideas = SOV_plane_losing_mass_idea

			add_tech_bonus = {
				name = SOV_increase_aircraft_production
				bonus = 1.0
				uses = 2
				category = light_air
			}

		}
	}

	focus = {
		id = SOV_intensify_pilot_training_program
		icon = GFX_focus_SOV_intensify_pilot_training_program
		prerequisite = { focus = SOV_increase_aircraft_production }
		x = 0
		y = 1
		relative_position_id = SOV_increase_aircraft_production
		cost = 5

		available = {
			has_country_flag = {
				flag = SOV_increase_aircraft_production_flag
				days > 180
			}
			custom_trigger_tooltip = {
				tooltip = SOV_increase_aircraft_production_flag_tt
				has_country_flag = {
					flag = SOV_increase_aircraft_production_flag
					days > 180
				}
			}
		}
		
		search_filters = {}

		completion_reward = {

			if = {
				limit = {
					has_idea = SOV_plane_losing_mass_idea
				}
				remove_ideas = SOV_plane_losing_mass_idea
			}

			air_experience = 50

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_accidents_factor = -0.25 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_ace_generation_chance_factor = 0.15 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_night_penalty = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_weather_penalty = -0.15 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_wing_xp_loss_when_killed_factor = -0.15 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_fuel_consumption_factor = 0.1 }
			custom_effect_tooltip = SOV_intensify_pilot_training_program_1_tt
		}
	}

	focus = {
		id = SOV_Aviation_Group_Army

		icon = GFX_focus_SOV_Aviation_Group_Army
		prerequisite = { focus = SOV_intensify_pilot_training_program }
		x = 0
		y = 1
		relative_position_id = SOV_intensify_pilot_training_program
		cost = 5

		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_Aviation_Group_Army_available_tt
				OR = { 
					AND = { 
						has_deployed_air_force_size = {
							size > 2499
							type = fighter
						}
						has_deployed_air_force_size = {
							size > 999
							type = cas
						}
						has_deployed_air_force_size = {
							size > 499
							type = tactical_bomber
						}
					}
					AND = { 
						is_ai = yes
						date > 1942.1.1			
					}
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_night_penalty = -0.1 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_mission_efficiency = 0.1 } 
			custom_effect_tooltip = SOV_Aviation_Group_Army_tt
		}
	}

	focus = {
		id = SOV_Assault_Group_Army

		icon = GFX_focus_SOV_Assault_Group_Army
		prerequisite = { focus = SOV_Tank_Group_Army }

		prerequisite = { focus = SOV_Aviation_Group_Army }

		prerequisite = { focus = SOV_Infantry_Corps }
		x = 0
		y = 1
		relative_position_id = SOV_Aviation_Group_Army
		cost = 5

		available = {

		}
		
		search_filters = {}

		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_command_power = 25 }

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_speed_factor = 0.1 } 
			add_to_variable = { HOF_RUS_the_white_army_dynamic_coordination_bonus = 0.1 } 

			custom_effect_tooltip = SOV_Assault_Group_Army_tt

            custom_effect_tooltip = SOV_create_unit_vdv_tt
            hidden_effect = {
                division_template = {
                    name = "Vozdushno-Desantnaya Diviziya"			# Airborne Brigade
                    division_names_group = SOV_PAR_01

                    regiments = {
                        paratrooper = { x = 0 y = 0 }
                        paratrooper = { x = 0 y = 1 }
                        paratrooper = { x = 0 y = 2 }
                        
                        paratrooper = { x = 1 y = 0 }
                        paratrooper = { x = 1 y = 1 }
                        paratrooper = { x = 1 y = 2 }
                        
                        paratrooper = { x = 2 y = 0 }
                        paratrooper = { x = 2 y = 1 }
                        paratrooper = { x = 2 y = 2 }
                        
                        paratrooper = { x = 3 y = 0 }
                    }
                    support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
						anti_tank = { x = 0 y = 3 }
						anti_air = { x = 0 y = 4 }
                    }
                }
            }

			hidden_effect = {
				capital_scope = {
					create_unit = {
						division = "division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}

		}
	}

	focus = {
		id = SOV_the_road_of_life
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = SOV_great_patriotic_war }

		x = -2
		y = 1
		relative_position_id = SOV_great_patriotic_war
		cost = 2

		ai_will_do = {
			factor = 2500
		}

		available = {
			OR = {
				195 = { #LENINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				219 = { #MOSCOW
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				217 = { #STALINGRAD
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				137 = { #SEVASTOPOL
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
				202 = { #Kiev
					is_controlled_by = ROOT
					any_neighbor_state = {
						is_owned_by = ROOT
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
			}
		}
		
		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_the_road_of_life_ns
				days = 730
			}
		}

	}

	focus = {
		id = SOV_the_defense_of_moscow
		# icon = GFX_focus_SOV_the_defense_of_moscow
		icon = GFX_focus_SOV_defense_of_moscow
		prerequisite = { focus = SOV_the_road_of_life }
		x = 0
		y = 1
		relative_position_id = SOV_the_road_of_life
		cost = 3

		ai_will_do = {
			factor = 2500
		}

		available = {
			219 = {
				is_controlled_by = ROOT
				
				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 } #Keep an eye on this, might be too cheesy
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			army_experience = 15
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					if = {
						limit = {
							ROOT = { controls_province = 3391 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3391
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 6414 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6414
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 9348 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9348
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 301 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 301
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 9378 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9378
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 6283 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6283
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 3259 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3259
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 11282 }
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11282
							instant_build = yes
						}
					}
					if = {
						limit = {
							ROOT = { controls_province = 6380 }
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 6380
							instant_build = yes
						}
					}				
				}
			}
		}

	}

	focus = {
		id = SOV_organization_of_the_partisans
		icon = GFX_focus_ETH_freedom_at_gunpoint
		# icon = GFX_focus_SOV_organization_of_the_partisans
		prerequisite = { focus = SOV_great_patriotic_war }
		x = 2
		y = 1
		relative_position_id = SOV_great_patriotic_war
		cost = 5

		ai_will_do = {
			factor = 2000
		}

		available = {
			any_owned_state = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {
			add_to_variable = { HOF_SOV_the_red_army_dynamic_operative_slot = 1 }
			custom_effect_tooltip = SOV_organization_of_the_partisans_1_ns_tt

			#if = {
				#limit = {
					#has_government = communism
				#}
				#show_unit_leaders_tooltip = SOV_vasily_korzh
				#show_unit_leaders_tooltip = SOV_sidor_kovpak
			#}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_government = communism
					}
					create_operative_leader = {
						name = "Dmitry Medvedev"
						GFX = GFX_Portrait_dmitry_medvedev
						female = yes
						traits = { operative_demolition_expert operative_commando }
						bypass_recruitment = no
						available_to_spy_master = yes
						nationalities = { SOV }
					}
				}

				add_ideas = SOV_central_headquarters_of_the_partisan_movement
			}

			if = {
				limit = {
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				unlock_decision_tooltip = SOV_propaganda_glory_to_partisans
				unlock_decision_tooltip = SOV_propaganda_death_to_invaders
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}
		}

	}

	focus = {
		id = SOV_lessons_of_war
		icon = GFX_focus_SOV_Lessons_from_War_Infantry_Tactics
		prerequisite = { focus = SOV_great_patriotic_war }
		x = 0
		y = 1
		relative_position_id = SOV_great_patriotic_war
		cost = 5

		ai_will_do = {
			factor = 2500
		}

		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			or = {
				NOT = { has_idea = SOV_desperate_measures_ns }
				casualties > 1000000
				AND = {
					surrender_progress > 0.10
					202 = { #Kiev
						NOT = { is_owned_by = ROOT }
					}
					226 = { #
						NOT = { is_owned_by = ROOT }
					}
					198 = { #
						NOT = { is_owned_by = ROOT }
					}
				}
				surrender_progress > 0.20
			}
		}
		
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {

			set_country_flag = SOV_lessons_of_war_flag

			army_experience = 100

			add_to_variable = {
				HOF_SOV_the_red_army_dynamic_heat_attrition_factor = -0.1
			}
			add_to_variable = {
				HOF_SOV_the_red_army_dynamic_winter_attrition_factor = -0.1
			}
			add_to_variable = {
				HOF_SOV_the_red_army_dynamic_acclimatization_cold_climate_gain_factor = 0.5
			}
			add_to_variable = {
				HOF_SOV_the_red_army_dynamic_acclimatization_hot_climate_gain_factor = 0.1
			}


			custom_effect_tooltip = SOV_lessons_of_war_2_tt

			unlock_decision_tooltip = SOV_order_227
			custom_effect_tooltip = SOV_lessons_of_war_unlock_military_operations_tt

		}

	}

	focus = {
		id = SOV_form_the_stavka
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_lessons_of_war }
		x = 0
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 5
		ai_will_do = {
			factor = 2500
		}
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				date > 1942.1.1
				AND = {
					has_country_flag = {
						flag = SOV_lessons_of_war_flag
						days > 180
					}
					custom_trigger_tooltip = {
						tooltip = SOV_lessons_of_war_flag_tt
						has_country_flag = {
							flag = SOV_lessons_of_war_flag
							days > 180
						}
					}
				}
			}
		}
		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_command_power = 25 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_planning = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_supply_consumption_factor = -0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_training_time_factor = -0.1 }
			custom_effect_tooltip = SOV_form_the_stavka_tt

			if = {
				limit = {
					has_idea = officers_purged
				}
				remove_ideas = officers_purged
			}
			else_if = {
				limit = {
					has_idea = officers_purged_2
				}
				remove_ideas = officers_purged_2
			}
			else_if = {
				limit = {
					has_idea = officers_purged_3
				}
				remove_ideas = officers_purged_3
			}
			else_if = {
				limit = {
					has_idea = officers_purged_4
				}
				remove_ideas = officers_purged_4
			}
			else_if = {
				limit = {
					has_idea = officers_purged_5
				}
				remove_ideas = officers_purged_5
			}
			else_if = {
				limit = {
					has_idea = officers_purged_6
				}
				remove_ideas = officers_purged_6
			}
			else_if = {
				limit = {
					has_idea = officers_purged_7
				}
				remove_ideas = officers_purged_7
			}
			else_if = {
				limit = {
					has_idea = officers_purged_8
				}
				remove_ideas = officers_purged_8
			}
			else_if = {
				limit = {
					has_idea = officers_purged_9
				}
				remove_ideas = officers_purged_9
			}
			else_if = {
				limit = {
					has_idea = officers_purged_10
				}
				remove_ideas = officers_purged_10
			}

		}
	}

	focus = {
		id = SOV_Modernization_of_the_Red_Army
		icon = GFX_focus_SOV_Modernization_of_the_Red_Army
		prerequisite = { focus = SOV_form_the_stavka }
		x = 0
		y = 1
		relative_position_id = SOV_form_the_stavka
		cost = 5
		ai_will_do = {
			factor = 2500
		}
		available = {
            NOT = { has_idea = SOV_desperate_measures_ns }
		}
		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_attack_factor = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_armor_defence_factor = 0.1 }
			custom_effect_tooltip = SOV_Modernization_of_the_Red_Army_tt

			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_agility_factor = 0.05 }
			add_to_variable = { HOF_SOV_soviet_airforce_dynamic_air_defence_factor = 0.1 }
			custom_effect_tooltip = SOV_Modernization_of_the_Red_Army_2_tt

			add_doctrine_cost_reduction = {
				name = SOV_Modernization_of_the_Red_Army
				cost_reduction = 0.5
				uses = 2
				category = cat_mass_assault
			}

			add_doctrine_cost_reduction = {
				name = SOV_Modernization_of_the_Red_Army
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}

		}
	}

	focus = {
		id = SOV_commissars_organization_question
		icon = GFX_focus_SOV_political_commissar
		prerequisite = { focus = SOV_Modernization_of_the_Red_Army }
		x = 0
		y = 1
		relative_position_id = SOV_Modernization_of_the_Red_Army
		cost = 1
		ai_will_do = {
			factor = 2500
		}
		available = {
            NOT = { has_idea = SOV_desperate_measures_ns }
		}
		completion_reward = {

			if = {
				limit = { 
					has_completed_focus = SOV_bloody_dwarf_is_in_power
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_keep
				}
			}
			else_if = {
				limit = {
					has_completed_focus = SOV_Humane_communism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_swap
				}
			}
			else = {
				remove_ideas = SOV_politicized_military
			}

		}
	}

	focus = {
		id = SOV_experts_in_camouflage
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_Modernization_of_the_Red_Army }
		x = 2
		y = 1
		relative_position_id = SOV_Modernization_of_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 2500
		}
		available = {

		}
		completion_reward = {
			add_to_variable = { HOF_SOV_the_red_army_dynamic_cas_damage_reduction = 0.05 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_max_dig_in = 5 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_dig_in_speed_factor = 0.05 }
			custom_effect_tooltip = SOV_experts_in_camouflage_1_tt
		}
	}

	focus = {
		id = SOV_Fieldrunners
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_commissars_organization_question }

		prerequisite = { focus = SOV_experts_in_camouflage }
		x = 1
		y = 1
		relative_position_id = SOV_commissars_organization_question
		cost = 5
		ai_will_do = {
			factor = 2500
		}
		available = {

		}
		completion_reward = {
			add_to_variable = { HOF_SOV_the_red_army_dynamic_org_loss_at_low_org_factor = -0.2 }
			custom_effect_tooltip = SOV_Fieldrunners_tt
			if = { 
				limit = {
					has_dlc = "Waking the Tiger"
				}
				custom_effect_tooltip = cost_reduced_last_stand 
			}
		}
	}

	focus = {
		id = SOV_Infantry_Corps
		icon = GFX_focus_SOV_Infantry_Corps
		prerequisite = { focus = SOV_Fieldrunners }
		x = 0
		y = 1
		relative_position_id = SOV_Fieldrunners
		cost = 5
		ai_will_do = {
			factor = 2500
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_Infantry_Corps_available_tt
				OR = { 
					check_variable = { num_equipment_in_armies_k@infantry_equipment > 150 }
					AND = { 
						is_ai = yes
						date > 1940.1.1			
					}
				}
			}
		}
		completion_reward = {

			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_infantry_attack_factor = 0.1 }
			add_to_variable = { HOF_SOV_the_red_army_dynamic_army_infantry_defence_factor = 0.05 }
			custom_effect_tooltip = SOV_Infantry_Corps_tt

			random_army_leader = {
				limit = { 
					NOT = { has_trait = infantry_leader }	 			
				}
				add_unit_leader_trait = infantry_leader								
			}

			random_army_leader = {
				limit = { 
					NOT = { has_trait = infantry_leader }	 			
				}
				add_unit_leader_trait = infantry_leader								
			}

			random_army_leader = {
				limit = { 
					NOT = { has_trait = infantry_leader }	
				}
				add_unit_leader_trait = infantry_leader				
			}

		}
	}

	focus = {
		id = SOV_For_the_motherland
		icon = GFX_focus_SOV_For_the_motherland
		prerequisite = { focus = SOV_form_the_stavka }

		prerequisite = { focus = SOV_organization_of_the_partisans }
		x = 0
		y = 2
		relative_position_id = SOV_organization_of_the_partisans
		cost = 5
		ai_will_do = {
			factor = 2500
		}
		available = {
			NOT = { has_completed_focus = SOV_Anti_nationalist_propaganda }
			has_idea = SOV_central_headquarters_of_the_partisan_movement
			any_owned_state = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		completion_reward = {

			add_popularity = {
				ideology = communism 
				popularity = -0.1
			}

			swap_ideas = {
				remove_idea = SOV_central_headquarters_of_the_partisan_movement
				add_idea = SOV_For_the_motherland_idea
			}

		}
	}
	focus = {
		id = SOV_the_glory_of_the_red_army
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_Assault_Group_Army }
		x = 0
		y = 1
		relative_position_id = SOV_Assault_Group_Army
		cost = 5

		ai_will_do = {
			factor = 2500
		}

		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
			surrender_progress < 0.10
		}
		
		search_filters = {}

		completion_reward = {

			army_experience = 100

			#New
			hidden_effect = {
				set_technology = { masterful_blitz = 1 popup = no }
			}
			custom_effect_tooltip = SOV_the_glory_of_the_red_army_masterful_blitz_tactic_tt

		}

	}

	focus = {
		id = SOV_smersh
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_great_patriotic_war }
		x = 4
		y = 1
		relative_position_id = SOV_great_patriotic_war
		cost = 5

		ai_will_do = {
			factor = 2000
		}

		available = {

		}
		
		search_filters = {FOCUS_FILTER_PROPAGANDA}

		completion_reward = {

			add_ideas = SOV_smersh

			if = {
				limit = {
					has_country_flag = purged_NKVD
				}
				custom_effect_tooltip = SOV_Rebuild_NKVD_tt
			    add_political_power = -100
				clr_country_flag = purged_NKVD
				add_ideas = nkvd_5
			}

			if = {
				limit = {
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				if = {
					limit ={ has_dlc = "La Resistance" }
					unlock_decision_tooltip = SOV_propaganda_treacherous_enemy
				}
				unlock_decision_tooltip = SOV_propaganda_do_not_blab
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}
		}

	}

	focus = {
		id = SOV_penal_battalions
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = SOV_smersh }
		x = 0
		y = 1
		relative_position_id = SOV_smersh
		cost = 5

		ai_will_do = {
			factor = 2000
		}

		available = {
			has_war = yes
		}
		
		search_filters = {}

		completion_reward = {
			#Spawn Penal divisions
			custom_effect_tooltip = SOV_penal_battalions_spawn_tt
			hidden_effect = {
				set_technology = { penal_infantry = 1 popup = no }

				division_template = {
					name = "Shtrafnaya Chast"
					division_names_group = SOV_PEN_01
					is_locked = yes

					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }
						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }
						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
						penal_battalion = { x = 2 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
						anti_tank = { x = 0 y = 3 }
						anti_air = { x = 0 y = 4 }
					}
				}

				SOV_spawn_penal_divisions_effect = yes
			}
		}

	}


}
