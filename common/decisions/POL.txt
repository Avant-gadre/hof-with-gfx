POL_danzig_decisions = {

	POL_unification_propaganda = {

		icon = infiltrate_state

		available = {
			85 = {
				NOT = {
					has_dynamic_modifier = { modifier = unity_propaganda }
				}
			}
		}

		cost = 75
		fire_only_once = no
		days_remove = 60
		ai_will_do = {
			factor = 2
		}
		modifier = {
			political_power_gain = -0.1
		}
		complete_effect = {
			85 = {
				add_dynamic_modifier = {
					modifier = unity_propaganda
					days = 60
				}
			}
		}
	}

	POL_military_appeasement = {

		icon = infiltrate_state

		available = {
			85 = {
				NOT = {
					has_dynamic_modifier = { modifier = military_appeasement }
				}
			}
		}

		custom_cost_trigger = {
			command_power > 24
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_25_pp_50
		fire_only_once = no
		days_remove = 60
		ai_will_do = {
			factor = 2
		}
		modifier = {
			command_power_gain = -0.1
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -50
			}
			85 = {
				add_dynamic_modifier = {
					modifier = military_appeasement
					days = 60
				}
			}
		}
	}

	POL_raid_nazi_resistance = {

		icon = infiltrate_state

		available = {
		}

		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50
		fire_only_once = no
		days_remove = 60
		ai_will_do = {
			factor = 2
		}
		modifier = {
			command_power_gain = -0.05
			political_power_gain = -0.05
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
			}
			85 = {
				add_resistance = -15
				add_compliance = 10
			}
		}
	}

	POL_tighten_control = {

		icon = infiltrate_state

		available = {
			85 = {
				compliance > 40
			}
		}

		custom_cost_trigger = {
			command_power > 24
			has_political_power > 74
		}
		custom_cost_text = decision_cost_CP_25_pp_75
		fire_only_once = no
		days_remove = 60
		ai_will_do = {
			factor = 2
		}
		modifier = {
			command_power_gain = -0.05
			political_power_gain = -0.05
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -75
			}
			85 = {
				add_resistance = -5
				POL_increase_danzig_control = yes
			}
		}
	}
}

POL_invite_foreign_motor_decisions = {
	POL_invite_ford = {
		icon = infiltrate_state
		available = {
			USA = {
				has_opinion = {
					target = POL
					value > 25
				}
			}
		}

		visible = {
			has_completed_focus = POL_attract_foreign_motors
			NOT = {
				has_country_flag = invited_motor_co
			}
		}

		cost = 0
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}
		complete_effect = {
			show_ideas_tooltip = POL_ford
			set_country_flag = invited_motor_co
			set_country_flag = POL_ford_motors
		}
	}
	POL_invite_vauxhall = {

		icon = infiltrate_state

		available = {
			ENG = {
				has_opinion = {
					target = POL
					value > 25
				}
			}
		}

		visible = {
			has_completed_focus = POL_attract_foreign_motors
			NOT = {
				has_country_flag = invited_motor_co
			}
		}

		cost = 0
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}
		complete_effect = {
			show_ideas_tooltip = POL_vauxhall
			set_country_flag = invited_motor_co
			set_country_flag = POL_vauxhall_motors
		}
	}
	POL_invite_somua = {

		icon = infiltrate_state

		available = {
			FRA = {
				has_opinion = {
					target = POL
					value > 25
				}
			}
		}

		visible = {
			has_completed_focus = POL_attract_foreign_motors
			NOT = {
				has_country_flag = invited_motor_co
			}
		}

		cost = 0
		fire_only_once = yes
		ai_will_do = {
			factor = 2
		}
		complete_effect = {
			show_ideas_tooltip = POL_somua
			set_country_flag = invited_motor_co
			set_country_flag = POL_somua_motors
		}
	}
}

POL_defensive_plans = {
	POL_defend_in_east_state = {
		icon = hol_draw_up_staff_plans
		state_target = yes
		available = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = SOV
						}
					}
					AND = {
						is_controlled_by = SOV
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
				ROOT = {
					has_completed_focus = POL_plan_east
					has_war_with = SOV
				}
			}
		}
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = SOV
						}
					}
					AND = {
						is_controlled_by = SOV
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
			}
		}
		visible = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = SOV
						}
					}
					AND = {
						is_controlled_by = SOV
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
				ROOT = {
					has_completed_focus = POL_plan_east
				}
			}
		}

		fire_only_once = no
		cost = 50

		days_re_enable = 60
		on_map_mode = map_only
		complete_effect = {
			FROM = { 
				add_dynamic_modifier = {
					modifier = POL_anti_soviet_offensive
					days = 60
					scope = POL
				}
			}
		}

		ai_will_do = {
			base = 0
		}
	}
	POL_defend_in_west_state = {
		icon = hol_draw_up_staff_plans
		state_target = yes
		available = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = GER
						}
					}
					AND = {
						is_controlled_by = GER
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
				ROOT = {
					has_completed_focus = POL_plan_west
					has_war_with = GER
				}
			}
		}
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = GER
						}
					}
					AND = {
						is_controlled_by = GER
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
			}
		}
		visible = {
			FROM = {
				OR = {
					AND = {
						is_controlled_by = POL
						any_neighbor_state = {
							is_controlled_by = GER
						}
					}
					AND = {
						is_controlled_by = GER
						any_neighbor_state = {
							is_controlled_by = POL
						}
					}
				}
				ROOT = {
					has_completed_focus = POL_plan_west
				}
			}
		}

		fire_only_once = no
		cost = 50

		days_re_enable = 60
		on_map_mode = map_only
		complete_effect = {
			FROM = { 
				add_dynamic_modifier = {
					modifier = POL_anti_german_offensive
					days = 60
					scope = POL
				}
			}
		}

		ai_will_do = {
			base = 10
		}
	}
}

POL_reopen_the_maritime_and_colonial_league = {
	# Purchasing Madagascar
	POL_purchase_madagascar = {

		icon = decision_generic_nationalism

		allowed = {
		}

		available = {
			543 = {
				owner = {
					is_in_faction_with = ROOT
				}
			}
		}
		
		visible = {
			NOT = {
				owns_state = 543
			}
			NOT = {
				543 = {
					has_state_flag = rejected_purchase_flag
				}
			}
			MAD = { exists = no }
		}
		
		highlight_states = {
			highlight_states_trigger = {
				OR = {
					state = 543
					AND = {
						state = 708
						708 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
					AND = {
						state = 706
						706 = {
							owner = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}

		on_map_mode = map_and_decisions_view

		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 4
		}
		custom_cost_text = decision_cost_civ_factory_5
		
		fire_only_once = yes
		days_remove = 720
		
		modifier = {
			civilian_factory_use = 5
		}

		complete_effect = {
			543 = {
				save_event_target_as = POL_colony_purchase
				owner = {
					if = {
						limit = {
							is_subject = no
						}
						country_event = { id = NSB_poland_events.4 }
					}
					else = {
						OVERLORD = { country_event = { id = NSB_poland_events.4 } }
					}
					#Event where the owner gets to decide if they want to sell Madagascar (and Comoro and Reunion if they are owned)
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

	}

	# Purchasing Gambia
	POL_purchase_gambia = {

		icon = decision_generic_nationalism

		allowed = {
		}

		available = {
			701 = {
				owner = {
					is_in_faction_with = ROOT
				}
			}
		}
		
		visible = {
			NOT = {
				owns_state = 701
			}
			NOT = {
				701 = {
					has_state_flag = rejected_purchase_flag
				}
			}
		}
		
		highlight_states = {
			highlight_states_trigger = {
				state = 701
			}
		}

		on_map_mode = map_and_decisions_view

		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 0
		}
		custom_cost_text = decision_cost_civ_factory_1
		
		fire_only_once = yes
		days_remove = 720
		
		modifier = {
			civilian_factory_use = 1
		}

		complete_effect = {
			701 = {
				save_event_target_as = POL_colony_purchase
				owner = {
					if = {
						limit = {
							is_subject = no
						}
						country_event = { id = NSB_poland_events.5 }
					}
					else = {
						OVERLORD = { country_event = { id = NSB_poland_events.5 } }
					}
					#Event where the owner gets to decide if they want to sell Madagascar (and Comoro and Reunion if they are owned)
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

	}

	# Purchasing Cameroon
	POL_purchase_cheap_colony = {

		icon = decision_generic_nationalism
		
		state_target = yes
		
		target_trigger = {
			FROM = {
				OR = {
					state = 773 #Cameroon
					state = 546 #Tanganyika
					state = 454 #Palestine
				}
			}
		}

		available = {
			FROM = {
				owner = {
					is_in_faction_with = ROOT
				}
				is_capital = no #Prevent countries from selling their last state (ie, Cameroon should not be able to sell itself)
			}
		}
		
		visible = {
			NOT = {
				owns_state = FROM
			}
			NOT = {
				FROM = {
					has_state_flag = rejected_purchase_flag
				}
			}
		}
		
		highlight_states = {
			highlight_states_trigger = {
				state = FROM
			}
		}


		on_map_mode = map_and_decisions_view

		custom_cost_trigger = {
			num_of_civilian_factories_available_for_projects > 2
		}
		custom_cost_text = decision_cost_civ_factory_3
		
		fire_only_once = yes
		days_remove = 720
		
		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			FROM = {
				save_event_target_as = POL_colony_purchase
				owner = {
					save_event_target_as = POL_colony_purchase
					if = {
						limit = {
							is_subject = no
						}
						country_event = { id = NSB_poland_events.5 }
					}
					else = {
						OVERLORD = { country_event = { id = NSB_poland_events.5 } }
					}
					#Event where the owner gets to decide if they want to sell Madagascar (and Comoro and Reunion if they are owned)
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

	}
}

POL_anti_capitalist_decisions = {
	POL_anti_capitalist_revolution = {
		icon = decision_generic_nationalism
		allowed = {
		}
		available = {
			has_war_with = FROM
		}
		target_trigger = {
			FROM = {
				is_major = yes
				has_government = democratic
			}
		}
		visible = {
		}
		cancel_trigger = {
			FROM = {
				OR = {
					is_major = no
					has_government = communism
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		fire_only_once = no
		days_remove = -1
		
		targeted_modifier = {
			tag = FROM
			attack_bonus_against = 0.1
			defense_bonus_against = 0.1
		}

		complete_effect = {
			
		}

		ai_will_do = {
			factor = 10
		}
	}
}

POL_anti_fascist_revolution_category = {
	POL_anti_fascist_military = {
		icon = decision_generic_nationalism
		allowed = {
		}
		available = {
			has_war_with = FROM
		}
		target_trigger = {
			FROM = {
				is_major = yes
				has_government = fascism
			}
		}
		visible = {
			has_completed_focus = POL_anti_fascist_military
		}
		cancel_trigger = {
			FROM = {
				OR = {
					is_major = no
					NOT = { has_government = fascism }
				}
			}
		}

		fire_only_once = no
		days_remove = -1
		
		targeted_modifier = {
			tag = FROM
			attack_bonus_against = 0.1
			defense_bonus_against = 0.1
		}

		complete_effect = {
			
		}

		ai_will_do = {
			factor = 10
		}
	}
}

POL_sanacja_falanga_decisions = {
	POL_nationwide_fascist_displays = {

		icon = decision_generic_nationalism

		available = {
		}
		
		
		visible = {
			NOT = { has_government = fascism }
		}
		
		fire_only_once = no

		cost = 50
		days_remove = 70
		
		modifier = {
			fascism_drift = 0.1
			stability_weekly = -0.02
		}
		
		complete_effect = {
			
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_stability < 0.3 #The AI shouldn't just kill its own stability over this.
			}
		}
	}
	POL_appoint_nationalist_ministers = {

		icon = decision_generic_nationalism

		available = {
		}
		visible = {
			NOT = { has_government = fascism }
		}
		
		fire_only_once = no

		cost = 50
		days_remove = 70
		
		modifier = {
			fascism_drift = 0.1
			political_power_factor = -0.5
		}
		
		complete_effect = {
			
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 5
		}
	}
}
