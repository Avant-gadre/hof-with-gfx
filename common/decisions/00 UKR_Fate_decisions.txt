foreign_politics = {
	UKR_join_GER_faction = {
		icon = generic_army_support
		allowed = {
			tag = UKR
		}
		visible = {
			tag = UKR
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = GER
			}
			NOT = {
				has_government = communism
			}
			has_completed_focus = UKR_generic_enemy_of_enemy
			GER = {
				is_faction_leader = yes
				is_subject = no
			}
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 2000
		}
		target_trigger = {
			FROM = {
				tag = GER
			}
		}
		targets = {
			GER
		}
		available = {
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = GER
			}
			NOT = {
				has_government = communism
			}
		}
		cost = 25
		complete_effect = {
			GER = {
				country_event = {
					id = ukr_diplo.1
					days = 5
				}
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	UKR_join_ENG_faction = {
		icon = generic_army_support
		allowed = {
			tag = UKR
		}
		visible = {
			tag = UKR
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
			NOT = {
				has_government = communism
			}
			has_completed_focus = UKR_the_traitor
			ENG = {
				is_faction_leader = yes
				is_subject = no
				NOT = {
					has_government = fascism
				}
				NOT = {
					has_government = communism
				}
			}
		}
		fire_only_once = yes
		target_trigger = {
			FROM = {
				tag = ENG
			}
		}
		targets = {
			ENG
		}
		ai_will_do = {
			factor = 2000
		}
		available = {
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = ENG
			}
			has_government = democratic
		}
		cost = 25
		complete_effect = {
			ENG = {
				country_event = {
					id = ukr_diplo.4
					days = 5
				}
			}
		}
	}
	UKR_join_FRA_faction = {
		icon = generic_army_support
		allowed = {
			tag = UKR
		}
		visible = {
			tag = UKR
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = FRA
			}
			NOT = {
				has_government = communism
			}
			has_completed_focus = UKR_the_traitor
			ENG = {
				OR = {
					is_faction_leader = no
					is_subject = yes
					has_government = fascism
					has_government = communism
				}
			}
			FRA = {
				is_faction_leader = yes
				is_subject = no
				NOT = {
					has_government = fascism
				}
				NOT = {
					has_government = communism
				}
			}
		}
		fire_only_once = yes
		target_trigger = {
			FROM = {
				tag = FRA
			}
		}
		targets = {
			FRA
		}
		ai_will_do = {
			factor = 2000
		}
		available = {
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = FRA
			}
			has_government = democratic
		}
		cost = 25
		complete_effect = {
			FRA = {
				country_event = {
					id = ukr_diplo.4
					days = 5
				}
			}
		}
	}
	UKR_join_FRA_faction_revolution = {
		icon = generic_army_support
		allowed = {
			tag = UKR
		}
		visible = {
			tag = UKR
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = FRA
			}
			has_government = communism
			has_completed_focus = UKR_Anarchist_export_revolution
			FRA = {
				is_faction_leader = yes
				is_subject = no
				has_government = communism
			}
		}
		fire_only_once = yes
		target_trigger = {
			FROM = {
				tag = FRA
			}
		}
		targets = {
			FRA
		}
		ai_will_do = {
			factor = 2000
		}
		available = {
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = FRA
			}
			has_government = communism
		}
		cost = 25
		complete_effect = {
			FRA = {
				country_event = {
					id = ukr_diplo.5
					days = 5
				}
			}
		}
	}
	UKR_join_POL_faction = {
		icon = generic_army_support
		allowed = {
			tag = UKR
		}
		visible = {
			tag = UKR
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = FROM
			}
			NOT = {
				has_government = communism
			}
			POL = {
				is_subject = no
			}
			has_completed_focus = UKR_seek_reconcile_with_Poland
			FROM = {
				OR = {
					tag = POL
					is_in_faction_with = POL
				}
				is_faction_leader = yes
			}
			FROM = {
				NOT = {
					has_government = communism
				}
				is_subject = no
			}
		}
		fire_only_once = yes
		target_trigger = {
			OR = {
				FROM = {
					tag = POL
				}
				FROM = {
					tag = ROM
				}
				FROM = {
					tag = HUN
				}
			}
		}
		targets = {
			POL
			ROM
			HUN
		}
		ai_will_do = {
			factor = 2000
		}
		available = {
			is_in_faction = no
			is_subject = no
			NOT = {
				has_war_with = FRA
			}
			has_government = communism
		}
		cost = 25
		complete_effect = {
			FROM = {
				country_event = {
					id = ukr_diplo.5
					days = 5
				}
			}
		}
	}
}

UKR_elite_troops_cate = {
	UKR_elite_troops_Nightingale_decision = {
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			num_of_civilian_factories_available_for_projects > 5
			has_army_experience > 14
			NOT = {
				has_idea = UKR_factory_rerouted_1_idea
			}
			has_tech = paratroopers
			has_tech = interwar_antiair
			has_tech = interwar_antitank
			202 = {
				CONTROLLER = {
					original_tag = UKR
				}
			}
		}
		visible = {
			is_subject = no
		}
		cost = 25
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 200
		}
		complete_effect = {
			army_experience = -15
			add_timed_idea = {
				idea = UKR_factory_rerouted_1_idea
				days = 60
			}
		}
		remove_effect = {
			delete_unit_template_and_units = {
				division_template = "Nightingale Battalion Group"
				disband = no
			}
			division_template = {
				name = "Nightingale Division"
				division_names_group = UKR_PAR_01
				regiments = {
					paratrooper = {
						x = 0
						y = 0
					}
					paratrooper = {
						x = 0
						y = 1
					}
					paratrooper = {
						x = 0
						y = 2
					}
					paratrooper = {
						x = 0
						y = 3
					}
					paratrooper = {
						x = 0
						y = 4
					}
					paratrooper = {
						x = 1
						y = 0
					}
					paratrooper = {
						x = 1
						y = 1
					}
					paratrooper = {
						x = 1
						y = 2
					}
					paratrooper = {
						x = 1
						y = 3
					}
					paratrooper = {
						x = 1
						y = 4
					}
					paratrooper = {
						x = 2
						y = 0
					}
					paratrooper = {
						x = 2
						y = 1
					}
					paratrooper = {
						x = 2
						y = 2
					}
					paratrooper = {
						x = 2
						y = 3
					}
					paratrooper = {
						x = 2
						y = 4
					}
					paratrooper = {
						x = 3
						y = 0
					}
					paratrooper = {
						x = 3
						y = 1
					}
					paratrooper = {
						x = 3
						y = 2
					}
					paratrooper = {
						x = 3
						y = 3
					}
					paratrooper = {
						x = 3
						y = 4
					}
					paratrooper = {
						x = 4
						y = 0
					}
				}
				support = {
					engineer = {
						x = 0
						y = 0
					}
					recon = {
						x = 0
						y = 1
					}
					artillery = {
						x = 0
						y = 2
					}
					anti_air = {
						x = 0
						y = 3
					}
					anti_tank = {
						x = 0
						y = 4
					}
				}
				priority = 2
				is_locked = yes
			}
			random_owned_controlled_state = {
				prioritize = {
					202
				}
				limit = {
					ROOT = {
						has_full_control_of_state = PREV
					}
				}
				create_unit = {
					division = "name = \"Special Operations Detachment 'Nightingale'\" division_template = \"Nightingale Division\" start_experience_factor = 0.9"
					owner = UKR
				}
			}
		}
	}
	UKR_elite_troops_Sich_decision = {
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			num_of_civilian_factories_available_for_projects > 5
			has_army_experience > 14
			NOT = {
				has_idea = UKR_factory_rerouted_1_idea
			}
			has_tech = tech_mountaineers
			has_tech = interwar_antiair
			has_tech = interwar_antitank
			has_tech = armored_car1
			has_tech = tech_field_hospital
			has_tech = tech_maintenance_company
			has_tech = tech_signal_company
			202 = {
				CONTROLLER = {
					original_tag = UKR
				}
			}
		}
		visible = {
			is_subject = no
		}
		cost = 25
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 200
		}
		complete_effect = {
			army_experience = -15
			add_timed_idea = {
				idea = UKR_factory_rerouted_1_idea
				days = 60
			}
		}
		remove_effect = {
			delete_unit_template_and_units = {
				division_template = "Sich Riflemen"
				disband = no
			}
			if = {
				limit = {
					has_country_flag = UKR_Extremist_forces_flag
				}
				delete_unit_template_and_units = {
					division_template = "OUN"
					disband = no
				}
			}
			division_template = {
				name = "Sich Division"
				regiments = {
					mountaineers = {
						x = 0
						y = 0
					}
					mountaineers = {
						x = 0
						y = 1
					}
					mountaineers = {
						x = 0
						y = 2
					}
					artillery_brigade = {
						x = 0
						y = 3
					}
					artillery_brigade = {
						x = 0
						y = 4
					}
					mountaineers = {
						x = 1
						y = 0
					}
					mountaineers = {
						x = 1
						y = 1
					}
					mountaineers = {
						x = 1
						y = 2
					}
					artillery_brigade = {
						x = 1
						y = 3
					}
					artillery_brigade = {
						x = 1
						y = 4
					}
					mountaineers = {
						x = 2
						y = 0
					}
					mountaineers = {
						x = 2
						y = 1
					}
					mountaineers = {
						x = 2
						y = 2
					}
					mountaineers = {
						x = 2
						y = 3
					}
					artillery_brigade = {
						x = 2
						y = 4
					}
					mountaineers = {
						x = 3
						y = 0
					}
					mountaineers = {
						x = 3
						y = 1
					}
					anti_tank_brigade = {
						x = 3
						y = 2
					}
					anti_tank_brigade = {
						x = 3
						y = 3
					}
					anti_air_brigade = {
						x = 3
						y = 4
					}
				}
				support = {
					engineer = {
						x = 0
						y = 0
					}
					armored_car_recon = {
						x = 0
						y = 1
					}
					field_hospital = {
						x = 0
						y = 2
					}
					maintenance_company = {
						x = 0
						y = 3
					}
					signal_company = {
						x = 0
						y = 4
					}
				}
				priority = 2
				is_locked = yes
			}
			random_owned_controlled_state = {
				prioritize = {
					202
				}
				limit = {
					ROOT = {
						has_full_control_of_state = PREV
					}
				}
				create_unit = {
					division = "name = \"Sich Strelkovaya\" division_template = \"Sich Division\" start_experience_factor = 0.7"
					owner = UKR
				}
			}
		}
	}
	UKR_elite_troops_Otaman_decision = {
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			num_of_civilian_factories_available_for_projects > 10
			has_army_experience > 14
			NOT = {
				has_idea = UKR_factory_rerouted_2_idea
			}
			has_tech = mechanised_infantry
			has_tech = interwar_antiair
			has_tech = interwar_antitank
			has_tech = armored_car1
			has_tech = tech_field_hospital
			has_tech = tech_maintenance_company
			has_tech = tech_signal_company
			202 = {
				CONTROLLER = {
					original_tag = UKR
				}
			}
		}
		visible = {
			is_subject = no
			NOT = {
				has_country_flag = UKR_Bandera_has_succeeded_flag
			}
		}
		cost = 25
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 200
		}
		complete_effect = {
			army_experience = -15
			add_timed_idea = {
				idea = UKR_factory_rerouted_2_idea
				days = 60
			}
		}
		remove_effect = {
			delete_unit_template_and_units = {
				division_template = "Otaman Strelkovaya"
				disband = no
			}
			division_template = {
				name = "Otaman Division"
				division_names_group = UKR_MEC_01
				regiments = {
					mechanized = {
						x = 0
						y = 0
					}
					mechanized = {
						x = 0
						y = 1
					}
					mechanized = {
						x = 0
						y = 2
					}
					mot_artillery_brigade = {
						x = 0
						y = 3
					}
					mot_artillery_brigade = {
						x = 0
						y = 4
					}
					mechanized = {
						x = 1
						y = 0
					}
					mechanized = {
						x = 1
						y = 1
					}
					mechanized = {
						x = 1
						y = 2
					}
					mot_artillery_brigade = {
						x = 1
						y = 3
					}
					mot_artillery_brigade = {
						x = 1
						y = 4
					}
					mechanized = {
						x = 2
						y = 0
					}
					mechanized = {
						x = 2
						y = 1
					}
					mechanized = {
						x = 2
						y = 2
					}
					mechanized = {
						x = 2
						y = 3
					}
					mot_artillery_brigade = {
						x = 2
						y = 4
					}
					mechanized = {
						x = 3
						y = 0
					}
					mechanized = {
						x = 3
						y = 1
					}
					mot_anti_tank_brigade = {
						x = 3
						y = 2
					}
					mot_anti_tank_brigade = {
						x = 3
						y = 3
					}
					mot_anti_air_brigade = {
						x = 3
						y = 4
					}
				}
				support = {
					engineer = {
						x = 0
						y = 0
					}
					armored_car_recon = {
						x = 0
						y = 1
					}
					field_hospital = {
						x = 0
						y = 2
					}
					maintenance_company = {
						x = 0
						y = 3
					}
					signal_company = {
						x = 0
						y = 4
					}
				}
				priority = 2
				is_locked = yes
			}
			random_owned_controlled_state = {
				prioritize = {
					202
				}
				limit = {
					ROOT = {
						has_full_control_of_state = PREV
					}
				}
				create_unit = {
					division = "name = \"Otaman Strelkovaya\" division_template = \"Otaman Division\" start_experience_factor = 0.7"
					owner = UKR
				}
			}
		}
	}
}

UKR_Greater_Ukraine_cate = {
	UKR_Greater_Ukraine_decision = {
		icon = generic_army_support
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				is_on_continent = europe
			}
		}
		targets = {
			194
			241
			791
			220
			234
			240
			218
			1006
			1080
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
			}
			NOT = {
				has_country_flag = GER_Integrating_core_flag
			}
		}
		visible = {
			is_subject = no
			202 = {
				is_core_of = ROOT
			}
		}
		fire_only_once = no
		cost = 25
		days_remove = 60
		complete_effect = {
			set_country_flag = {
				value = 1
				days = 60
				flag = GER_Integrating_core_flag
			}
			add_timed_idea = {
				idea = Integrate_medium_idea
				days = 60
			}
		}
		remove_effect = {
			FROM = {
				remove_claim_and_add_core_and_transfer_of_ROOT = yes
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
	UKR_Greater_Ukraine_fasicm_decision = {
		icon = generic_army_support
		available = {
			NOT = {
				any_state = {
					is_claimed_by = ROOT
					controller = {
						NOT = {
							tag = ROOT
						}
					}
				}
			}
		}
		visible = {
			is_subject = no
			has_completed_focus = UKR_From_the_San_to_the_Caucasus
		}
		fire_only_once = yes
		cost = 100
		complete_effect = {
			every_state = {
				limit = {
					is_claimed_by = ROOT
				}
				set_compliance = 50
				set_resistance = 0
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

UKR_food_export_trade_cate = {
	UKR_food_export_trade_decision = {
		icon = ger_mefo_bills
		available = {
			or = {
				has_war = no
				surrender_progress < 0.1
			}
		}
		visible = {
			has_completed_focus = UKR_food_export_trade
			or = {
				has_war = no
				surrender_progress < 0.1
			}
			is_subject = no
		}
		target_trigger = {
			FROM = {
				or = {
					original_tag = GER
					original_tag = ITA
					original_tag = SWE
					original_tag = JAP
				}
				exists = yes
				or = {
					has_war = no
					surrender_progress < 0.1
				}
				is_major = yes
				is_subject = no
				NOT = {
					has_country_flag = UKR_Trade_negotiations_have_taken_place_flag
				}
			}
		}
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			FROM = {
				set_country_flag = UKR_Trade_negotiations_have_taken_place_flag
				country_event = ukr_nationalism.9
			}
		}
	}
}

UKR_second_general_election_cate = {
	UKR_second_general_election_decision = {
		icon = jap_conquer_china
		allowed = {
			always = no
			#added through on_action
		}
		available = {
			has_war = yes
		}
		fire_only_once = yes
		is_good = yes
		days_mission_timeout = 90
		ai_will_do = {
			factor = 1000
		}
		timeout_effect = {
			country_event = {
				id = ukr_nationalism.7
				days = 1
			}
		}
		complete_effect = {
			country_event = {
				id = ukr_nationalism.8
				days = 1
			}
		}
	}
}

UKR_OUN_policy_cate = {
	UKR_Promote_Ukrainian_decision = {
		icon = generic_army_support
		available = {
			NOT = {
				has_idea = UKR_Promote_Ukrainian_idea
			}
		}
		visible = {
			is_subject = no
			has_completed_focus = UKR_Promote_Ukrainian
		}
		ai_will_do = {
			factor = 100
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			swap_ideas = {
				remove_idea = UKR_splitted_country
				add_idea = UKR_splitted_country_2
			}
			unlock_decision_tooltip = UKR_unite_the_motherland_decision
		}
	}
	UKR_Cleaning_Russian_decision = {
		icon = generic_army_support
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
				is_core_of = ROOT
				is_on_continent = europe
			}
		}
		targets = {
			193
			225
			259
			221
			228
			227
			821
			220
			196
			137
			192
			203
			202
			226
			197
			201
			198
			199
			792
			89
			91
			89
			73
			80
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
			}
			NOT = {
				has_country_flag = UKR_Cleaning_Russian_flag
			}
		}
		visible = {
			is_subject = no
			has_completed_focus = UKR_Cleaning_the_Imperial_Russian_Clown
			FROM = {
				OR = {
					is_core_of = SOV
					is_core_of = RUS
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
		cost = 0
		days_remove = 30
		fire_only_once = no
		complete_effect = {
			set_country_flag = {
				value = 1
				days = 30
				flag = UKR_Cleaning_Russian_flag
			}
			add_timed_idea = {
				idea = Integrate_minor_idea
				days = 30
			}
			FROM = {
				add_dynamic_modifier = {
					modifier = UKR_clean_russian
				}
			}
		}
		remove_effect = {
			FROM = {
				remove_dynamic_modifier = {
					modifier = UKR_clean_russian
				}
				remove_core_of = SOV
				remove_core_of = RUS
			}
		}
	}
	UKR_unite_the_motherland_decision = {
		icon = generic_army_support
		available = {
			NOT = {
				any_owned_state = {
					OR = {
						state = 193
						state = 225
						state = 259
						state = 221
						state = 228
						state = 227
						state = 821
						state = 220
						state = 196
						state = 137
						state = 192
						state = 203
						state = 202
						state = 226
						state = 197
						state = 201
						state = 198
						state = 199
						state = 792
						state = 89
						state = 91
						state = 89
						state = 73
						state = 80
					}
					is_core_of = SOV
				}
			}
		}
		visible = {
			is_subject = no
			has_completed_focus = UKR_Cleaning_the_Imperial_Russian_Clown
			has_idea = UKR_splitted_country_2
		}
		ai_will_do = {
			factor = 100
		}
		cost = 0
		fire_only_once = yes
		complete_effect = {
			add_stability = 0.15
			swap_ideas = {
				remove_idea = UKR_splitted_country_2
				add_idea = UKR_unite_country_idea
			}
		}
	}
}

operations = {
	UKR_load_talula_national_focus_debug = {
		allowed = {
			tag = UKR
		}
		visible = {
			is_debug = yes
			always = no
		}
		cost = 1
		complete_effect = {
			load_focus_tree = ukr_focus_talula
		}
	}
	UKRRUS_UKR_still_on_earth = {
		allowed = {
			tag = UKR
		}
		available = {
			#### 乌克兰赢麻了
			OR = {
				count_triggers = {
					amount = 6
					NOT = {
						221 = {
							is_controlled_by = SOV
						}
					}
					#### 哈尔科夫
					NOT = {
						227 = {
							is_controlled_by = SOV
						}
					}
					#### 佐尔根格勒
					NOT = {
						228 = {
							is_controlled_by = SOV
						}
					}
					#### 伏罗希洛夫格勒
					NOT = {
						224 = {
							is_controlled_by = SOV
						}
					}
					#### 布良斯克
					NOT = {
						220 = {
							is_controlled_by = SOV
						}
					}
					#### 库尔斯克
					NOT = {
						137 = {
							is_controlled_by = SOV
						}
					}
					#### 克里米亚
					NOT = {
						218 = {
							is_controlled_by = SOV
						}
					}
					#### 罗斯托夫
					NOT = {
						234 = {
							is_controlled_by = SOV
						}
					}
					#### 克拉斯诺达尔
					AND = {
						NOT = {
							573 = {
								is_controlled_by = SOV
							}
						}
						NOT = {
							582 = {
								is_controlled_by = SOV
							}
						}
						NOT = {
							652 = {
								is_controlled_by = SOV
							}
						}
					}
					SOV = {
						surrender_progress > 0.3
					}
				}
				SOV = {
					surrender_progress > 0.6
				}
			}
		}
		activation = {
			always = no			#triggered by event
		}
		cancel_trigger = {
			#### 没有和谈的机会了？
			or = {
				count_triggers = {
					amount = 3
					NOT = {
						202 = {
							is_controlled_by = UKR
						}
					}
					#### 基辅
					NOT = {
						226 = {
							is_controlled_by = UKR
						}
					}
					#### 第聂伯
					NOT = {
						198 = {
							is_controlled_by = UKR
						}
					}
					#### 文尼察
					UKR = {
						surrender_progress > 0.45
					}
				}
				UKR = {
					surrender_progress > 0.7
				}
			}
		}
		is_good = no
		days_mission_timeout = 250
		timeout_effect = {
			#ceasefire
			set_global_flag = UKR_still_on_earth_flag
			if = {
				limit = {
					has_war_with = SOV
				}
				white_peace = SOV
				else = {
					effect_tooltip = {
						white_peace = SOV
					}
				}
			}
			transfer_state = 221
			transfer_state = 227
			transfer_state = 228
			if = {
				limit = {
					has_war_with = KAZ
				}
				white_peace = KAZ
				else = {
					effect_tooltip = {
						white_peace = KAZ
					}
				}
			}
			if = {
				limit = {
					has_war_with = TMS
				}
				white_peace = TMS
				else = {
					effect_tooltip = {
						white_peace = TMS
					}
				}
			}
		}
		complete_effect = {
			#UKR WIN
			set_global_flag = UKR_still_on_earth_flag
			if = {
				limit = {
					has_war_with = SOV
				}
				white_peace = SOV
				else = {
					effect_tooltip = {
						white_peace = SOV
					}
				}
			}
			transfer_state = 221
			transfer_state = 227
			transfer_state = 228
			add_state_claim = 234
			add_state_claim = 240
			add_state_claim = 137
			add_state_claim = 218
			add_state_claim = 1006
			transfer_state = 234
			transfer_state = 240
			transfer_state = 137
			transfer_state = 218
			transfer_state = 1006
			if = {
				limit = {
					has_war_with = KAZ
				}
				white_peace = KAZ
				else = {
					effect_tooltip = {
						white_peace = KAZ
					}
				}
			}
			if = {
				limit = {
					has_war_with = TMS
				}
				white_peace = TMS
				else = {
					effect_tooltip = {
						white_peace = TMS
					}
				}
			}
		}
		cancel_effect = {
			#UKR will fall
			add_stability = -0.1
			add_war_support = -0.1
		}
	}
	UKRRUS_SOV_special_military_operations = {
		allowed = {
			tag = SOV
		}
		available = {
			or = {
				count_triggers = {
					amount = 3
					NOT = {
						202 = {
							is_controlled_by = UKR
						}
					}
					#### 基辅
					NOT = {
						226 = {
							is_controlled_by = UKR
						}
					}
					#### 第聂伯
					NOT = {
						198 = {
							is_controlled_by = UKR
						}
					}
					#### 文尼察
					UKR = {
						surrender_progress > 0.45
					}
				}
				UKR = {
					surrender_progress > 0.7
				}
			}
		}
		activation = {
			always = no			#triggered by event
		}
		cancel_trigger = {
			or = {
				count_triggers = {
					amount = 6
					NOT = {
						221 = {
							is_controlled_by = SOV
						}
					}
					#### 哈尔科夫
					NOT = {
						227 = {
							is_controlled_by = SOV
						}
					}
					#### 佐尔根格勒
					NOT = {
						228 = {
							is_controlled_by = SOV
						}
					}
					#### 伏罗希洛夫格勒
					NOT = {
						224 = {
							is_controlled_by = SOV
						}
					}
					#### 布良斯克
					NOT = {
						220 = {
							is_controlled_by = SOV
						}
					}
					#### 库尔斯克
					NOT = {
						137 = {
							is_controlled_by = SOV
						}
					}
					#### 克里米亚
					NOT = {
						218 = {
							is_controlled_by = SOV
						}
					}
					#### 罗斯托夫
					NOT = {
						234 = {
							is_controlled_by = SOV
						}
					}
					#### 克拉斯诺达尔
					AND = {
						NOT = {
							573 = {
								is_controlled_by = SOV
							}
						}
						NOT = {
							582 = {
								is_controlled_by = SOV
							}
						}
						NOT = {
							402 = {
								is_controlled_by = SOV
							}
						}
					}
					SOV = {
						surrender_progress > 0.3
					}
				}
				SOV = {
					surrender_progress > 0.6
				}
			}
		}
		is_good = no
		days_mission_timeout = 250
		timeout_effect = {
			#ceasefire
			effect_tooltip = {
				set_global_flag = UKR_still_on_earth_flag
				UKR = {
					if = {
						limit = {
							has_war_with = SOV
						}
						white_peace = SOV
						else = {
							effect_tooltip = {
								white_peace = SOV
							}
						}
					}
					add_state_claim = 234
					add_state_claim = 137
					add_state_claim = 218
					transfer_state = 221
					transfer_state = 227
					transfer_state = 228
					if = {
						limit = {
							has_war_with = KAZ
						}
						white_peace = KAZ
						else = {
							effect_tooltip = {
								white_peace = KAZ
							}
						}
					}
					if = {
						limit = {
							has_war_with = TMS
						}
						white_peace = TMS
						else = {
							effect_tooltip = {
								white_peace = TMS
							}
						}
					}
				}
			}
		}
		complete_effect = {
			#SOV will win
			add_stability = 0.1
			add_war_support = 0.1
		}
		cancel_effect = {
			#UKR WIN
			effect_tooltip = {
				set_global_flag = UKR_still_on_earth_flag
				UKR = {
					if = {
						limit = {
							has_war_with = SOV
						}
						white_peace = SOV
						else = {
							effect_tooltip = {
								white_peace = SOV
							}
						}
					}
					transfer_state = 221
					transfer_state = 227
					transfer_state = 228
					transfer_state = 137
					transfer_state = 234
					transfer_state = 240
					transfer_state = 218
					transfer_state = 1006
					if = {
						limit = {
							has_war_with = KAZ
						}
						white_peace = KAZ
						else = {
							effect_tooltip = {
								white_peace = KAZ
							}
						}
					}
					if = {
						limit = {
							has_war_with = TMS
						}
						white_peace = TMS
						else = {
							effect_tooltip = {
								white_peace = TMS
							}
						}
					}
				}
			}
		}
	}
	UKR_Reunion_Patroit_COUP = {
		allowed = {
			tag = UKR
		}
		available = {
			always = no
		}
		activation = {
			always = no			#triggered by event
		}
		cancel_trigger = {
			OR = {
				has_completed_focus = UKR_Anarchist_remove_Buldrokkastee
				is_subject = yes
			}
		}
		is_good = no
		days_mission_timeout = 150
		timeout_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.45
			}
			set_politics = {
				ruling_party = neutrality
			}
			if = {
				limit = {
					NOT = {
						UKR_Buldrokkastee = {
							is_country_leader = yes
						}
					}
				}
				add_country_leader_role = {
					Character = UKR_Buldrokkastee
					Promote_leader = yes
					Country_leader = {
						ideology = stratocracy
						traits = {
						}
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							SOV = {
								is_subject = no
								exists = yes
							}
							RUS = {
								is_subject = no
								exists = yes
							}
						}
					}
					country_event = {
						id = ukr_reunion.18
						days = 12
					}
				}
			}
		}
		complete_effect = {
		}
		cancel_effect = {
			#UKR WIN
			add_stability = 0.05
			add_political_power = 150
		}
	}
}
