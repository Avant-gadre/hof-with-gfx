##non_shared_modifier--只对自己生效就是不会影响下面的人
##在这扣东西建议只扣再部署时间和提拔花费
##modifier--所有的:包括元帅和将军
##field_marshal_modifier--当元帅时生效
leader_traits = {
	##--Generic Traits--##
	old_guard = {
		type = land
		trait_type = personality_trait
		##保守派
		# field_marshal_modifier = {
		# 	dig_in_speed = 0.15
		# 	experience_gain_factor = -0.3
		# }
		modifier = {
			dig_in_speed = 0.15
			experience_gain_factor = -0.3
		}
		non_shared_modifier = {
			promote_cost_factor = 0.5
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
	}
	brilliant_strategist = {
		type = land
		trait_type = personality_trait
		attack_skill = 1
		planning_skill = 1
		attack_skill_factor = 1
		planning_skill_factor = 1
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
	}
	inflexible_strategist = {
		type = land
		trait_type = personality_trait
		defense_skill = 1
		logistics_skill = 1
		defense_skill_factor = 1
		logistics_skill_factor = 1
		new_commander_weight = {
			factor = 1
			modifier = {
				is_army_leader = yes
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
	}
	politically_connected = {
		type = land
		trait_type = personality_trait
		non_shared_modifier = {
			promote_cost_factor = -0.5
		}
		##政治关联
		# field_marshal_modifier = {
		# 	experience_gain_factor = -0.15
		# 	army_org_factor = 0.05
		# }
		modifier = {
			experience_gain_factor = -0.15
			army_org_factor = 0.05
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				is_army_leader = yes
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				is_navy_leader = yes
				FROM = {
					has_idea = best_of_the_best_naval_academy_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = naval_academy_scholarships_spirit
				}
				factor = 0
			}
		}
		planning_skill_factor = 1
		logistics_skill_factor = 1
	}
	war_hero = {
		type = {
			land
			navy
		}
		trait_type = personality_trait
		non_shared_modifier = {
			promote_cost_factor = -0.5
			reassignment_duration_factor = 0.5			# +50% cost to replace leader
		}
		new_commander_weight = {
			factor = 0			# Scripted starting leaders only
		}
		attack_skill_factor = 1
		planning_skill_factor = 1
	}
	career_officer = {
		type = land
		trait_type = personality_trait
		non_shared_modifier = {
			promote_cost_factor = -0.25
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
		planning_skill_factor = 1
		logistics_skill_factor = 1
	}
	trait_cautious = {
		type = land
		trait_type = personality_trait
		modifier = {
			planning_speed = -0.2
			wounded_chance_factor = -0.5
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				has_trait = trait_reckless
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
		defense_skill_factor = 1
		logistics_skill_factor = 1
	}
	trait_reckless = {
		type = land
		trait_type = personality_trait
		modifier = {
			planning_speed = 0.2
			wounded_chance_factor = 0.5			# +50% chance to get wounded
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				has_trait = trait_cautious
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
		attack_skill_factor = 1
		defense_skill_factor = -1
		planning_skill_factor = 1
	}
	media_personality = {
		type = land
		trait_type = personality_trait
		non_shared_modifier = {
			reassignment_duration_factor = 1			# +100% cost to replace leader
		}
		attack_skill_factor = 1
		defense_skill_factor = 1
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
	}
	harsh_leader = {
		type = land
		trait_type = personality_trait
		attack_skill = 1
		modifier = {
			army_morale_factor = -0.1
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
		}
		attack_skill_factor = 1
		logistics_skill_factor = 1
	}
	bearer_of_artillery = {
		# Reserved for Wojtek  
		type = corps_commander
		trait_type = personality_trait
		modifier = {
			army_artillery_attack_factor = 0.15
		}
		new_commander_weight = {
			factor = 0
		}
	}
	infantry_officer = {
		type = land
		trait_type = personality_trait
		unit_trigger = {
			OR = {
				division_has_majority_template = infantry
				division_has_majority_template = bicycle_battalion
				division_has_majority_template = marine
				division_has_majority_template = mountaineers
				division_has_majority_template = paratrooper
				division_has_majority_template = penal_battalion
				owner = {
					has_idea = mass_assault_academy_spirit
				}
			}
			owner = {
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		trait_xp_factor = {
			infantry_leader = 1			#+100%
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = mass_assault_academy_spirit
				}
				factor = 2
			}
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_dlc = "By Blood Alone"
				}
				factor = 0
			}
		}
		defense_skill_factor = 1
		planning_skill_factor = 1
	}
	cavalry_officer = {
		type = land
		trait_type = personality_trait
		unit_type = {
			type = cavalry
			type = camelry
			type = motorized
			type = mechanized
		}
		unit_trigger = {
			OR = {
				division_has_majority_template = cavalry
				division_has_majority_template = camelry
				division_has_majority_template = motorized
				division_has_majority_template = mechanized
			}
			owner = {
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		trait_xp_factor = {
			cavalry_leader = 1			#+100%
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_dlc = "By Blood Alone"
				}
				factor = 0
			}
		}
		attack_skill_factor = 1
		logistics_skill_factor = 1
	}
	armor_officer = {
		type = land
		trait_type = personality_trait
		trait_xp_factor = {
			panzer_leader = 1			#+100%
		}
		unit_trigger = {
			OR = {
				division_has_majority_template = light_armor
				division_has_majority_template = medium_armor
				division_has_majority_template = heavy_armor
				division_has_majority_template = super_heavy_armor
				owner = {
					has_idea = mobile_warfare_academy_spirit
				}
			}
			owner = {
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = mobile_warfare_academy_spirit
				}
				factor = 2
			}
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_dlc = "By Blood Alone"
				}
				factor = 0
			}
		}
		attack_skill_factor = 1
		planning_skill_factor = 1
	}
	engineer_officer = {
		type = land
		trait_type = personality_trait
		trait_xp_factor = {
			trait_engineer = 1			#+100%
			artillery_leader = 0.5
		}
		unit_trigger = {
			OR = {
				division_has_battalion_in_template = engineer
				division_has_battalion_in_template = light_flame_tank
				division_has_battalion_in_template = medium_flame_tank
				division_has_battalion_in_template = heavy_flame_tank
				owner = {
					has_idea = superior_firepower_academy_spirit
				}
			}
			owner = {
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		new_commander_weight = {
			factor = 1
			modifier = {
				FROM = {
					has_idea = superior_firepower_academy_spirit
				}
				factor = 2
			}
			modifier = {
				FROM = {
					has_idea = best_of_the_best_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_idea = academy_scholarships_spirit
				}
				factor = 0
			}
			modifier = {
				FROM = {
					has_dlc = "By Blood Alone"
				}
				factor = 0
			}
		}
		attack_skill_factor = 1
		planning_skill_factor = 1
	}
	irregulars_officer = {
		type = corps_commander
		trait_type = personality_trait
		allowed = {
		}
		unit_type = {
			type = cavalry
			type = camelry
			type = irregular_infantry
		}
		unit_trigger = {
			OR = {
				division_has_majority_template = cavalry
				division_has_majority_template = camelry
				division_has_majority_template = irregular_infantry
			}
			owner = {
				OR = {
					original_tag = ITA
					original_tag = ETH
				}
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		modifier = {
			modifier_army_sub_unit_irregular_infantry_attack_factor = 0.05
			modifier_army_sub_unit_cavalry_speed_factor = 0.05
			modifier_army_sub_unit_camelry_speed_factor = 0.05
			out_of_supply_factor = -0.1
			desert = {
				movement = 0.1
			}
		}
		new_commander_weight = {
			base = 0
			modifier = {
				add = 0.5
				FROM = {
					#Looks like the allowed parameter is doing NOTHING :D 
					OR = {
						original_tag = ITA
						original_tag = ETH
					}
				}
			}
		}
		attack_skill_factor = 1
		planning_skill_factor = 1
	}
	ascari_officer = {
		type = corps_commander
		trait_type = personality_trait
		allowed = {
		}
		unit_type = {
			type = infantry
		}
		unit_trigger = {
			division_has_majority_template = infantry
			owner = {
				original_tag = ITA
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		modifier = {
			modifier_army_sub_unit_infantry_defence_factor = 0.05
			modifier_army_sub_unit_cavalry_defence_factor = 0.05
			modifier_army_sub_unit_camelry_defence_factor = 0.05
			desert = {
				defence = 0.05
			}
		}
		new_commander_weight = {
			base = 0
		}
		defense_skill_factor = 1
		logistics_skill_factor = 1
	}
	militias_officer = {
		type = corps_commander
		trait_type = personality_trait
		allowed = {
		}
		unit_type = {
			type = militia
		}
		unit_trigger = {
			division_has_majority_template = militia
			owner = {
				OR = {
					original_tag = ITA
					original_tag = SWI
				}
				NOT = {
					OR = {
						has_idea = best_of_the_best_spirit
						has_idea = academy_scholarships_spirit
					}
				}
			}
		}
		modifier = {
			modifier_army_sub_unit_militia_defence_factor = 0.05
			modifier_army_sub_unit_militia_speed_factor = 0.05
			modifier_army_sub_unit_militia_max_org_factor = 0.05
		}
		new_commander_weight = {
			base = 0
		}
		defense_skill_factor = 1
		planning_skill_factor = 1
	}
	artillery_officer = {
		type = corps_commander
		trait_type = personality_trait
		trait_xp_factor = {
			artillery_leader = 1			#+100%
		}
		new_commander_weight = {
			factor = 1
			# modifier = {
			# 	FROM = {
			# 		has_idea = best_of_the_best_spirit
			# 	}
			# 	factor = 0
			# }
			# modifier = {
			# 	FROM = {
			# 		has_idea = academy_scholarships_spirit
			# 	}
			# 	factor = 0
			# }
		}
	}
	jaeger = {
		type = land
		trait_type = personality_trait
		allowed = {
		}
		trait_xp_factor = {
			trickster = 1			#+100%
			winter_specialist = 1			#+100%
			commando = 1			#+100%
			swamp_fox = 1			#+100%
			ranger = 1			#+100%
			hill_fighter = 1			#+100%
			urban_assault_specialist = 1			#+100%
			naval_invader = 1			#+100%
		}
		modifier = {
			equipment_capture = 0.03
		}
		new_commander_weight = {
			factor = 0
		}
		attack_skill_factor = 1
		logistics_skill_factor = 1
	}
	##--Status Traits--##
	sick = {
		type = all
		trait_type = status_trait
		non_shared_modifier = {
			skill_bonus_factor = -0.5
			cannot_use_abilities = 1
		}
	}
	wounded = {
		type = all
		trait_type = status_trait
		non_shared_modifier = {
			skill_bonus_factor = -0.5
			cannot_use_abilities = 1
		}
	}
	reassigned = {
		type = all
		trait_type = status_trait
		non_shared_modifier = {
			skill_bonus_factor = -1
			cannot_use_abilities = 1
		}
	}
	disgruntled = {
		type = all
		trait_type = status_trait
		attack_skill = -2
		defense_skill = -2
		logistics_skill = -2
		planning_skill = -2
	}
	demoted = {
		type = all
		trait_type = status_trait
		attack_skill = -1
		defense_skill = -1
		logistics_skill = -1
		planning_skill = -1
	}
	substance_abuser = {
		type = all
		trait_type = status_trait
	}
	substance_addict = {
		type = all
		trait_type = status_trait
		allowed = {
			has_trait = substance_abuser
		}
		attack_skill = -2
		defense_skill = -2
		logistics_skill = -2
		planning_skill = -2
	}
	hidden_sympathies = {
		type = all
		trait_type = status_trait
	}
	recently_promoted = {
		type = all
		trait_type = status_trait
		attack_skill = -1
		defense_skill = -1
		logistics_skill = -1
		planning_skill = -1
	}
	promoted_from_the_ranks = {
		type = land
		trait_type = personality_trait
		modifier = {
			promote_cost_factor = 0.5
			planning_speed = 0.1
			recon_factor = 0.05
		}
		new_commander_weight = {
			factor = 0
		}
	}
	##--Special trait for exiled leaders--##
	exiled_leader = {
		type = land
		trait_type = exile
		gain_xp = {
			always = no			# not gainable
		}
		modifier = {
			exiled_divisions_attack_factor = 0.1
			own_exiled_divisions_attack_factor = 0.05
			exiled_divisions_defense_factor = 0.1
			own_exiled_divisions_defense_factor = 0.05
		}
		ai_will_do = {
			factor = 1
		}
		new_commander_weight = {
			factor = 0
		}
	}
}
