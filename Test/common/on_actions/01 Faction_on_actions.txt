on_actions = {
	# country, FROM = target nation
	on_leave_faction = {
		effect = {
			FROM = {
				add_opinion_modifier = {
					modifier = faction_traitor
					target = ROOT
					days = 365
				}
				add_opinion_modifier = {
					modifier = faction_traitor_trade
					target = ROOT
					days = 365
				}
			}
		}
	}
	on_faction_formed = {
		effect = {
			news_event = {
				id = news.159
			}
		}
	}
	on_offer_join_faction = {
		effect = {
			log = "[GetDateText] [Root.GetName] on_offer_join_faction FROM = [From.GetName]"
			FROM = {
				#Faction Opinion Modifiers
				# country_event = generic_events.50
				# country_event = generic_events.52
				# country_event = generic_events.54
				#clear any embargoes
				every_other_country = {
					limit = {
						is_ally_with = PREV
					}
					clear_embargo_PREV = yes
				}
				# if = {
				# 	limit = {
				# 		has_global_flag = TEMPORARY_DISABLED_FACTION_POPUP
				# 	}
				# 	clr_global_flag = TEMPORARY_DISABLED_FACTION_POPUP
				# }
				if = {
					limit = {
						NOT = {
							is_in_array = {
								global.faction_joining_alerts = THIS
							}
						}
					}
					add_to_array = {
						global.faction_joining_alerts = THIS
					}
					sound_effect = diplomatic_notification
					set_variable_to_random = global.kaiserreich_alerts_dirty
					country_event = {
						id = generic_events.25
						days = 10
					}
				}
			}
			#WT from faction joining
			# if = {
			# 	limit = {
			# 		NOT = {
			# 			has_global_flag = second_weltkrieg_has_started
			# 		}
			# 	}
			# 	if = {
			# 		limit = {
			# 			OR = {
			# 				original_tag = GER
			# 				original_tag = AUS
			# 				tag = ENT
			# 			}
			# 			NOT = {
			# 				FROM = {
			# 					has_country_flag = world_tension_joined_conservative_faction
			# 				}
			# 			}
			# 		}
			# 		FROM = {
			# 			set_country_flag = world_tension_joined_conservative_faction
			# 			calculate_faction_joining_tension = yes
			# 			multiply_temp_variable = {
			# 				threat_value = -0.75
			# 			}
			# 			add_named_threat = {
			# 				threat = threat_value
			# 				name = country_joins_alliance_threat
			# 			}
			# 		}
			# 	}
			# 	else_if = {
			# 		limit = {
			# 			OR = {
			# 				tag = INT
			# 				original_tag = JAP
			# 				is_russian_tag = yes
			# 			}
			# 			NOT = {
			# 				FROM = {
			# 					has_country_flag = world_tension_joined_radical_faction
			# 				}
			# 			}
			# 		}
			# 		FROM = {
			# 			set_country_flag = world_tension_joined_radical_faction
			# 			calculate_faction_joining_tension = yes
			# 			multiply_temp_variable = {
			# 				threat_value = 1
			# 			}
			# 			add_named_threat = {
			# 				threat = threat_value
			# 				name = country_joins_alliance_threat
			# 			}
			# 		}
			# 	}
			# }
		}
	}
}
