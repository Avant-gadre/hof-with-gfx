#!gfx:interface\goals\_goal.gfx
focus_tree = {
	id = spainish_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SPA
		}
	}
	default = no
	continuous_focus_position = {
		x = 2400
		y = 1200
	}
	focus = {
		id = SPA_strengthen_the_country
		icon = GFX_focus_generic_flag_spain
		cost = 5
		x = -6
		y = 0
		ai_will_do = {
			factor = 50
		}
		available = {
			hidden_trigger = {
				OR = {
					NOT = {
						has_global_flag = Spain_civil_war_start_flag
					}
					has_global_flag = Spain_civil_war_end_flag
				}
			}
		}
		completion_reward = {
			add_stability = 0.05
			add_political_power = 30
		}
	}
	focus = {
		id = SPA_focus_economy
		icon = GFX_focus_generic_catholic_construction
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = -2
		y = 1
		prerequisite = {
			focus = SPA_strengthen_the_country
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			add_one_random_civilian_factory = yes
		}
	}
	focus = {
		id = SPA_cig
		icon = GFX_focus_generic_promote_entrepeneurship
		cost = 8
		relative_position_id = SPA_focus_economy
		x = -2
		y = 2
		prerequisite = {
			focus = SPA_focus_economy
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			165 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_northern_industry
		icon = GFX_focus_generic_central_refuse_disposal1
		cost = 8
		relative_position_id = SPA_focus_economy
		x = -3
		y = 1
		prerequisite = {
			focus = SPA_focus_economy
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			1070 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			1081 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_galician_tungsten
		icon = GFX_focus_generic_tungsten
		cost = 8
		relative_position_id = SPA_northern_industry
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_northern_industry
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_resource = {
				type = tungsten
				amount = 4
				state = 171
			}
			171 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_construction_focus
		icon = GFX_focus_generic_orange_industry
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = -1
		y = 2
		prerequisite = {
			focus = SPA_focus_economy
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			41 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			167 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			793 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			build_railway = {
				path = {
					3794
					3820
					13557
					11809
					9870
					885
				}
			}
			build_railway = {
				path = {
					758
					3761
					6764
					9719
					13066
					11707
				}
			}
		}
	}
	focus = {
		id = SPA_zaragozan_steelworks
		icon = GFX_focus_generic_steel
		cost = 8
		relative_position_id = SPA_construction_focus
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_construction_focus
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_resource = {
				type = steel
				amount = 4
				state = 166
			}
			166 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_civ_production
		icon = GFX_focus_generic_medium_industry
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = -3
		y = 2
		prerequisite = {
			focus = SPA_focus_economy
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = {
					41
				}
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = {
					176
				}
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = {
					165
				}
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_new_jobs
		icon = GFX_focus_generic_infrastructure_road
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = -3
		y = 4
		prerequisite = {
			focus = SPA_civ_production
		}
		prerequisite = {
			focus = SPA_construction_focus
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_new_jobs
				bonus = 1
				uses = 1
				category = industry
			}
			add_stability = 0.05
		}
	}
	focus = {
		id = SPA_repurpose_steel_mills
		icon = GFX_focus_DEN_limited_regulations
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = -2
		y = 3
		prerequisite = {
			focus = SPA_construction_focus
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			173 = {
				add_resource = {
					type = steel
					amount = -4
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_relocate_factories_seville
		icon = GFX_focus_generic_industry_reallocation
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 0
		y = 3
		prerequisite = {
			focus = SPA_construction_focus
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			169 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			170 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			166 = {
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			1070 = {
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
		}
	}
	focus = {
		id = SPA_focus_military
		icon = GFX_focus_generic_military_mobilisation
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 2
		y = 1
		prerequisite = {
			focus = SPA_strengthen_the_country
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			add_one_random_military_factory = yes
		}
	}
	focus = {
		id = SPA_roads_of_war
		icon = GFX_focus_generic_bridge
		cost = 8
		relative_position_id = SPA_focus_military
		x = 2
		y = 2
		prerequisite = {
			focus = SPA_focus_military
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			940 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			167 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_mil_production
		icon = GFX_focus_generic_national_arsenal
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 1
		y = 2
		prerequisite = {
			focus = SPA_focus_military
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			41 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			169 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_mil_planning
		icon = GFX_focus_generic_seize_stockpiles
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 2
		y = 3
		prerequisite = {
			focus = SPA_focus_military
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_mil_planning
				cost_reduction = 0.99
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SPA_fortify_madrid
		icon = GFX_focus_generic_fortification_gen
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 3
		y = 2
		prerequisite = {
			focus = SPA_focus_military
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			41 = {
				add_building_construction = {
					type = bunker
					province = 3938
					level = 4
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_defend_burgos
		icon = GFX_focus_generic_castle
		cost = 8
		relative_position_id = SPA_fortify_madrid
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_fortify_madrid
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			176 = {
				add_building_construction = {
					type = bunker
					province = 885
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_army_of_africa
		icon = GFX_focus_generic_paramilitary
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 1
		y = 4
		prerequisite = {
			focus = SPA_mil_planning
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_kings_proclamation
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		cost = 8
		relative_position_id = SPA_strengthen_the_country
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_strengthen_the_country
		}
		allow_branch = {
			tag = SPA
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_autarky
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_strengthen_the_country
		}
		allow_branch = {
			tag = SPB
		}
		icon = GFX_focus_generic_economic_control
		x = 0
		y = 1
		relative_position_id = SPA_strengthen_the_country
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = closed_economy
					}
				}
				add_ideas = closed_economy
			}
			swap_ideas = {
				remove_idea = SPA_national_recovery_1
				add_idea = SPA_national_recovery_2
			}
			add_tech_bonus = {
				name = HOL_make_use_of_our_riches
				bonus = 1
				uses = 2
				category = excavation_tech
			}
			add_tech_bonus = {
				name = HOL_expand_curacao_oil_refineries
				bonus = 1
				uses = 1
				category = synth_resources
			}
		}
	}
	focus = {
		id = SPR_provide_for_the_people
		available = {
			is_in_faction_with = SOV
			SOV = {
				has_government = communism
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_strengthen_the_country
		}
		allow_branch = {
			tag = SPC
		}
		icon = GFX_focus_prc_agrarian_socialism
		x = 0
		y = 1
		relative_position_id = SPA_strengthen_the_country
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_ideas = SPR_provide_for_the_people
		}
	}
	focus = {
		id = SPR_relocate_the_gold_reserves
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_strengthen_the_country
		}
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = -4
		y = 1
		relative_position_id = SPA_strengthen_the_country
		cost = 5
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_stability = -0.05
			add_ideas = SPR_relocate_the_gold_reserves
			set_global_flag = SPR_gold_reserves_flag
		}
	}
	focus = {
		id = SPA_consolidate_spain
		icon = GFX_focus_SPA_spanish_civil_war
		cost = 5
		x = -3
		y = 6
		available = {
		}
		bypass = {
			is_subject = yes
		}
		allow_branch = {
			OR = {
				tag = SPA
				tag = SPB
				tag = SPC
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_call_for_unity
		icon = GFX_focus_generic_government19
		cost = 5
		relative_position_id = SPA_consolidate_spain
		x = 5
		y = 1
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		allow_branch = {
			tag = SPA
		}
		available = {
			has_global_flag = Spain_civil_war_end_flag
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_rights_spanish
		icon = GFX_focus_HUN_adapt_constitution
		cost = 5
		relative_position_id = SPA_call_for_unity
		x = -2
		y = 1
		available = {
		}
		offset = {
			x = 1
			y = 0
			trigger = {
				tag = SPB
			}
		}
		prerequisite = {
			focus = SPA_call_for_unity
			focus = SPA_caudillo_of_spain
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_adopt_the_26_points
		available = {
			has_global_flag = Spain_civil_war_end_flag
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_rights_spanish
		}
		prerequisite = {
			focus = SPA_regional_agrarian_commissions
		}
		icon = GFX_focus_generic_contact1
		x = -3
		y = 1
		relative_position_id = SPA_rights_spanish
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		allow_branch = {
			tag = SPB
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			if = {
				limit = {
					NOT = {
						has_idea = war_economy
						has_idea = tot_economic_mobilisation
					}
				}
				add_ideas = war_economy
			}
			if = {
				limit = {
					has_idea = limited_conscription
				}
				add_ideas = extensive_conscription
			}
			if = {
				limit = {
					has_idea = volunteer_only
				}
				add_ideas = limited_conscription
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = {
					modifier = autonomous_state
				}
			}
		}
	}
	focus = {
		id = SPA_dictator_for_life
		available = {
			has_country_leader = {
				character = SPA_francisco_franco
				ruling_only = yes
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_adopt_the_26_points
		}
		mutually_exclusive = {
			focus = SPA_organic_democracy
		}
		icon = GFX_focus_generic_government1
		x = 0
		y = 3
		relative_position_id = SPA_adopt_the_26_points
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.05
			swap_ruler_traits = {
				remove = caudillo_1
				add = caudillo_2
			}
			hidden_effect = {
				if = {
					limit = {
						has_government = neutrality
					}
					remove_trait = {
						character = SPA_francisco_franco
						ideology = fascism_ideology
						trait = caudillo_1
					}
					add_trait = {
						character = SPA_francisco_franco
						ideology = fascism_ideology
						trait = caudillo_2
					}
				}
				if = {
					limit = {
						has_government = fascism
					}
					remove_trait = {
						character = SPA_francisco_franco
						ideology = despotism
						trait = caudillo_1
					}
					add_trait = {
						character = SPA_francisco_franco
						ideology = despotism
						trait = caudillo_2
					}
				}
			}
		}
	}
	focus = {
		id = SPA_arrest_leaders
		icon = GFX_focus_generic_police_state
		cost = 5
		relative_position_id = SPA_call_for_unity
		x = -2
		y = 2
		prerequisite = {
			focus = SPA_rights_spanish
		}
		offset = {
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_jan
		icon = GFX_focus_generic_ban_paramilitary
		cost = 5
		relative_position_id = SPA_arrest_leaders
		x = -1
		y = 1
		prerequisite = {
			focus = SPA_arrest_leaders
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
			add_war_support = 0.05
		}
	}
	focus = {
		id = SPA_spanish_man
		icon = GFX_focus_generic_population_growth
		cost = 5
		relative_position_id = SPA_jan
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_jan
		}
		prerequisite = {
			focus = SPA_corporate_state
			focus = SPA_unity_at_last
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_organic_democracy
		icon = GFX_focus_generic_improve_the_administration
		cost = 5
		relative_position_id = SPA_spanish_man
		x = 1
		y = 1
		prerequisite = {
			focus = SPA_spanish_man
		}
		prerequisite = {
			focus = SPA_municipal_reorg
		}
		mutually_exclusive = {
			focus = SPA_dictator_for_life
		}
		ai_will_do = {
			factor = 1000
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_new_constitution
		icon = GFX_focus_OTT_constitution
		cost = 5
		relative_position_id = SPA_arrest_leaders
		x = 4
		y = 0
		prerequisite = {
			focus = SPA_rights_spanish
		}
		prerequisite = {
			focus = SPA_reconcilliation
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
			add_stability = 0.05
		}
		on_uncomplete = {
		}
	}
	focus = {
		id = SPR_fortify_the_central_government
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_new_constitution
		}
		icon = GFX_focus_generic_government12
		x = 1
		y = 1
		relative_position_id = SPA_new_constitution
		cost = 10
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_stability = 0.1
			add_political_power = 120
		}
	}
	focus = {
		id = SPR_secure_democratic_principles
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_fortify_the_central_government
		}
		icon = GFX_focus_generic_ideology_market_liberal
		x = 0
		y = 1
		relative_position_id = SPR_fortify_the_central_government
		cost = 10
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_stability = 0.1
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
		}
	}
	focus = {
		id = SPR_strengthen_the_anti_fascist_coalition
		available = {
		}
		prerequisite = {
			focus = SPR_secure_democratic_principles
		}
		prerequisite = {
			focus = SPA_charter_of_labour
		}
		icon = GFX_focus_generic_peace
		x = -1
		y = 1
		relative_position_id = SPR_secure_democratic_principles
		cost = 10
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.1
		}
	}
	focus = {
		id = SPA_national_catholicism
		icon = GFX_focus_generic_catholic_dominion
		cost = 5
		relative_position_id = SPA_call_for_unity
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_rights_spanish
			focus = SPA_reconcilliation
			focus = SPA_suspend_the_constitution
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_unity_at_last
		icon = GFX_focus_spa_unify_the_nationalist_front
		cost = 5
		relative_position_id = SPA_national_catholicism
		x = -1
		y = 1
		prerequisite = {
			focus = SPA_arrest_leaders
		}
		prerequisite = {
			focus = SPA_national_catholicism
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_corporate_state
		icon = GFX_focus_generic_corporatism
		cost = 5
		relative_position_id = SPA_national_catholicism
		x = 1
		y = 1
		prerequisite = {
			focus = SPA_arrest_leaders
		}
		prerequisite = {
			focus = SPA_national_catholicism
			focus = SPA_new_constitution
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
			add_political_power = 50
		}
	}
	focus = {
		id = SPA_charter_of_labour
		icon = GFX_focus_generic_enforce_labor_regulation
		cost = 5
		relative_position_id = SPA_corporate_state
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_corporate_state
		}
		prerequisite = {
			focus = SPA_unity_at_last
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_municipal_reorg
		icon = GFX_focus_generic_social_reforms
		cost = 5
		relative_position_id = SPA_corporate_state
		x = -2
		y = 1
		prerequisite = {
			focus = SPA_corporate_state
		}
		prerequisite = {
			focus = SPA_unity_at_last
		}
		available = {
			has_completed_focus = SPA_rights_spanish
		}
		ai_will_do = {
			factor = 110
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_safeguard_the_freedom_of_worship
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_municipal_reorg
		}
		prerequisite = {
			focus = SPA_charter_of_labour
		}
		icon = GFX_focus_generic_befriend_catholic
		x = 1
		y = 1
		relative_position_id = SPA_municipal_reorg
		cost = 10
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_stability = 0.1
			add_political_power = 60
		}
	}
	focus = {
		id = SPA_reconcilliation
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		cost = 5
		relative_position_id = SPA_call_for_unity
		x = 2
		y = 1
		prerequisite = {
			focus = SPA_call_for_unity
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_the_stabilization_plan
		available = {
			NOT = {
				has_completed_focus = SPA_expand_the_axis_gold_trade
			}
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_call_for_unity
		}
		icon = GFX_focus_generic_defence_fgo
		x = 0
		y = 1
		relative_position_id = SPA_call_for_unity
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = SPA_recovering_from_civil_war
						has_idea = SPA_recovering_from_civil_war_2
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
		}
	}
	focus = {
		id = SPR_the_popular_front
		available = {
			NOT = {
				has_country_flag = SPR_spanish_elections_flag
			}
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		mutually_exclusive = {
			focus = SPA_a_great_spain
		}
		allow_branch = {
			tag = SPA
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		icon = GFX_focus_intervention_spain_republic
		x = -8
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 5
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						NOT = {
							state = 290
							state = 699
							state = 783
							state = 297
						}
					}
					SPR_garrison_control_cost_calculation = yes
				}
			}
		}
	}
	focus = {
		id = SPR_the_popular_army
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_popular_front
		}
		icon = GFX_focus_generic_defensive_strategems
		x = 1
		y = 1
		relative_position_id = SPR_the_popular_front
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			remove_ideas = SPR_disbanded_army_1
			add_tech_bonus = {
				name = SPR_the_popular_army
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			add_doctrine_cost_reduction = {
				name = SPR_the_popular_army
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SPR_distribute_arms_to_the_people
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPR_the_popular_army
			focus = SPR_secure_the_guardia_civil
		}
		icon = GFX_focus_generic_organization_partisans
		x = 1
		y = 1
		relative_position_id = SPR_the_popular_army
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_political_power = 75
			add_to_variable = {
				var = spr_civil_war_divisions_counter_var
				value = 10
			}
			custom_effect_tooltip = SPR_distribute_arms_to_the_people_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}
	focus = {
		id = SPR_no_pasaran
		available = {
			SPR_scw_in_progress = yes
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_distribute_arms_to_the_people
		}
		icon = GFX_focus_spr_no_pasaran
		x = -1
		y = 1
		relative_position_id = SPR_distribute_arms_to_the_people
		cost = 10
		completion_reward = {
			custom_effect_tooltip = SPR_no_pasaran_tt
			hidden_effect = {
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point = yes
						}
						level = 1
						instant_build = yes
					}
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point > 2
						}
						level = 1
						instant_build = yes
					}
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point > 9
						}
						level = 1
						instant_build = yes
					}
				}
				every_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_victory_point > 29
						}
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SPR_disband_the_army
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPR_distribute_arms_to_the_people
		}
		icon = GFX_focus_generic_chain_army
		x = -2
		y = 2
		relative_position_id = SPR_distribute_arms_to_the_people
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			add_political_power = 200
			set_country_flag = SPR_disband_the_army_flag
			custom_effect_tooltip = SPR_disband_the_army_tt
			hidden_effect = {
				country_event = lar_spain.2
			}
		}
	}
	focus = {
		id = SPR_take_the_initiative
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_popular_front
		}
		icon = GFX_focus_generic_zugzwang
		x = -1
		y = 1
		relative_position_id = SPR_the_popular_front
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SPA_tackle_the_vulnerable_fronts_tt
		}
	}
	focus = {
		id = SPR_anti_fascist_unity
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			NOT = {
				has_global_flag = SPR_anarchist_uprising_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_take_the_initiative
		}
		icon = GFX_focus_generic_government13
		x = 1
		y = 1
		relative_position_id = SPR_take_the_initiative
		cost = 5
		completion_reward = {
			custom_effect_tooltip = SPR_anti_fascist_unity_tt
			add_days_mission_timeout = {
				mission = SPR_anarchist_uprising_mission
				days = 140
			}
		}
	}
	focus = {
		id = SPR_reaffirm_the_popular_front_strategy
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = SPR_anarchist_uprising_flag
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		prerequisite = {
			focus = SPR_take_the_initiative
		}
		icon = GFX_focus_generic_red_star_gold_wreath
		x = 0
		y = 2
		relative_position_id = SPR_take_the_initiative
		cost = 5
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_war_support = 0.05
			add_timed_idea = {
				idea = SPR_popular_front_1
				days = 730
			}
		}
	}
	focus = {
		id = SPR_crush_the_revolution
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_take_the_initiative
			focus = SPA_negotiate_carlist_support
		}
		icon = GFX_focus_spr_crush_the_revolution
		x = -1
		y = 1
		relative_position_id = SPR_take_the_initiative
		cost = 5
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = SPR_jesus_hernandez_tomas
			add_timed_idea = {
				idea = SPR_crush_the_revolution
				days = 60
			}
			swap_ideas = {
				remove_idea = SPR_popular_front_1
				add_idea = SPR_popular_front_2
			}
			custom_effect_tooltip = SPR_crush_the_revolution_tt
			if = {
				limit = {
					NOT = {
						has_war_with = SPC
					}
				}
				hidden_effect = {
					country_event = lar_spain.9
				}
			}
		}
	}
	focus = {
		id = SPR_ensure_loyalty
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		allow_branch = {
			tag = SPA
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		icon = GFX_focus_generic_end_freedom
		x = -3
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 10
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = SPR_secure_the_guardia_civil
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_ensure_loyalty
		}
		icon = GFX_focus_generic_drafted_army
		x = -2
		y = 1
		relative_position_id = SPR_ensure_loyalty
		cost = 10
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			add_stability = 0.05
			if = {
				limit = {
					difficulty > 1
					is_ai = no
				}
				custom_effect_tooltip = SPR_secure_the_guardia_civil_tt_2
				add_to_variable = {
					var = spa_civil_war_divisions_counter_var
					value = -5
				}
				add_to_variable = {
					var = spr_civil_war_divisions_counter_var
					value = 10
				}
			}
			else = {
				custom_effect_tooltip = SPR_secure_the_guardia_civil_tt
				add_to_variable = {
					var = spa_civil_war_divisions_counter_var
					value = -3
				}
				add_to_variable = {
					var = spr_civil_war_divisions_counter_var
					value = 6
				}
			}
			set_country_flag = SPR_secure_the_guardia_civil_flag
			custom_effect_tooltip = SPR_secure_the_guardia_get_both_types_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}
	focus = {
		id = SPR_strengthen_the_euzko_gudarostea
		available = {
			has_full_control_of_state = 792
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_secure_the_guardia_civil
		}
		icon = GFX_focus_generic_army_guy_2
		x = 0
		y = 2
		relative_position_id = SPR_secure_the_guardia_civil
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			custom_effect_tooltip = SPR_strengthen_the_euzko_gudarostea_tt
			hidden_effect = {
				division_template = {
					name = "Euzko Gudarosteko Eskuadroia"
					priority = 1
					division_names_group = SPD_INF_05
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 0
							y = 2
						}
					}
				}
				# Basque
				792 = {
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1"
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1"
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1"
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1"
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1"
						owner = ROOT
					}
					create_unit = {
						division = "division_template = \"Euzko Gudarosteko Eskuadroia\" start_experience_factor = 0.1"
						owner = ROOT
					}
				}
			}
		}
	}
	focus = {
		id = SPR_fortify_the_iron_ring
		available = {
			has_full_control_of_state = 792
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_strengthen_the_euzko_gudarostea
		}
		icon = GFX_focus_generic_fort1
		x = -1
		y = 1
		relative_position_id = SPR_strengthen_the_euzko_gudarostea
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			add_timed_idea = {
				idea = SPR_fortify_the_iron_ring
				days = 730
			}
			792 = {
				add_building_construction = {
					type = bunker
					province = {
						id = 740
					}
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_secure_the_guardia_de_asalto
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPR_ensure_loyalty
		}
		icon = GFX_focus_generic_army_cooperation
		x = 0
		y = 1
		relative_position_id = SPR_ensure_loyalty
		cost = 10
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			army_experience = 5
			if = {
				limit = {
					difficulty > 1
					is_ai = no
				}
				custom_effect_tooltip = SPR_secure_the_guardia_de_asalto_tt_2
				add_to_variable = {
					var = spa_civil_war_divisions_counter_var
					value = -10
				}
				add_to_variable = {
					var = spr_civil_war_divisions_counter_var
					value = 5
				}
			}
			else = {
				custom_effect_tooltip = SPR_secure_the_guardia_de_asalto_tt
				add_to_variable = {
					var = spa_civil_war_divisions_counter_var
					value = -6
				}
				add_to_variable = {
					var = spr_civil_war_divisions_counter_var
					value = 3
				}
			}
			set_country_flag = SPR_secure_the_guardia_de_asalto_flag
			custom_effect_tooltip = SPR_secure_the_guardia_get_both_types_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}
	focus = {
		id = SPR_solidify_government_control
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_secure_the_guardia_de_asalto
		}
		icon = GFX_focus_generic_government8
		x = 0
		y = 2
		relative_position_id = SPR_secure_the_guardia_de_asalto
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			set_politics = {
				ruling_party = communism
			}
			add_stability = 0.1
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = {
					modifier = autonomous_state
				}
				add_dynamic_modifier = {
					modifier = semi_autonomous_state
				}
			}
		}
	}
	focus = {
		id = SPR_new_leadership
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_solidify_government_control
		}
		icon = GFX_focus_generic_council
		x = -1
		y = 1
		relative_position_id = SPR_solidify_government_control
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPR_jesus_hernandez_tomas
		}
	}
	focus = {
		id = SPR_train_the_union_youth
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPR_secure_the_guardia_de_asalto
			focus = SPR_secure_the_guardia_civil
		}
		icon = GFX_focus_generic_paramilitary
		x = -1
		y = 1
		relative_position_id = SPR_secure_the_guardia_de_asalto
		cost = 10
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_to_variable = {
				var = spr_civil_war_divisions_counter_var
				value = 5
			}
			custom_effect_tooltip = SPR_train_the_union_youth_tt
			custom_effect_tooltip = SPR_remove_after_civil_war_tt
		}
	}
	focus = {
		id = SPR_enlist_the_carabineros
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_ensure_loyalty
		}
		icon = GFX_focus_generic_secret_police
		x = 1
		y = 2
		relative_position_id = SPR_ensure_loyalty
		cost = 5
		completion_reward = {
		}
	}
	focus = {
		id = SPR_enlarge_the_weapon_caches
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPR_enlist_the_carabineros
		}
		icon = GFX_focus_generic_gunrunning
		x = 0
		y = 2
		relative_position_id = SPR_enlist_the_carabineros
		cost = 10
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			army_experience = 5
			custom_effect_tooltip = SPR_enlarge_the_weapon_caches_tt
			add_political_power = 50
		}
	}
	focus = {
		id = SPR_the_future_of_the_republic
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		allow_branch = {
			tag = SPA
		}
		icon = GFX_focus_generic_trial
		x = 0
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 200
		}
	}
	focus = {
		id = SPA_restore_the_monarchy
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_future_of_the_republic
		}
		mutually_exclusive = {
			focus = SPR_maintain_the_second_republic
		}
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 1
		y = 1
		relative_position_id = SPR_the_future_of_the_republic
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = SPA_supremacy_of_the_communion
				}
				custom_effect_tooltip = SPA_restore_the_monarchy_tt
				hidden_effect = {
					drop_cosmetic_tag = yes
					set_cosmetic_tag = SPB_kingdom
				}
				news_event = {
					id = lar_news.17
					hours = 6
				}
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = SPA_supremacy_of_the_communion
					}
				}
				news_event = {
					id = lar_news.18
					hours = 6
				}
			}
		}
	}
	focus = {
		id = SPA_settle_the_succession_question
		available = {
			has_global_flag = Spain_civil_war_end_flag
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_restore_the_monarchy
		}
		icon = GFX_focus_FRA_stablize_status_quo
		x = -1
		y = 1
		relative_position_id = SPA_restore_the_monarchy
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			add_stability = 0.1
		}
	}
	focus = {
		id = SPA_bourbon_throne
		icon = GFX_focus_FRA_hegemony
		cost = 3
		relative_position_id = SPA_settle_the_succession_question
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_settle_the_succession_question
		}
		available = {
			has_war = no
		}
		allow_branch = {
		}
		bypass = {
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_franco_spain
		icon = GFX_focus_FRA_restauration
		cost = 3
		relative_position_id = SPA_bourbon_throne
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_bourbon_throne
		}
		available = {
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPR_maintain_the_second_republic
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_future_of_the_republic
		}
		mutually_exclusive = {
			focus = SPA_restore_the_monarchy
		}
		icon = GFX_focus_spr_maintain_the_republic
		x = -1
		y = 1
		relative_position_id = SPR_the_future_of_the_republic
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_political_power = 60
			add_war_support = 0.05
			activate_mission = SPR_anarchist_uprising_mission
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = SPR_antonio_escobar_huerta
		}
	}
	focus = {
		id = SPA_caudillo_of_spain
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		allow_branch = {
			tag = SPB
		}
		mutually_exclusive = {
			focus = SPA_the_phalanx_ascendant
		}
		icon = GFX_focus_spa_caudillo_of_spain
		x = 3
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.05
			hidden_effect = {
				kill_country_leader = yes
				kill_ideology_leader = fascism
			}
			add_country_leader_role = {
				character = "SPA_francisco_franco"
				country_leader = {
					ideology = despotism
					traits = {
						caudillo_1
					}
					expire = "1965.1.1"
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				character = "SPA_francisco_franco"
				country_leader = {
					ideology = fascism_ideology
					traits = {
						caudillo_1
					}
					expire = "1965.1.1"
				}
				promote_leader = yes
			}
		}
	}
	focus = {
		id = SPA_regional_agrarian_commissions
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_caudillo_of_spain
		}
		icon = GFX_focus_generic_strong_farming
		x = -1
		y = 1
		relative_position_id = SPA_caudillo_of_spain
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_regional_agrarian_commissions_1civ
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SPA_regional_agrarian_commissions
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_regional_agrarian_commissions_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_regional_agrarian_commissions_1civ
					}
				}
				set_state_flag = SPA_regional_agrarian_commissions_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_unify_the_nationalist_front
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		icon = GFX_focus_spa_unify_the_nationalist_front
		x = -2
		y = 1
		allow_branch = {
			tag = SPB
		}
		relative_position_id = SPA_consolidate_spain
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.1
			activate_mission = SPA_carlist_uprising_mission
		}
	}
	focus = {
		id = SPA_the_condor_legion
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			has_volunteers_amount_from = {
				tag = GER
				count > 0
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_secure_the_national_defense_council
			focus = SPA_unify_the_nationalist_front
		}
		icon = GFX_focus_generic_befriend_germany
		x = -4
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			GER = {
				add_timed_idea = {
					idea = SPA_spanish_civil_war_commitments
					days = 730
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = SPA_spanish_civil_war_commitments
				}
			}
			add_tech_bonus = {
				name = SPA_the_condor_legion
				bonus = 1
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = SPA_the_condor_legion
				bonus = 1
				uses = 1
				category = cas_bomber
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPA_wilhelm_ritter_von_thoma
		}
	}
	focus = {
		id = SPA_the_corpo_truppe_volontarie
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			has_volunteers_amount_from = {
				tag = ITA
				count > 0
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_secure_the_national_defense_council
			focus = SPA_unify_the_nationalist_front
		}
		icon = GFX_focus_generic_befriend_italy
		x = -6
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			ITA = {
				add_timed_idea = {
					idea = SPA_spanish_civil_war_commitments
					days = 730
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = SPA_spanish_civil_war_commitments
				}
			}
			add_tech_bonus = {
				name = SPA_the_corpo_truppe_volontarie
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPA_the_corpo_truppe_volontarie
				bonus = 1
				uses = 1
				category = artillery
			}
		}
	}
	focus = {
		id = SPA_equipment_shipments
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			OR = {
				has_volunteers_amount_from = {
					tag = ITA
					count > 0
				}
				has_volunteers_amount_from = {
					tag = GER
					count > 0
				}
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_the_corpo_truppe_volontarie
		}
		prerequisite = {
			focus = SPA_the_condor_legion
		}
		icon = GFX_focus_generic_liberty_ships
		x = 1
		y = 1
		relative_position_id = SPA_the_corpo_truppe_volontarie
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			GER = {
				add_timed_idea = {
					idea = SPR_equipment_shipments
					days = 730
				}
				add_ai_strategy = {
					type = send_lend_lease_desire
					id = SPA
					value = 200
				}
			}
			ITA = {
				add_timed_idea = {
					idea = SPR_equipment_shipments
					days = 730
				}
				add_ai_strategy = {
					type = send_lend_lease_desire
					id = SPA
					value = 200
				}
			}
			add_timed_idea = {
				idea = SPR_equipment_shipments_spain
				days = 730
			}
		}
	}
	focus = {
		id = SPA_doctrinal_advancements
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			OR = {
				has_volunteers_amount_from = {
					tag = ITA
					count > 0
				}
				has_volunteers_amount_from = {
					tag = GER
					count > 0
				}
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_equipment_shipments
		}
		icon = GFX_focus_generic_mass_concentration_of_army
		x = 1
		y = 1
		relative_position_id = SPA_equipment_shipments
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_doctrinal_advancements
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SPA_doctrinal_advancements
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	focus = {
		id = SPA_obtain_training_staff
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			OR = {
				has_volunteers_amount_from = {
					tag = ITA
					count > 0
				}
				has_volunteers_amount_from = {
					tag = GER
					count > 0
				}
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_equipment_shipments
		}
		icon = GFX_focus_generic_military_academy
		x = 0
		y = 2
		relative_position_id = SPA_equipment_shipments
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			army_experience = 50
			add_timed_idea = {
				idea = SPA_foreign_training_staff
				days = 730
			}
		}
	}
	focus = {
		id = SPA_a_methodical_approach
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_unify_the_nationalist_front
		}
		icon = GFX_goal_generic_more_territorial_claims
		x = 2
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SPA_a_methodical_approach
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}
	focus = {
		id = SPA_portuguese_aid_nationalist
		available = {
			NOT = {
				has_war_with = POR
			}
			any_enemy_country = {
				NOT = {
					has_volunteers_amount_from = {
						tag = POR
						count > 0
					}
				}
			}
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_a_methodical_approach
		}
		icon = GFX_focus_generic_befriend_portugal
		x = 0
		y = 2
		relative_position_id = SPA_a_methodical_approach
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			effect_tooltip = {
				add_manpower = 20000
				POR = {
					add_timed_idea = {
						idea = SPA_spanish_civil_war_commitments
						days = 730
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = SPA_spanish_civil_war_commitments
					}
				}
			}
			custom_effect_tooltip = SPA_the_iberian_pact_tt_2
			POR = {
				country_event = {
					id = lar_spain.22
					hours = 12
					random_hours = 36
				}
			}
		}
	}
	focus = {
		id = SPA_tackle_the_vulnerable_fronts
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_a_methodical_approach
		}
		icon = GFX_focus_generic_forced_mil
		x = -1
		y = 1
		relative_position_id = SPA_a_methodical_approach
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SPA_tackle_the_vulnerable_fronts_tt
		}
	}
	focus = {
		id = SPA_integrate_the_requetes
		available = {
		}
		bypass = {
			has_global_flag = SPR_carlist_uprising_flag
		}
		prerequisite = {
			focus = SPA_tackle_the_vulnerable_fronts
		}
		prerequisite = {
			focus = SPA_foment_a_carlist_split
		}
		icon = GFX_focus_generic_army_mass_assault
		x = 0
		y = 2
		relative_position_id = SPA_tackle_the_vulnerable_fronts
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			if = {
				limit = {
					NOT = {
						has_idea = SPA_carlism_2
						has_idea = SPA_carlism_5
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_carlism_2
						add_idea = SPA_carlism_3
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_carlism_2
				}
				swap_ideas = {
					remove_idea = SPA_carlism_2
					add_idea = SPA_carlism_3
				}
			}
			if = {
				limit = {
					has_idea = SPA_carlism_5
				}
				swap_ideas = {
					remove_idea = SPA_carlism_5
					add_idea = SPA_carlism_4
				}
			}
		}
	}
	focus = {
		id = SPA_consolidate_the_north
		available = {
			controls_state = 166
			controls_state = 172
			controls_state = 176
			controls_state = 792
			controls_state = 790
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_unify_the_nationalist_front
		}
		icon = GFX_focus_generic_army_defence
		x = 0
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			166 = {
				if = {
					limit = {
						166 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			172 = {
				if = {
					limit = {
						172 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			176 = {
				if = {
					limit = {
						176 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			792 = {
				if = {
					limit = {
						792 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			790 = {
				if = {
					limit = {
						790 = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			add_days_mission_timeout = {
				mission = SPA_carlist_uprising_mission
				days = 70
			}
		}
	}
	focus = {
		id = SPA_foment_a_carlist_split
		available = {
		}
		bypass = {
			has_global_flag = SPR_carlist_uprising_flag
		}
		prerequisite = {
			focus = SPA_consolidate_the_north
		}
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		x = 0
		y = 2
		relative_position_id = SPA_consolidate_the_north
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_SPA_CARLIST_UPRISING
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPA_carlism_1
				add_idea = SPA_carlism_2
			}
			add_days_mission_timeout = {
				mission = SPA_carlist_uprising_mission
				days = 140
			}
		}
	}
	focus = {
		id = SPA_absorb_carlist_remnants
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_foment_a_carlist_split
		}
		icon = GFX_focus_generic_ban_paramilitary
		x = -3
		y = 1
		relative_position_id = SPA_foment_a_carlist_split
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			add_manpower = 25000
			add_political_power = 60
		}
	}
	focus = {
		id = SPA_eliminate_the_carlists
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_foment_a_carlist_split
		}
		icon = GFX_focus_spa_eliminate_the_carlists
		x = -1
		y = 1
		relative_position_id = SPA_foment_a_carlist_split
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			add_timed_idea = {
				idea = SPA_eliminate_the_carlists
				days = 60
			}
			custom_effect_tooltip = SPR_crush_the_revolution_tt
			if = {
				limit = {
					NOT = {
						has_war_with = SPB
					}
				}
				hidden_effect = {
					country_event = lar_spain.7
				}
			}
		}
	}
	focus = {
		id = SPA_save_the_alcazar
		available = {
		}
		bypass = {
			OR = {
				controls_province = 858
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		prerequisite = {
			focus = SPA_unify_the_nationalist_front
		}
		icon = GFX_focus_spa_save_the_alcazar
		x = -2
		y = 1
		relative_position_id = SPA_unify_the_nationalist_front
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			activate_mission = SPA_save_the_alcazar_mission
		}
	}
	focus = {
		id = SPA_primo_de_rivera_prisoner_exchange
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_save_the_alcazar
		}
		mutually_exclusive = {
			focus = SPA_martyrdom_for_primo_de_rivera
		}
		allow_branch = {
			tag = SPB
		}
		icon = GFX_focus_generic_imprison_people
		x = 1
		y = 1
		relative_position_id = SPA_save_the_alcazar
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SPR_SPA_jose_antonio_primo_de_rivera
		}
	}
	focus = {
		id = SPA_extol_the_martyrs_of_the_war
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_martyrdom_for_primo_de_rivera
			focus = SPA_primo_de_rivera_prisoner_exchange
		}
		icon = GFX_goal_generic_propaganda
		x = 0
		y = 2
		relative_position_id = SPA_save_the_alcazar
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_SPA_CARLIST_UPRISING
		}
		completion_reward = {
			add_war_support = 0.1
		}
	}
	focus = {
		id = SPA_martyrdom_for_primo_de_rivera
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_save_the_alcazar
		}
		mutually_exclusive = {
			focus = SPA_primo_de_rivera_prisoner_exchange
		}
		icon = GFX_focus_generic_cinema
		x = -1
		y = 1
		relative_position_id = SPA_save_the_alcazar
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_war_support = 0.1
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SPA_secure_the_national_defense_council
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		icon = GFX_focus_generic_army_high_command
		x = -10
		y = 1
		allow_branch = {
			tag = SPB
		}
		relative_position_id = SPA_consolidate_spain
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.2
		}
	}
	focus = {
		id = SPA_bolster_offensive_infrastructure
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_secure_the_national_defense_council
		}
		icon = GFX_focus_generic_seize_railway
		x = 0
		y = 1
		relative_position_id = SPA_secure_the_national_defense_council
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_bolster_offensive_infrastructure_1inf
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_global_flag = spanish_civil_war
					}
				}
				custom_effect_tooltip = SPA_bolster_offensive_infrastructure_tt
			}
			if = {
				limit = {
					has_global_flag = spanish_civil_war
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						is_core_of = ROOT
						any_neighbor_state = {
							owner = {
								has_war_with = ROOT
							}
						}
					}
					set_state_flag = SPA_bolster_offensive_infrastructure_1inf
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						is_core_of = ROOT
						NOT = {
							has_state_flag = SPA_bolster_offensive_infrastructure_1inf
						}
						any_neighbor_state = {
							owner = {
								has_war_with = ROOT
							}
						}
					}
					set_state_flag = SPA_bolster_offensive_infrastructure_1inf
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
						is_core_of = ROOT
						NOT = {
							has_state_flag = SPA_bolster_offensive_infrastructure_1inf
						}
						any_neighbor_state = {
							owner = {
								has_war_with = ROOT
							}
						}
					}
					set_state_flag = SPA_bolster_offensive_infrastructure_1inf
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SPA_contact_the_union_militar_espanola
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_bolster_offensive_infrastructure
		}
		icon = GFX_focus_generic_army_command_power
		x = 0
		y = 2
		relative_position_id = SPA_bolster_offensive_infrastructure
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_contact_the_union_militar_espanola
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			country_event = {
				id = lar_spain.33
				hours = 6
				random_hours = 6
			}
		}
	}
	focus = {
		id = SPA_develop_all_talent
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_contact_the_union_militar_espanola
		}
		icon = GFX_focus_generic_brain
		x = 1
		y = 1
		relative_position_id = SPA_contact_the_union_militar_espanola
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = SPA_emergency_munitions_corporations
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_bolster_offensive_infrastructure
		}
		icon = GFX_focus_generic_artillery_factories
		x = 1
		y = 1
		relative_position_id = SPA_bolster_offensive_infrastructure
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_emergency_munitions_corporations_1mil
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_emergency_munitions_corporations_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_emergency_munitions_corporations_1mil
					}
				}
				set_state_flag = SPA_emergency_munitions_corporations_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_emergency_munitions_corporations_1mil
					}
				}
				set_state_flag = SPA_emergency_munitions_corporations_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_syndicalize_production
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_emergency_munitions_corporations
		}
		icon = GFX_focus_generic_national_arsenal
		x = 1
		y = 1
		relative_position_id = SPA_emergency_munitions_corporations
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_syndicalize_production_1civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = {
					has_state_flag = SPA_syndicalize_production_1mil
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_syndicalize_production
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_syndicalize_production_1civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_syndicalize_production_1civ
					}
				}
				set_state_flag = SPA_syndicalize_production_1mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_the_fifth_column
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_bolster_offensive_infrastructure
		}
		icon = GFX_focus_prc_infiltration
		x = -1
		y = 1
		relative_position_id = SPA_bolster_offensive_infrastructure
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			division_template = {
				name = "Fifth Columnist Brigade"
				template_counter = 33
				priority = 1
				division_names_group = SPR_INF_01
				is_locked = yes
				regiments = {
					infantry = {
						x = 0
						y = 0
					}
					infantry = {
						x = 0
						y = 1
					}
					infantry = {
						x = 0
						y = 2
					}
				}
			}
			custom_effect_tooltip = SPA_the_fifth_column_tt
		}
	}
	focus = {
		id = SPA_the_war_in_the_north
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_the_fifth_column
		}
		icon = GFX_focus_generic_army_grand_battleplan
		x = 0
		y = 2
		relative_position_id = SPA_the_fifth_column
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_the_war_in_the_north
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			if = {
				limit = {
					NOT = {
						has_decision = SPA_galicia_offensive
						has_decision = SPA_asturias_offensive
						has_decision = SPA_leon_offensive
						has_decision = SPA_valladolid_offensive
						has_decision = SPA_burgos_offensive
						has_decision = SPA_pais_vasco_offensive
						has_decision = SPA_navarra_offensive
						has_decision = SPA_western_aragon_offensive
						has_decision = SPA_eastern_aragon_offensive
						has_decision = SPA_catalunya_offensive
						has_decision = SPA_salamanca_offensive
						has_decision = SPA_madrid_offensive
						has_decision = SPA_guadalajara_offensive
						has_decision = SPA_valencia_offensive
						has_decision = SPA_extremadura_offensive
						has_decision = SPA_ciudad_real_offensive
						has_decision = SPA_murcia_offensive
						has_decision = SPA_sevilla_offensive
						has_decision = SPA_cordoba_offensive
						has_decision = SPA_granada_offensive
					}
					has_country_flag = SPR_preparing_offensive_in_progress_flag
				}
				clr_country_flag = SPR_preparing_offensive_in_progress_flag
			}
			790 = {
				clr_state_flag = SPR_unplanned_offensive_flag
				remove_dynamic_modifier = {
					modifier = unplanned_offensive
				}
			}
			792 = {
				clr_state_flag = SPR_unplanned_offensive_flag
				remove_dynamic_modifier = {
					modifier = unplanned_offensive
				}
			}
		}
	}
	focus = {
		id = SPA_head_the_junta_nacional
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_secure_the_national_defense_council
		}
		icon = GFX_focus_generic_collaborate_local_elites
		x = -2
		y = 1
		relative_position_id = SPA_secure_the_national_defense_council
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_stability = 0.05
			create_country_leader = {
				name = "Manuel Fal Conde"
				desc = "POLITICS_MANUEL_FAL_CONDE_DESC"
				picture = "GFX_portrait_SPA_manuel_fal_conde"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					jefe
				}
			}
		}
	}
	focus = {
		id = SPA_unite_the_requetes
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_head_the_junta_nacional
		}
		icon = GFX_focus_generic_specialforces_gen
		x = 0
		y = 2
		relative_position_id = SPA_head_the_junta_nacional
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			remove_ideas = SPA_disjointed_carlist_juntas
		}
	}
	focus = {
		id = SPA_the_phalanx_ascendant
		available = {
			has_global_flag = spanish_civil_war
			hidden_trigger = {
				always = no
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		allow_branch = {
			tag = SPB
		}
		mutually_exclusive = {
			focus = SPA_caudillo_of_spain
		}
		icon = GFX_focus_spa_the_phalanx_ascendant
		x = 7
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			activate_mission = SPA_carlist_uprising_mission
		}
	}
	focus = {
		id = SPA_embrace_the_spanish_destiny
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_the_phalanx_ascendant
		}
		icon = GFX_focus_generic_trial
		x = -1
		y = 1
		relative_position_id = SPA_the_phalanx_ascendant
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SPA_embrace_the_spanish_destiny
		}
	}
	focus = {
		id = SPA_suspend_the_constitution
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_the_phalanx_ascendant
		}
		icon = GFX_focus_generic_contract_break
		x = 1
		y = 1
		relative_position_id = SPA_the_phalanx_ascendant
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 120
			add_popularity = {
				ideology = democratic
				popularity = -1
			}
			hidden_effect = {
				set_temp_variable = {
					var = suspend_the_constitution_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = suspend_the_constitution_var
					value = -0.5
				}
			}
			custom_effect_tooltip = ENG_alliance_with_germany_tt
			add_stability = suspend_the_constitution_var
		}
	}
	focus = {
		id = SPA_abolish_parties
		icon = GFX_focus_generic_contract_burn
		cost = 5
		relative_position_id = SPA_suspend_the_constitution
		x = 1
		y = 1
		prerequisite = {
			focus = SPA_suspend_the_constitution
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPA_abolish_parties"
			if = {
				limit = {
					has_idea = SPA_falangism6
				}
				swap_ideas = {
					remove_idea = SPA_falangism6
					add_idea = SPA_falangism8
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SPA_falangism7
					add_idea = SPA_falangism9
				}
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.05
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.05
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.05
			}
		}
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
	}
	focus = {
		id = SPA_national_revolution
		icon = GFX_focus_FRA_end_parliamentarism
		cost = 5
		relative_position_id = SPA_abolish_parties
		x = 0
		y = 3
		prerequisite = {
			focus = SPA_abolish_parties
		}
		prerequisite = {
			focus = SPA_the_national_syndicalist_state
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPA_national_revolution"
			swap_ideas = {
				remove_idea = SPA_falangism9
				add_idea = SPA_falangism10
			}
			set_temp_variable = {
				ideology_change_var = 0.1
			}
			change_ruling_party_popularity = yes
		}
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
	}
	focus = {
		id = SPA_establish_the_directory
		available = {
		}
		prerequisite = {
			focus = SPA_suspend_the_constitution
		}
		prerequisite = {
			focus = SPA_embrace_the_spanish_destiny
		}
		icon = GFX_focus_generic_government8
		x = -1
		y = 1
		relative_position_id = SPA_suspend_the_constitution
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = SPA_establish_the_directory_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPA_directory
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = spanish_civil_war
					}
				}
				effect_tooltip = {
					create_country_leader = {
						name = "Emilio Mola"
						desc = "POLITICS_EMILIO_MOLA_DESC"
						picture = "GFX_portrait_emilio_mola"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							the_director
						}
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				add_country_leader_role = {
					character = SPA_emilio_mola
					country_leader = {
						ideology = despotism
						traits = {
							the_director
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
				hidden_effect = {
					add_country_leader_role = {
						character = SPA_emilio_mola
						country_leader = {
							ideology = falangism
							traits = {
								the_director
							}
							expire = "1965.1.1"
						}
						promote_leader = yes
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				add_country_leader_role = {
					character = SPA_emilio_mola
					country_leader = {
						ideology = falangism
						traits = {
							the_director
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
				hidden_effect = {
					add_country_leader_role = {
						character = SPA_emilio_mola
						country_leader = {
							ideology = despotism
							traits = {
								the_director
							}
							expire = "1965.1.1"
						}
						promote_leader = yes
					}
				}
			}
		}
	}
	focus = {
		id = SPA_a_one_party_state
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_establish_the_directory
		}
		icon = GFX_focus_generic_strike_at_democracy2
		x = 1
		y = 1
		relative_position_id = SPA_establish_the_directory
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_politics = {
				ruling_party = fascism
			}
			set_party_name = {
				ideology = fascism
				long_name = SPR_fascism_falange_party_long
				name = SPR_fascism_falange_party
			}
			add_popularity = {
				ideology = fascism
				popularity = 1
			}
			hidden_effect = {
				set_temp_variable = {
					var = a_one_party_state_var
					value = party_popularity@democratic
				}
				add_to_temp_variable = {
					var = a_one_party_state_var
					value = party_popularity@neutrality
				}
				add_to_temp_variable = {
					var = a_one_party_state_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = a_one_party_state_var
					value = -0.5
				}
			}
			custom_effect_tooltip = SPA_a_one_party_state_tt
			add_stability = a_one_party_state_var
		}
	}
	focus = {
		id = SPA_the_national_syndicalist_state
		available = {
			has_global_flag = Spain_civil_war_end_flag
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_a_one_party_state
		}
		icon = GFX_focus_SPA_black_national_syndicalism
		x = 0
		y = 1
		relative_position_id = SPA_a_one_party_state
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = SPA_the_national_syndicalist_state_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPA_spanish_empire
				SPA_emilio_mola = {
					remove_country_leader_role = {
						ideology = despotism
					}
					remove_country_leader_role = {
						ideology = falangism
					}
				}
			}
			promote_character = {
				character = SPA_jose_antonio_primo_de_rivera
				ideology = falangism
			}
		}
	}
	focus = {
		id = SPA_strengthen_the_supreme_reality_of_spain
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_the_national_syndicalist_state
		}
		icon = GFX_focus_spa_strengthen_the_supreme_reality_of_spain
		x = -1
		y = 1
		relative_position_id = SPA_the_national_syndicalist_state
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			add_stability = 0.1
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = {
					modifier = autonomous_state
				}
			}
		}
	}
	focus = {
		id = SPR_regional_defense_council_of_aragon
		available = {
			has_global_flag = Spain_civil_war_start_flag
		}
		bypass = {
		}
		allow_branch = {
			tag = SPC
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		mutually_exclusive = {
			focus = SPR_the_anti_fascist_workers_revolution
			focus = SPR_maintain_the_second_republic
		}
		icon = GFX_focus_spr_regional_defense_council_of_aragon
		x = -9
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			create_field_marshal = {
				name = "Buenaventura Durruti"
				gfx = "GFX_portrait_SPR_buenaventura_durruti"
				traits = {
					infantry_officer
					offensive_doctrine
					aggressive_assaulter
				}
				skill = 3
				attack_skill = 3
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 2
			}
			create_corps_commander = {
				name = "Eduardo Medrano Rivas"
				gfx = "GFX_portrait_SPR_eduardo_medrano_rivas"
				traits = {
					infantry_leader
				}
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 3
			}
			create_corps_commander = {
				name = "Lina dena"
				gfx = "GFX_portrait_SPR_lina_odena"
				traits = {
					adaptable
				}
				female = yes
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander = {
				name = "Cipriano Mera"
				gfx = "GFX_portrait_SPR_cipriano_mera"
				traits = {
					trait_cautious
				}
				skill = 2
				attack_skill = 1
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 2
			}
			add_stability = -0.1
			add_war_support = 0.1
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_ideas = SPR_anarchist_society_1
			activate_mission = SPR_government_crackdown_mission
		}
	}
	focus = {
		id = SPR_arm_the_people
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_regional_defense_council_of_aragon
		}
		icon = GFX_focus_SOV_support_spanish_poum
		x = 1
		y = 1
		relative_position_id = SPR_regional_defense_council_of_aragon
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_war_support = 0.1
			swap_ideas = {
				remove_idea = SPR_disbanded_army_1
				add_idea = SPR_disbanded_army_2
			}
		}
	}
	focus = {
		id = SPR_international_brigades
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_arm_the_people
			focus = SPR_arm_the_workers_militias
		}
		icon = GFX_focus_SOV_decentralization
		x = 1
		y = 1
		relative_position_id = SPR_arm_the_people
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			if = {
				limit = {
					has_completed_focus = SPR_the_anti_fascist_workers_revolution
				}
				create_field_marshal = {
					name = "Mt Zalka"
					gfx = "GFX_portrait_SPR_mate_zalka"
					traits = {
					}
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 2
				}
			}
			add_ideas = SPR_international_brigades
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}
	focus = {
		id = SPR_masters_of_our_own_fate
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_international_brigades
		}
		icon = GFX_focus_SOV_start_war_mobilization
		x = 0
		y = 2
		relative_position_id = SPR_international_brigades
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			effect_tooltip = {
				if = {
					limit = {
						has_completed_focus = SPR_regional_defense_council_of_aragon
					}
					set_politics = {
						ruling_party = neutrality
					}
					set_party_name = {
						ideology = communism
						long_name = SPR_communism_independent_party_long
						name = SPR_communism_independent_party
					}
					create_country_leader = {
						name = "Julin Gorkin"
						desc = "POLITICS_JULIAN_GORKIN_DESC"
						picture = "GFX_portrait_SPR_julian_gorkin"
						expire = "1965.1.1"
						ideology = anarchist_communism
						traits = {
							militant_socialist
						}
					}
					create_country_leader = {
						name = "Anarchist Commune"
						desc = "POLITICS_ANARCHIST_COMMUNE_DESC"
						picture = "GFX_portrait_SPR_anarchist_commune"
						expire = "1965.1.1"
						ideology = anarchism
						traits = {
							our_right_to_survive
						}
					}
					add_popularity = {
						ideology = fascism
						popularity = -1
					}
					add_popularity = {
						ideology = communism
						popularity = -0.25
					}
					if = {
						limit = {
							democratic > 0.01
						}
						set_political_party = {
							ideology = democratic
							popularity = 1
						}
					}
				}
				if = {
					limit = {
						has_completed_focus = SPR_the_anti_fascist_workers_revolution
					}
					set_politics = {
						ruling_party = communism
					}
					set_party_name = {
						ideology = communism
						long_name = SPR_communism_independent_party_long
						name = SPR_communism_independent_party
					}
					create_country_leader = {
						name = "Julin Gorkin"
						desc = "POLITICS_JULIAN_GORKIN_DESC"
						picture = "GFX_portrait_SPR_julian_gorkin"
						expire = "1965.1.1"
						ideology = anarchist_communism
						traits = {
							militant_socialist
						}
					}
					create_field_marshal = {
						name = "Jos Rovira"
						portrait_path = GFX_portrait_Jose_Rovira
						traits = {
							infantry_officer
							politically_connected
						}
						skill = 3
						attack_skill = 2
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 3
					}
					create_corps_commander = {
						name = "Carmel Rosa Baserba"
						portrait_path = GFX_portrait_Carmel_Rosa_Baserba
						traits = {
							trait_cautious
							infantry_officer
						}
						skill = 3
						attack_skill = 2
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 2
					}
					create_corps_commander = {
						name = "Luis Rastrollo"
						portrait_path = GFX_portrait_Luis_Rastrollo
						traits = {
							politically_connected
						}
						skill = 1
						attack_skill = 1
						defense_skill = 2
						planning_skill = 1
						logistics_skill = 1
					}
					custom_effect_tooltip = SPR_masters_of_our_own_fate_tt_4
					add_popularity = {
						ideology = fascism
						popularity = -1
					}
					add_popularity = {
						ideology = communism
						popularity = -0.05
					}
					if = {
						limit = {
							democratic > 0.01
						}
						set_political_party = {
							ideology = democratic
							popularity = 1
						}
					}
					drop_cosmetic_tag = yes
					set_cosmetic_tag = SPC_poum
				}
				if = {
					limit = {
						has_completed_focus = SPR_regional_defense_council_of_aragon
					}
					remove_ideas = SPR_the_maximum_concession
					add_ideas = closed_economy
				}
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = Spain_civil_war_start_flag
					}
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SPR_masters_of_our_own_fate_tooltip
						days = 60
					}
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_masters_of_our_own_fate
					days = 60
				}
			}
			if = {
				limit = {
					has_completed_focus = SPR_regional_defense_council_of_aragon
				}
				custom_effect_tooltip = SPR_masters_of_our_own_fate_tt_2
			}
			if = {
				limit = {
					has_completed_focus = SPR_the_anti_fascist_workers_revolution
				}
				custom_effect_tooltip = SPR_masters_of_our_own_fate_tt_3
			}
			custom_effect_tooltip = SPR_masters_of_our_own_fate_tt
			if = {
				limit = {
					NOT = {
						has_war_with = SPD
					}
				}
				hidden_effect = {
					country_event = lar_spain.10
				}
			}
		}
	}
	focus = {
		id = SPR_appropriate_the_means_of_production
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_regional_defense_council_of_aragon
		}
		icon = GFX_focus_generic_invest_in_the_keiretsu
		x = -1
		y = 1
		relative_position_id = SPR_regional_defense_council_of_aragon
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_anarchist_society_1
				add_idea = SPR_anarchist_society_2
			}
		}
	}
	focus = {
		id = SPR_the_maximum_concession
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_appropriate_the_means_of_production
		}
		prerequisite = {
			focus = SPR_arm_the_people
		}
		icon = GFX_focus_generic_foreign_diplomacy
		x = 1
		y = 1
		relative_position_id = SPR_appropriate_the_means_of_production
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SPR_the_maximum_concession
			add_days_mission_timeout = {
				mission = SPR_government_crackdown_mission
				days = 70
			}
		}
	}
	focus = {
		id = SPR_agrarian_collectivization
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_maximum_concession
		}
		icon = GFX_focus_generic_expand_agricultural_cooperatives
		x = 1
		y = 1
		relative_position_id = SPR_the_maximum_concession
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_2
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_2
					add_idea = SPR_anarchist_society_5
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_8
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_3
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_3
					add_idea = SPR_anarchist_society_6
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_9
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_4
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_4
					add_idea = SPR_anarchist_society_7
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_7
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_7
					add_idea = SPR_anarchist_society_10
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_2
						add_idea = SPR_anarchist_society_5
					}
				}
			}
		}
	}
	focus = {
		id = SPR_seize_public_transport
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_the_maximum_concession
		}
		icon = GFX_focus_generic_railroad
		x = -1
		y = 1
		relative_position_id = SPR_the_maximum_concession
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SPR_anarchist_public_transport
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}
	focus = {
		id = SPR_mujeres_libres
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_seize_public_transport
		}
		prerequisite = {
			focus = SPR_agrarian_collectivization
		}
		icon = GFX_focus_generic_trial
		x = 1
		y = 1
		relative_position_id = SPR_seize_public_transport
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_11
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_8
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_8
					add_idea = SPR_anarchist_society_13
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_12
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_9
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_9
					add_idea = SPR_anarchist_society_14
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_7
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_7
					add_idea = SPR_anarchist_society_15
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_10
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_10
					add_idea = SPR_anarchist_society_16
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_5
						add_idea = SPR_anarchist_society_11
					}
				}
			}
		}
	}
	focus = {
		id = SPR_autogestion
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_appropriate_the_means_of_production
		}
		icon = GFX_focus_generic_urban
		x = -1
		y = 1
		relative_position_id = SPR_appropriate_the_means_of_production
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_2
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_2
					add_idea = SPR_anarchist_society_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_5
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_5
					add_idea = SPR_anarchist_society_6
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_8
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_8
					add_idea = SPR_anarchist_society_9
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_11
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_11
					add_idea = SPR_anarchist_society_12
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_13
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_13
					add_idea = SPR_anarchist_society_14
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_2
						add_idea = SPR_anarchist_society_3
					}
				}
			}
		}
	}
	focus = {
		id = SPR_collectivization_and_workers_control
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_autogestion
		}
		prerequisite = {
			focus = SPR_seize_public_transport
		}
		prerequisite = {
			focus = SPR_agrarian_collectivization
		}
		icon = GFX_focus_generic_state_economy_2
		x = 0
		y = 2
		relative_position_id = SPR_autogestion
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_3
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_3
					add_idea = SPR_anarchist_society_4
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_6
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_6
					add_idea = SPR_anarchist_society_7
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_9
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_9
					add_idea = SPR_anarchist_society_10
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_12
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_12
					add_idea = SPR_anarchist_society_15
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_14
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_14
					add_idea = SPR_anarchist_society_16
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_3
						add_idea = SPR_anarchist_society_4
					}
				}
			}
		}
	}
	focus = {
		id = SPR_class_war
		available = {
		}
		bypass = {
		}
		allow_branch = {
			tag = SPC
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		icon = GFX_focus_spr_class_war
		x = -3
		y = 1
		relative_position_id = SPA_consolidate_spain
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SPR_class_war_1
		}
	}
	focus = {
		id = SPR_seize_the_gold_reserves
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = Spain_civil_war_end_flag
				has_global_flag = SPR_anarchist_uprising_flag
				has_global_flag = SPR_gold_reserves_flag
			}
		}
		prerequisite = {
			focus = SPR_class_war
		}
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 1
		y = 1
		relative_position_id = SPR_class_war
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SPR_seized_gold_reserves
				days = 730
			}
			set_global_flag = SPR_gold_reserves_flag
		}
	}
	focus = {
		id = SPR_foreign_arms_purchases
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_seize_the_gold_reserves
		}
		icon = GFX_focus_SOV_simplify_weapons_production
		x = 1
		y = 1
		relative_position_id = SPR_seize_the_gold_reserves
		cost = 5
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SPR_foreign_arms_purchases_tt
		}
	}
	focus = {
		id = SPR_the_red_tide
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_seize_the_gold_reserves
		}
		icon = GFX_focus_SOV_assault_group_army
		x = -1
		y = 1
		relative_position_id = SPR_seize_the_gold_reserves
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_class_war_2
				add_idea = SPR_class_war_3
			}
		}
	}
	focus = {
		id = SPR_against_fascism
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_red_tide
		}
		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = 2
		y = 2
		relative_position_id = SPR_the_red_tide
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			every_country = {
				limit = {
					capital_scope = {
						is_on_continent = europe
					}
					has_government = fascism
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
						expire = 0
					}
				}
			}
		}
	}
	focus = {
		id = SPR_arm_the_tide
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_red_tide
		}
		icon = GFX_focus_SOV_strengthen_discipline
		x = 1
		y = 1
		relative_position_id = SPR_the_red_tide
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_arm_the_tide
				bonus = 1
				uses = 2
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SPR_arm_the_tide
				bonus = 1
				uses = 2
				category = artillery
			}
		}
	}
	focus = {
		id = SPR_arm_the_workers_militias
		available = {
		}
		bypass = {
			OR = {
				has_global_flag = Spain_civil_war_end_flag
				has_global_flag = SPR_anarchist_uprising_flag
			}
		}
		prerequisite = {
			focus = SPR_class_war
		}
		icon = GFX_focus_SOV_lessons_from_war_infantry_tactics
		x = -3
		y = 1
		relative_position_id = SPR_class_war
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_war_support = 0.1
			swap_ideas = {
				remove_idea = SPR_disbanded_army_1
				add_idea = SPR_disbanded_army_2
			}
		}
	}
	focus = {
		id = SPR_wealth_redistribution
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_class_war
		}
		icon = GFX_focus_generic_money_chains
		x = -1
		y = 1
		relative_position_id = SPR_class_war
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SPR_wealth_redistribution
		}
	}
	focus = {
		id = SPR_land_redistribution
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_wealth_redistribution
		}
		icon = GFX_focus_generic_seize_land
		x = 0
		y = 2
		relative_position_id = SPR_wealth_redistribution
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPR_land_redistribution_1slot
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_land_redistribution_1slot
					}
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_land_redistribution_1slot
					}
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_land_redistribution_1slot
					}
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_land_redistribution_1slot
					}
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = SPR_land_redistribution_1slot
			}
		}
	}
	focus = {
		id = SPR_all_must_do_their_part
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_land_redistribution
		}
		icon = GFX_focus_SOV_wartime_communism
		x = 1
		y = 1
		relative_position_id = SPR_land_redistribution
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_global_flag = Spain_civil_war_end_flag
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			swap_ideas = {
				remove_idea = SPR_class_war_1
				add_idea = SPR_class_war_2
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = {
					modifier = semi_autonomous_state
				}
			}
		}
	}
	focus = {
		id = SPR_expand_the_means_of_production
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_land_redistribution
		}
		icon = GFX_focus_SOV_massive_production
		x = -1
		y = 1
		relative_position_id = SPR_land_redistribution
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPR_expand_the_means_of_production_2civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = {
					has_state_flag = SPR_expand_the_means_of_production_2mil
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPR_expand_the_means_of_production
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_expand_the_means_of_production_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_expand_the_means_of_production_2civ
					}
				}
				set_state_flag = SPR_expand_the_means_of_production_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_invite_socialist_intellectuals
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_class_war
		}
		icon = GFX_focus_SOV_reform_the_education_system
		x = -2
		y = 2
		relative_position_id = SPR_class_war
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = SPR_unify_the_london_bureau
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_invite_socialist_intellectuals
		}
		icon = GFX_focus_SOV_ussr
		x = -1
		y = 1
		relative_position_id = SPR_invite_socialist_intellectuals
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
		}
	}
	focus = {
		id = SPR_united_under_socialism
		icon = GFX_focus_SOV_the_supreme_soviet
		cost = 5
		x = 4
		y = 1
		relative_position_id = SPA_consolidate_spain
		available = {
			has_country_flag = SPA_aftermath_of_the_civil_war
		}
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		allow_branch = {
			tag = SPC
		}
		bypass = {
			is_subject = yes
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_united_under_socialism"
			SPA_societal_recovery = yes
			country_event = sprc.602
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
	}
	### Internal Policies
	focus = {
		id = SPR_all_must_bear_the_torch
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_united_under_socialism
		}
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		x = 0
		y = 1
		relative_position_id = SPR_united_under_socialism
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			add_ideas = SPR_collectivized_society
			if = {
				limit = {
					NOT = {
						has_idea = closed_economy
					}
				}
				add_ideas = closed_economy
			}
			if = {
				limit = {
					NOT = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
					}
				}
				add_ideas = volunteer_only
			}
			if = {
				limit = {
					has_idea = SPR_anarchist_society_15
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_15
					add_idea = SPR_anarchist_society_17
				}
			}
			if = {
				limit = {
					has_idea = SPR_anarchist_society_16
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_16
					add_idea = SPR_anarchist_society_18
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_15
						add_idea = SPR_anarchist_society_17
					}
				}
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 165
						state = 171
						state = 792
					}
				}
				remove_dynamic_modifier = {
					modifier = autonomous_state
				}
			}
		}
	}
	focus = {
		id = SWF_consolidating_spain
		icon = GFX_focus_generic_market_socialism
		cost = 5
		relative_position_id = SPR_united_under_socialism
		x = -1
		y = 2
		prerequisite = {
			focus = SWF_anarchist_revolution
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_consolidating_spain"
			SPA_societal_recovery = yes
			add_stability = 0.05
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
	}
	focus = {
		id = SWF_oppress_opposition
		icon = GFX_focus_spa_eliminate_the_carlists
		cost = 5
		relative_position_id = SWF_consolidating_spain
		x = 0
		y = 1
		prerequisite = {
			focus = SWF_consolidating_spain
			focus = SPR_reeducate_the_bourgeoisie
		}
		ai_will_do = {
			factor = 60
		}
		mutually_exclusive = {
			focus = SWF_reconcile_opposition
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_oppress_opposition"
			remove_ideas = SWF_monarchist_resistance
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.1
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.1
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.1
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_women_right
		icon = GFX_focus_generic_women_in_military
		cost = 5
		relative_position_id = SWF_oppress_opposition
		x = 3
		y = 1
		prerequisite = {
			focus = SWF_oppress_opposition
			focus = SWF_reconcile_opposition
		}
		prerequisite = {
			focus = SWF_collectivise_factories
			focus = SWF_planned_economy
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_women_right"
			if = {
				limit = {
					has_idea = SWF_anarchism1
				}
				swap_ideas = {
					remove_idea = SWF_anarchism1
					add_idea = SWF_anarchism3
				}
			}
			else_if = {
				limit = {
					has_idea = SWF_anarchism2
				}
				swap_ideas = {
					remove_idea = SWF_anarchism2
					add_idea = SWF_anarchism4
				}
			}
			else_if = {
				limit = {
					has_idea = SWF_spanism_socialism1
				}
				swap_ideas = {
					remove_idea = SWF_spanism_socialism1
					add_idea = SWF_spanism_socialism3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SWF_spanism_socialism2
					add_idea = SWF_spanism_socialism4
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_anticlerical
		icon = GFX_focus_mex_triumph_over_the_cristeros
		cost = 5
		relative_position_id = SWF_oppress_opposition
		x = -1
		y = 1
		prerequisite = {
			focus = SWF_oppress_opposition
			focus = SWF_reconcile_opposition
		}
		prerequisite = {
			focus = SWF_collectivise_factories
			focus = SWF_planned_economy
		}
		ai_will_do = {
			factor = 60
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_anticlerical"
			if = {
				limit = {
					has_idea = SWF_anarchism1
				}
				swap_ideas = {
					remove_idea = SWF_anarchism1
					add_idea = SWF_anarchism2
				}
			}
			else_if = {
				limit = {
					has_idea = SWF_anarchism3
				}
				swap_ideas = {
					remove_idea = SWF_anarchism3
					add_idea = SWF_anarchism4
				}
			}
			else_if = {
				limit = {
					has_idea = SWF_spanism_socialism1
				}
				swap_ideas = {
					remove_idea = SWF_spanism_socialism1
					add_idea = SWF_spanism_socialism2
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SWF_spanism_socialism3
					add_idea = SWF_spanism_socialism4
				}
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.1
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_popular_front
		icon = GFX_focus_generic_befriend_republican_spain_focus
		cost = 5
		relative_position_id = SWF_oppress_opposition
		x = 1
		y = 1
		prerequisite = {
			focus = SWF_oppress_opposition
		}
		prerequisite = {
			focus = SWF_reconcile_opposition
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_beacon_socialism
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		cost = 5
		relative_position_id = SWF_popular_front
		x = 0
		y = 1
		prerequisite = {
			focus = SWF_popular_front
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_beacon_socialism"
			if = {
				limit = {
					has_completed_focus = SWF_anarchist_revolution
				}
				swap_ideas = {
					remove_idea = SWF_anarchism5
					add_idea = SWF_anarchism6
				}
			}
			else_if = {
				limit = {
					has_completed_focus = SWF_red_nation_state
				}
				swap_ideas = {
					remove_idea = SWF_spanism_socialism5
					add_idea = SWF_spanism_socialism6
				}
			}
			else = {
				custom_effect_tooltip = SWF_political_effect
			}
			set_temp_variable = {
				ideology_change_var = 0.1
			}
			change_ruling_party_popularity = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_strong_government
		icon = GFX_focus_generic_government10
		cost = 5
		relative_position_id = SWF_popular_front
		x = 2
		y = 1
		available = {
			has_completed_focus = SWF_red_nation_state
		}
		prerequisite = {
			focus = SWF_women_right
		}
		prerequisite = {
			focus = SWF_anticlerical
		}
		prerequisite = {
			focus = SWF_popular_front
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_strong_government"
			swap_ideas = {
				remove_idea = SWF_spanism_socialism4
				add_idea = SWF_spanism_socialism5
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_social_revolution
		icon = GFX_focus_generic_workers_democracy
		cost = 5
		relative_position_id = SWF_popular_front
		x = -2
		y = 1
		available = {
			has_completed_focus = SWF_anarchist_revolution
		}
		prerequisite = {
			focus = SWF_women_right
		}
		prerequisite = {
			focus = SWF_anticlerical
		}
		prerequisite = {
			focus = SWF_popular_front
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_social_revolution"
			swap_ideas = {
				remove_idea = SWF_anarchism4
				add_idea = SWF_anarchism5
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_reconcile_opposition
		icon = GFX_focus_SOV_democratic_alliance_3
		cost = 5
		relative_position_id = SWF_oppress_opposition
		x = 2
		y = 0
		prerequisite = {
			focus = SWF_consolidating_spain
			focus = SPR_reeducate_the_bourgeoisie
		}
		ai_will_do = {
			factor = 100
		}
		mutually_exclusive = {
			focus = SWF_oppress_opposition
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_reconcile_opposition"
			add_stability = 0.05
			add_popularity = {
				ideology = social_democrat
				popularity = 0.08
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.06
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_red_nation_state
		icon = GFX_focus_generic_ideology_totalist
		cost = 5
		relative_position_id = SPR_united_under_socialism
		x = 2
		y = 1
		available = {
		}
		prerequisite = {
			focus = SPR_united_under_socialism
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_red_nation_state"
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.05
			}
			SPA_societal_recovery = yes
		}
		bypass = {
			hidden_trigger = {
				has_government = totalist
			}
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		#bypass for no idea and totalist
	}
	focus = {
		id = SPR_reeducate_the_bourgeoisie
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SWF_red_nation_state
		}
		icon = GFX_focus_SOV_continue_to_clean
		x = -1
		y = 1
		relative_position_id = SWF_red_nation_state
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_stability = 0.05
			add_political_power = 60
		}
	}
	focus = {
		id = SWF_national_union
		icon = GFX_focus_SOV_the_path_of_marxism_leninism
		cost = 5
		relative_position_id = SWF_red_nation_state
		x = 1
		y = 1
		prerequisite = {
			focus = SWF_red_nation_state
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_national_union"
			add_ideas = SWF_spanism_socialism
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
	}
	focus = {
		id = SWF_planned_economy
		icon = GFX_focus_SOV_merge_plants
		cost = 5
		relative_position_id = SWF_national_union
		x = 0
		y = 1
		prerequisite = {
			focus = SWF_national_union
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_planned_economy"
			swap_ideas = {
				remove_idea = SWF_spanism_socialism
				add_idea = SWF_spanism_socialism1
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
	}
	focus = {
		id = SWF_anarchist_revolution
		icon = GFX_focus_generic_ideology_radical_socialist
		cost = 5
		relative_position_id = SPR_united_under_socialism
		x = -2
		y = 1
		available = {
		}
		prerequisite = {
			focus = SPR_united_under_socialism
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
	}
	focus = {
		id = SWF_home_rule
		icon = GFX_focus_spr_regional_defense_council_of_aragon
		cost = 5
		relative_position_id = SWF_anarchist_revolution
		x = -1
		y = 1
		prerequisite = {
			focus = SWF_anarchist_revolution
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_home_rule"
			add_ideas = SWF_anarchism
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
	}
	focus = {
		id = SWF_collectivise_factories
		icon = GFX_focus_generic_build_housing
		cost = 5
		relative_position_id = SWF_home_rule
		x = 0
		y = 1
		prerequisite = {
			focus = SWF_home_rule
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_collectivise_factories"
			swap_ideas = {
				remove_idea = SWF_anarchism
				add_idea = SWF_anarchism1
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
	}
	focus = {
		id = SPA_a_great_spain
		available = {
			NOT = {
				has_global_flag = Spain_civil_war_start_flag
			}
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		mutually_exclusive = {
			focus = SPR_the_popular_front
		}
		icon = GFX_focus_generic_befriend_nationalist_spain
		x = -12
		y = 1
		relative_position_id = SPA_consolidate_spain
		prerequisite = {
			focus = SPA_consolidate_spain
		}
		cost = 5
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		allow_branch = {
			tag = SPA
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			hidden_effect = {
				every_owned_state = {
					limit = {
						NOT = {
							state = 290
							state = 699
							state = 783
							state = 297
						}
					}
					SPA_garrison_control_cost_calculation = yes
				}
			}
			add_political_power = 15
		}
	}
	focus = {
		id = SPA_negotiate_carlist_support
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPA_a_great_spain
		}
		icon = GFX_focus_generic_flag_carlist
		x = 1
		y = 1
		relative_position_id = SPA_a_great_spain
		cost = 4
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			set_country_flag = SPA_negotiate_carlist_support_flag
			add_popularity = {
				ideology = neutrality
				popularity = 0.15
			}
			add_to_variable = {
				var = spa_civil_war_divisions_counter_var
				value = 5
			}
			custom_effect_tooltip = SPA_negotiate_carlist_support_tt
			custom_effect_tooltip = SPA_negotiate_carlist_support_tt_2
		}
	}
	focus = {
		id = SPA_the_army_of_africa
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPA_negotiate_carlist_support
		}
		icon = GFX_goal_generic_special_forces
		x = 0
		y = 2
		relative_position_id = SPA_negotiate_carlist_support
		cost = 5
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			army_experience = 10
			add_to_variable = {
				var = spa_civil_war_divisions_counter_var
				value = 5
			}
			custom_effect_tooltip = SPA_the_army_of_africa_tt
		}
	}
	focus = {
		id = SPA_hand_over_the_ceda_campaign_chest
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPA_a_great_spain
		}
		icon = GFX_focus_generic_contact
		x = -1
		y = 1
		relative_position_id = SPA_a_great_spain
		cost = 5
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 200
		}
	}
	focus = {
		id = SPA_secure_the_northern_garrisons
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPA_hand_over_the_ceda_campaign_chest
		}
		icon = GFX_focus_generic_castle
		x = 1
		y = 1
		relative_position_id = SPA_hand_over_the_ceda_campaign_chest
		cost = 5
		search_filters = {
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			custom_effect_tooltip = SPA_secure_the_northern_garrisons_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						check_variable = {
							var = SPA_garrison_control
							value = 1
							compare = equals
						}
						OR = {
							state = 171
							state = 174
							state = 788
							state = 791
							state = 176
							state = 166
							state = 172
						}
					}
					set_state_flag = SPA_northern_garrisons_state_flag
					add_to_variable = {
						var = SPA_garrison_control
						value = 3
					}
					SPR = {
						add_to_variable = {
							var = spa_civil_war_divisions_counter_var
							value = 3
						}
					}
					SPR = {
						subtract_from_variable = {
							var = spr_civil_war_divisions_counter_var
							value = 3
						}
					}
					SPA_garrison_control_cost_calculation = yes
				}
				every_owned_state = {
					limit = {
						check_variable = {
							var = SPA_garrison_control
							value = 2
							compare = equals
						}
						OR = {
							state = 171
							state = 174
							state = 788
							state = 791
							state = 176
							state = 166
							state = 172
						}
					}
					set_state_flag = SPA_northern_garrisons_state_flag
					add_to_variable = {
						var = SPA_garrison_control
						value = 2
					}
					SPR = {
						add_to_variable = {
							var = spa_civil_war_divisions_counter_var
							value = 2
						}
					}
					SPR = {
						subtract_from_variable = {
							var = spr_civil_war_divisions_counter_var
							value = 2
						}
					}
					SPA_garrison_control_cost_calculation = yes
				}
				every_owned_state = {
					limit = {
						check_variable = {
							var = SPA_garrison_control
							value = 3
							compare = equals
						}
						OR = {
							state = 171
							state = 174
							state = 788
							state = 791
							state = 176
							state = 166
							state = 172
						}
					}
					set_state_flag = SPA_northern_garrisons_state_flag
					add_to_variable = {
						var = SPA_garrison_control
						value = 1
					}
					SPR = {
						add_to_variable = {
							var = spa_civil_war_divisions_counter_var
							value = 1
						}
					}
					SPR = {
						subtract_from_variable = {
							var = spr_civil_war_divisions_counter_var
							value = 1
						}
					}
					SPA_garrison_control_cost_calculation = yes
				}
			}
		}
	}
	focus = {
		id = SPA_con_paquito
		available = {
		}
		bypass = {
			has_global_flag = Spain_civil_war_start_flag
		}
		prerequisite = {
			focus = SPA_secure_the_northern_garrisons
		}
		icon = GFX_goal_generic_dangerous_deal
		x = 0
		y = 2
		relative_position_id = SPA_secure_the_northern_garrisons
		cost = 4
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SPA_CIVIL_WAR
		}
		completion_reward = {
			custom_effect_tooltip = SPA_con_paquito_tt
			random_unit_leader = {
				limit = {
					has_id = 1108
				}
				add_unit_leader_trait = trait_SPA_nationalist_sympathies
			}
		}
	}
	focus = {
		id = SPA_sin_paquito
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_secure_the_northern_garrisons
		}
		icon = GFX_goal_generic_forceful_treaty
		x = -1
		y = 1
		relative_position_id = SPA_secure_the_northern_garrisons
		cost = 4
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 60
			set_global_flag = SPR_sin_paquito
		}
	}
	focus = {
		# Legin Espaola
		id = SPR_legion_espanola
		icon = GFX_focus_SPA_republic_army
		cost = 5
		x = 15
		y = 0
		ai_will_do = {
			factor = 30
		}
		allow_branch = {
			tag = SPB
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_legion_espanola"
			army_experience = 25
			air_experience = 25
			navy_experience = 25
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_NAVY_XP
			FOCUS_FILTER_AIR_XP
		}
	}
	focus = {
		# Requet
		id = SPR_requetes
		icon = GFX_focus_spa_supremacy_of_the_communion
		cost = 7
		relative_position_id = SPR_legion_espanola
		x = -4
		y = 2
		prerequisite = {
			focus = SPA_modern_terrico
		}
		ai_will_do = {
			factor = 10
		}
		allow_branch = {
			tag = SPB
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_requetes"
			add_ideas = SPR_requetes_idea
		}
		search_filters = {
			FOCUS_FILTER_ARMY_BONUS
		}
	}
	focus = {
		# Break the Walls of Jericho
		id = SPR_walls_of_jericho
		icon = GFX_focus_generic_railway_gun
		cost = 7
		relative_position_id = SPR_legion_espanola
		x = 1
		y = 3
		prerequisite = {
			focus = SPR_devoted_officers
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_walls_of_jericho"
			add_tech_bonus = {
				name = SPR_walls_of_jericho
				bonus = 1
				uses = 1
				category = support_tech
			}
			if = {
				limit = {
					has_dlc_nsb = yes
				}
				if = {
					limit = {
						NOT = {
							has_tech = railway_gun
						}
					}
					set_technology = {
						railway_gun = 1
					}
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
				}
			}
			if = {
				limit = {
					has_dlc_nsb = no
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 100
					producer = SPR
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# word of God
		id = SPR_word_of_god
		icon = GFX_focus_generic_crusade
		cost = 7
		relative_position_id = SPR_legion_espanola
		x = -1
		y = 3
		prerequisite = {
			focus = SPR_devoted_officers
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_word_of_god"
			add_ideas = SPR_word_of_god_idea
			if = {
				limit = {
					NOT = {
						has_tech = radio
					}
				}
				set_technology = {
					radio = 1
				}
				add_tech_bonus = {
					name = SPR_word_of_god
					bonus = 1
					uses = 1
					category = electronics
				}
			}
			else = {
				add_tech_bonus = {
					name = SPR_word_of_god
					bonus = 1
					uses = 2
					category = electronics
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# A Catholic Army
		id = SPR_a_catholic_army
		icon = GFX_focus_mex_restore_the_army_of_christ
		cost = 7
		relative_position_id = SPR_legion_espanola
		x = 0
		y = 4
		prerequisite = {
			focus = SPR_guardia_civil
			focus = SPR_navarran_lancers
		}
		prerequisite = {
			focus = SPR_word_of_god
		}
		prerequisite = {
			focus = SPR_walls_of_jericho
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_catholic_army"
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = SPR_a_catholic_army
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = {
					has_global_flag = Spain_civil_war_start_flag
				}
				add_timed_idea = {
					idea = SPR_the_final_push
					days = 365
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# devoted officers
		id = SPR_devoted_officers
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		cost = 7
		relative_position_id = SPR_legion_espanola
		x = 0
		y = 2
		allow_branch = {
			tag = SPB
		}
		prerequisite = {
			focus = SPA_modern_terrico
			focus = SPA_army_of_maneuver
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_devoted_officers"
			add_ideas = SPR_devoted_officers_idea
		}
		search_filters = {
			FOCUS_FILTER_ARMY_BONUS
			FOCUS_FILTER_MANPOWER
		}
	}
	focus = {
		# Establish the Ejrcito Popular
		id = SWF_peoples_army
		icon = GFX_focus_SPA_communist_army
		cost = 5
		x = 15
		y = 0
		ai_will_do = {
			factor = 30
		}
		allow_branch = {
			tag = SPC
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_peoples_army"
			army_experience = 25
			air_experience = 25
			navy_experience = 25
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_NAVY_XP
			FOCUS_FILTER_AIR_XP
		}
	}
	focus = {
		# Patrullas de Control
		id = SWF_patrullas_de_control
		icon = GFX_focus_spr_no_pasaran
		cost = 7
		relative_position_id = SWF_peoples_army
		x = -3
		y = 3
		prerequisite = {
			focus = SWF_confederal_militias
		}
		prerequisite = {
			focus = SPA_artillery_effort
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_patrullas_de_control"
			add_ideas = SWF_patrullas_de_control_idea
		}
		search_filters = {
			FOCUS_FILTER_ARMY_BONUS
		}
	}
	focus = {
		# Confederal Militias
		id = SWF_confederal_militias
		icon = GFX_focus_generic_integrate_the_militia
		cost = 7
		relative_position_id = SWF_peoples_army
		x = -4
		y = 2
		prerequisite = {
			focus = SPA_modern_terrico
		}
		ai_will_do = {
			factor = 10
		}
		allow_branch = {
			tag = SPC
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_confederal_militias"
			add_ideas = SWF_confederal_militias_idea
		}
		search_filters = {
			FOCUS_FILTER_ARMY_BONUS
		}
	}
	focus = {
		# Revolutionary Officers
		id = SWF_revolutionary_officers
		icon = GFX_focus_SOV_tukhachevsky_coup
		cost = 7
		relative_position_id = SWF_peoples_army
		x = 1
		y = 3
		prerequisite = {
			focus = SWF_militia_focus
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_revolutionary_officers"
			every_unit_leader = {
				add_attack = 1
				add_defense = 1
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# Unbreakable Spirit
		id = SWF_unbreakable_spirit
		icon = GFX_focus_spr_war_of_independence
		cost = 7
		relative_position_id = SWF_peoples_army
		x = -1
		y = 3
		prerequisite = {
			focus = SWF_militia_focus
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_unbreakable_spirit"
			add_ideas = SWF_unbreakable_spirit_idea
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# Soldiers of the Revolution
		id = SWF_militia_focus
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		cost = 7
		relative_position_id = SWF_peoples_army
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_modern_terrico
			focus = SPA_army_of_maneuver
		}
		allow_branch = {
			tag = SPC
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_militia_focus"
			add_ideas = SWF_workers_militias
		}
		search_filters = {
			FOCUS_FILTER_ARMY_BONUS
			FOCUS_FILTER_MANPOWER
		}
	}
	focus = {
		# A Revolutionary Army
		id = SWF_a_revolutionary_army
		icon = GFX_focus_SOV_defense_of_moscow
		cost = 7
		relative_position_id = SWF_peoples_army
		x = 0
		y = 4
		prerequisite = {
			focus = SWF_patrullas_de_control
			focus = SWF_navarran_lancers
		}
		prerequisite = {
			focus = SWF_unbreakable_spirit
		}
		prerequisite = {
			focus = SWF_revolutionary_officers
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_a_revolutionary_army"
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = SWF_a_revolutionary_army
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = {
					has_global_flag = Spain_civil_war_start_flag
				}
				add_timed_idea = {
					idea = SWF_the_final_push
					days = 365
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		id = SPA_rebuild_command
		icon = GFX_focus_SPA_army
		dynamic = yes
		cost = 5
		x = 15
		y = 0
		ai_will_do = {
			factor = 30
		}
		allow_branch = {
			tag = SPA
		}
		available = {
			has_global_flag = Spain_civil_war_flag
		}
		completion_reward = {
			army_experience = 25
			air_experience = 25
			navy_experience = 25
		}
	}
	focus = {
		id = SPA_modern_terrico
		icon = GFX_focus_generic_army_defence
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -3
		y = 1
		prerequisite = {
			focus = SPA_rebuild_command
			focus = SPR_legion_espanola
			focus = SWF_peoples_army
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_modern_terrico
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SPA_preservation_of_order
		icon = GFX_focus_generic_conscription
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -4
		y = 2
		prerequisite = {
			focus = SPA_modern_terrico
		}
		allow_branch = {
			tag = SPA
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_artillery_effort
		icon = GFX_focus_generic_military_equipment
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -2
		y = 2
		prerequisite = {
			focus = SPA_modern_terrico
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_artillery_effort
				bonus = 0.5
				uses = 2
				category = infantry_weapons
				category = artillery
			}
		}
	}
	focus = {
		id = SPA_guardia_civil
		icon = GFX_focus_SPA_bridegroom_of_death
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -3
		y = 3
		prerequisite = {
			focus = SPA_preservation_of_order
			focus = SPR_requetes
		}
		prerequisite = {
			focus = SPA_artillery_effort
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_emergency_factories
		icon = GFX_focus_generic_industry_air
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -2
		y = 4
		prerequisite = {
			focus = SPA_guardia_civil
			focus = SWF_patrullas_de_control
		}
		prerequisite = {
			focus = SPA_adaptive_fortifications
			focus = SPR_word_of_god
			focus = SWF_unbreakable_spirit
		}
		available = {
			has_war = yes
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			add_one_random_military_factory = yes
			add_one_random_civilian_factory = yes
			add_stability = -0.05
			add_manpower = -500
		}
	}
	focus = {
		id = SPA_prepare_for_the_next_war
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_emergency_factories
		}
		icon = GFX_goal_generic_build_tank
		x = 0
		y = 1
		relative_position_id = SPA_emergency_factories
		cost = 10
		complete_tooltip = {
			add_one_random_military_factory = yes
		}
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_war_support = 0.1
			add_doctrine_cost_reduction = {
				name = SPA_engineering_advances
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_one_random_military_factory = yes
		}
	}
	focus = {
		id = SPA_wartime_industry
		available = {
			has_war = yes
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_prepare_for_the_next_war
		}
		icon = GFX_focus_generic_central_refuse_disposal1
		x = 2
		y = 1
		relative_position_id = SPA_prepare_for_the_next_war
		cost = 10
		complete_tooltip = {
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
		completion_reward = {
			add_one_random_military_factory = yes
		}
	}
	focus = {
		id = SPA_fuel_for_the_war_machine
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_wartime_industry
		}
		icon = GFX_focus_generic_medium_industry
		x = 0
		y = 1
		relative_position_id = SPA_wartime_industry
		cost = 10
		completion_reward = {
			add_tech_bonus = {
				name = SPA_fuel_for_the_war_machine
				bonus = 1.5
				uses = 2
				category = excavation_tech
			}
		}
	}
	focus = {
		id = SPA_experiences_from_the_civil_war
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_prepare_for_the_next_war
		}
		icon = GFX_focus_generic_army_grand_battleplan
		x = -2
		y = 1
		relative_position_id = SPA_prepare_for_the_next_war
		cost = 10
		completion_reward = {
			army_experience = 15
			add_doctrine_cost_reduction = {
				name = SPA_engineering_advances
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SPA_reprofessionalize_the_military
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_experiences_from_the_civil_war
		}
		icon = GFX_focus_generic_prepare_for_next_war
		x = 0
		y = 1
		relative_position_id = SPA_experiences_from_the_civil_war
		cost = 10
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_a_new_military_academy
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_prepare_for_the_next_war
		}
		icon = GFX_focus_generic_military_academy
		x = 0
		y = 1
		relative_position_id = SPA_prepare_for_the_next_war
		cost = 10
		completion_reward = {
			army_experience = 25
		}
	}
	focus = {
		id = SPA_engineering_advances
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_a_new_military_academy
		}
		icon = GFX_focus_generic_build_tanks
		x = 0
		y = 1
		relative_position_id = SPA_a_new_military_academy
		cost = 10
		completion_reward = {
			add_tech_bonus = {
				name = SPA_engineering_advances
				bonus = 1
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = SPA_engineering_advances
				bonus = 1
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = SPA_engineering_advances
				bonus = 1
				uses = 1
				category = armor
			}
		}
	}
	focus = {
		id = SPA_revive_the_navy
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_prepare_for_the_next_war
		}
		prerequisite = {
			focus = SPA_masters_of_the_sea
		}
		icon = GFX_focus_generic_cross_the_channel
		x = -4
		y = 1
		relative_position_id = SPA_prepare_for_the_next_war
		cost = 10
		completion_reward = {
			navy_experience = 25
			add_one_random_dockyard = yes
			add_one_random_dockyard = yes
		}
	}
	focus = {
		id = SPA_navy_modernization
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_revive_the_navy
		}
		icon = GFX_focus_generic_cruiser2
		x = 0
		y = 1
		relative_position_id = SPA_revive_the_navy
		cost = 10
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SPA_navy_modernization
				bonus = 1
				uses = 2
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPA_navy_modernization
				bonus = 1
				uses = 2
				category = cl_tech
				category = ca_tech
			}
		}
	}
	focus = {
		id = SPA_defenders_of_realm
		icon = GFX_focus_spa_unify_the_nationalist_front
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_modern_terrico
			focus = SPA_army_of_maneuver
		}
		allow_branch = {
			tag = SPA
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_adaptive_fortifications
		icon = GFX_focus_generic_nested_fortifications
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -1
		y = 3
		prerequisite = {
			focus = SPA_defenders_of_realm
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_militarise_the_railways
		icon = GFX_focus_generic_seize_railway
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 1
		y = 3
		prerequisite = {
			focus = SPA_defenders_of_realm
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_militarise_the_railways
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
	}
	focus = {
		id = SPA_army_of_maneuver
		icon = GFX_focus_generic_army_mobile_warfare
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 3
		y = 1
		prerequisite = {
			focus = SPA_rebuild_command
			focus = SPR_legion_espanola
			focus = SWF_peoples_army
		}
		ai_will_do = {
			factor = 0
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_army_of_maneuver
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SPA_mechanized_effort
		icon = GFX_focus_generic_mechanized_infantry
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 2
		y = 2
		prerequisite = {
			focus = SPA_army_of_maneuver
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_tech = motorised_infantry
					}
				}
				set_technology = {
					motorised_infantry = 1
				}
			}
			else = {
				add_tech_bonus = {
					name = SPA_mechanized_effort
					bonus = 1
					uses = 1
					category = cat_mechanized_equipment
				}
			}
		}
	}
	focus = {
		id = SPA_war_lessons
		icon = GFX_focus_generic_poppys
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 4
		y = 2
		prerequisite = {
			focus = SPA_army_of_maneuver
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_navarran_lancers
		icon = GFX_focus_generic_modern_armour_german
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 3
		y = 3
		prerequisite = {
			focus = SPA_mechanized_effort
		}
		prerequisite = {
			focus = SPA_war_lessons
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_navarran_lancers
				bonus = 1
				uses = 2
				category = armor
			}
		}
	}
	focus = {
		id = SPA_tank_shipments
		icon = GFX_focus_generic_army_tanks2
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 2
		y = 4
		prerequisite = {
			focus = SPA_navarran_lancers
		}
		prerequisite = {
			focus = SWF_revolutionary_officers
			focus = SPA_militarise_the_railways
			focus = SPR_walls_of_jericho
		}
		available = {
			has_war = yes
		}
		bypass = {
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_a_modern_army
		icon = GFX_focus_generic_army_command_power
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 0
		y = 4
		prerequisite = {
			focus = SPA_guardia_civil
			focus = SPA_navarran_lancers
		}
		prerequisite = {
			focus = SPA_adaptive_fortifications
		}
		prerequisite = {
			focus = SPA_militarise_the_railways
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = SPA_a_modern_army
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = SPA_armada_espanola
		##Overwrite
		icon = GFX_focus_SPA_navy
		icon = {
			trigger = {
				tag = SPA
			}
			value = GFX_focus_SPA_navy
		}
		icon = {
			trigger = {
				tag = SPB
			}
			value = GFX_focus_SPA_republic_army
		}
		icon = {
			trigger = {
				tag = SPC
			}
			value = GFX_focus_SPA_communist_navy
		}
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = -7
		y = 1
		prerequisite = {
			focus = SPA_rebuild_command
			focus = SPR_legion_espanola
			focus = SWF_peoples_army
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_civil_war = yes
				NOT = {
					has_completed_focus = SPA_a_modern_army
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			navy_experience = 10
			add_doctrine_cost_reduction = {
				name = SPA_armada_espanola
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SPA_upgrade_dockyards
		icon = GFX_focus_generic_naval_industry
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = -1
		y = 1
		prerequisite = {
			focus = SPA_armada_espanola
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_new_generation_of_admirals
		icon = GFX_focus_generic_navy_hat_ships
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 1
		y = 1
		prerequisite = {
			focus = SPA_armada_espanola
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			every_navy_leader = {
				add_skill_level = 1
				add_maneuver = 1
			}
		}
	}
	focus = {
		id = SPA_infanteria_de_marina
		icon = GFX_focus_generic_marines2
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = -2
		y = 4
		prerequisite = {
			focus = SPA_grand_navy
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_infanteria_de_marina
				bonus = 1
				uses = 1
				category = marine_tech
			}
		}
	}
	focus = {
		id = SPA_grand_navy
		icon = GFX_focus_generic_sea_focused_navy
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_upgrade_dockyards
		}
		prerequisite = {
			focus = SPA_new_generation_of_admirals
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_grand_navy
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SPA_modern_galleons
		icon = GFX_focus_generic_sea_focused_navy2
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = -1
		y = 3
		prerequisite = {
			focus = SPA_grand_navy
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_modern_galleons
				bonus = 1
				uses = 1
				category = ca_tech
				category = bb_tech
			}
		}
	}
	focus = {
		id = SPA_battle_cruisers_support
		icon = GFX_focus_generic_navy_battleship3alt
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = -2
		y = 2
		prerequisite = {
			focus = SPA_upgrade_dockyards
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_battle_cruisers_support
				bonus = 1
				uses = 2
				category = ca_tech
			}
		}
	}
	focus = {
		id = SPA_defend_the_coast
		icon = GFX_focus_generic_coastal_navy
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 2
		y = 2
		prerequisite = {
			focus = SPA_new_generation_of_admirals
		}
		prerequisite = {
			focus = SPA_upgrade_dockyards
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_defend_the_coast
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SPA_coast_guard
		icon = GFX_focus_generic_coastal_navy2
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 1
		y = 3
		prerequisite = {
			focus = SPA_defend_the_coast
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_coast_guard
				bonus = 1
				uses = 2
				category = dd_tech
			}
		}
	}
	focus = {
		id = SPR_the_peoples_fleet
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_coast_guard
		}
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 1
		y = 1
		relative_position_id = SPA_coast_guard
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		allow_branch = {
			tag = SPC
		}
		completion_reward = {
			navy_experience = 75
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = SPR_the_peoples_fleet
				bonus = 1
				uses = 1
				category = ss_tech
			}
			add_doctrine_cost_reduction = {
				name = SPR_the_peoples_fleet
				cost_reduction = 0.5
				uses = 1
				category = submarine_doctrine
			}
		}
	}
	focus = {
		id = SPA_cruiser_support
		icon = GFX_focus_generic_naval_battleship2
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 3
		y = 3
		prerequisite = {
			focus = SPA_defend_the_coast
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_cruiser_support
				bonus = 1
				uses = 2
				category = cl_tech
			}
		}
	}
	focus = {
		id = SPA_protect_our_colonies
		icon = GFX_focus_generic_africa_naval
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 2
		y = 4
		prerequisite = {
			focus = SPA_coast_guard
		}
		prerequisite = {
			focus = SPA_cruiser_support
		}
		ai_will_do = {
			factor = 10
		}
		allow_branch = {
			OR = {
				tag = SPA
				tag = SPB
			}
		}
		completion_reward = {
			290 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 9945
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 12100
					instant_build = yes
				}
			}
			297 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 1903
					instant_build = yes
				}
			}
			297 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 8244
					instant_build = yes
				}
			}
			968 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 12857
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_masters_of_the_sea
		icon = GFX_focus_generic_naval_academy
		cost = 7
		relative_position_id = SPA_armada_espanola
		x = 0
		y = 4
		prerequisite = {
			focus = SPA_cruiser_support
		}
		prerequisite = {
			focus = SPA_modern_galleons
			focus = SPA_coast_guard
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_masters_of_the_sea
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SPA_expand_the_naval_academy
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_masters_of_the_sea
		}
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = -1
		y = 1
		relative_position_id = SPA_masters_of_the_sea
		cost = 10
		completion_reward = {
			navy_experience = 50
			add_doctrine_cost_reduction = {
				name = SPA_navy_modernization
				cost_reduction = 0.5
				uses = 3
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SPA_academia_basica_del_aire
		icon = GFX_focus_SPA_airforce
		icon = {
			trigger = {
				tag = SPA
			}
			value = GFX_focus_SPA_navy
		}
		icon = {
			trigger = {
				tag = SPB
			}
			value = GFX_focus_SPA_republic_airforce
		}
		icon = {
			trigger = {
				tag = SPC
			}
			value = GFX_focus_SPA_communist_airforce
		}
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 5
		y = 3
		prerequisite = {
			focus = SPA_the_third_dimension_of_warfare
		}
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			air_experience = 10
			add_doctrine_cost_reduction = {
				name = SPA_academia_basica_del_aire
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
		search_filters = {
			FOCUS_FILTER_AIRFORCE_BONUS
		}
	}
	focus = {
		id = SPA_new_pilots
		icon = GFX_focus_generic_op_dist
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = 3
		y = 1
		prerequisite = {
			focus = SPA_academia_basica_del_aire
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			air_experience = 50
		}
	}
	focus = {
		id = SPA_paratrooper_focus
		icon = GFX_focus_generic_paratrooper
		cost = 7
		relative_position_id = SPA_new_pilots
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_new_pilots
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_paratrooper_focus
				bonus = 1
				uses = 1
				category = para_tech
			}
		}
	}
	focus = {
		id = SPA_aviation_industry
		icon = GFX_focus_generic_aircraft_production
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = 1
		y = 3
		prerequisite = {
			focus = SPA_fighters
			focus = SPA_bombers
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_air_supremacy
		icon = GFX_focus_generic_air_fighter_new
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = -1
		y = 1
		prerequisite = {
			focus = SPA_academia_basica_del_aire
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_air_supremacy
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	focus = {
		id = SPA_fighters
		icon = GFX_focus_generic_air_jet_2
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = -2
		y = 2
		prerequisite = {
			focus = SPA_air_supremacy
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_fighters
				bonus = 0.5
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	focus = {
		id = SPA_upgrade_air_ports
		icon = GFX_focus_generic_build_airforce
		cost = 7
		relative_position_id = SPA_fighters
		x = -1
		y = 1
		prerequisite = {
			focus = SPA_fighters
		}
		available = {
			175 = {
				is_owned_and_controlled_by = ROOT
			}
			169 = {
				is_owned_and_controlled_by = ROOT
			}
			165 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			175 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			169 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			165 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_army_air_support
		icon = GFX_focus_generic_basic_fighter_development
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = 1
		y = 1
		prerequisite = {
			focus = SPA_academia_basica_del_aire
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_army_air_support
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	focus = {
		id = SPA_bombers
		icon = GFX_focus_generic_heavy_bomber
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = 2
		y = 2
		prerequisite = {
			focus = SPA_army_air_support
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_bombers
				bonus = 0.5
				uses = 2
				category = tactical_bomber
				category = cat_strategic_bomber
			}
		}
	}
	focus = {
		id = SPA_foreign_airplanes
		icon = GFX_focus_generic_plane_lease
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_air_supremacy
			focus = SPA_army_air_support
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_voice_of_heaven
		icon = GFX_focus_generic_radar_instillation
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = -1
		y = 3
		prerequisite = {
			focus = SPA_fighters
			focus = SPA_bombers
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_voice_of_heaven
				bonus = 1
				uses = 2
				category = radar_tech
			}
		}
	}
	focus = {
		id = SPA_colonial_air_ports
		icon = GFX_focus_generic_airports
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = -4
		y = 2
		prerequisite = {
			focus = SPA_air_supremacy
		}
		available = {
			290 = {
				is_owned_and_controlled_by = ROOT
			}
			968 = {
				is_owned_and_controlled_by = ROOT
			}
			297 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			290 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			968 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			297 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_rule_the_skies
		icon = GFX_focus_generic_air_armada
		cost = 7
		relative_position_id = SPA_academia_basica_del_aire
		x = 0
		y = 4
		prerequisite = {
			focus = SPA_voice_of_heaven
		}
		prerequisite = {
			focus = SPA_aviation_industry
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			air_experience = 10
			add_doctrine_cost_reduction = {
				name = SPA_rule_the_skies
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = {
			FOCUS_FILTER_AIRFORCE_BONUS
		}
	}
	focus = {
		id = SPA_the_third_dimension_of_warfare
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_rebuild_command
			focus = SPR_legion_espanola
			focus = SWF_peoples_army
		}
		icon = GFX_goal_generic_air_doctrine
		relative_position_id = SPA_rebuild_command
		x = 5
		y = 1
		cost = 10
		completion_reward = {
			air_experience = 25
			add_doctrine_cost_reduction = {
				name = SPA_the_third_dimension_of_warfare
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
	}
	focus = {
		id = SPA_a_modern_fighter_fleet
		bypass = {
		}
		prerequisite = {
			focus = SPA_the_third_dimension_of_warfare
		}
		available = {
			has_completed_focus = SPA_masters_of_the_sea
		}
		icon = GFX_goal_generic_air_fighter
		x = 1
		y = 1
		relative_position_id = SPA_the_third_dimension_of_warfare
		cost = 10
		completion_reward = {
			air_experience = 50
			add_tech_bonus = {
				name = SPA_a_modern_fighter_fleet
				bonus = 1
				uses = 2
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	focus = {
		id = SPA_rebuilding_the_economy
		icon = GFX_focus_generic_destruction_civil_war
		cost = 7
		relative_position_id = SPA_rebuild_command
		x = 17
		y = 0
		ai_will_do = {
			factor = 150
		}
		available = {
			has_global_flag = Spain_civil_war_end_flag
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_rebuilding_the_economy
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}
	focus = {
		# Syndicalise the Economy
		id = SWF_syndicalise_the_economy
		icon = GFX_focus_SOV_workers_paradise
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 4
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		ai_will_do = {
			factor = 50
		}
		allow_branch = {
			OR = {
				tag = SPB
				tag = SPC
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_syndicalise_the_economy"
			add_stability = 0.05
			add_tech_bonus = {
				name = SWF_syndicalise_the_economy
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# Empower the Unions
		id = SWF_empower_the_unions
		icon = GFX_focus_POL_catholic_trade_unions
		cost = 7
		relative_position_id = SWF_syndicalise_the_economy
		x = 0
		y = 2
		prerequisite = {
			focus = SWF_syndicalise_the_economy
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_empower_the_unions"
			add_ideas = SWF_empower_the_unions_idea
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
	}
	focus = {
		# True Socialist Education
		id = SWF_true_socialist_education
		icon = GFX_focus_generic_socialist_science
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		allow_branch = {
			tag = SPC
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_true_socialist_education"
			add_research_slot_until_five = yes
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		# Bring Socialism to Real Academia
		id = SWF_expand_real_academia
		icon = GFX_focus_SOV_socialist_constitution
		cost = 7
		relative_position_id = SWF_true_socialist_education
		x = 0
		y = 2
		prerequisite = {
			focus = SWF_true_socialist_education
			focus = SPA_ley_general_educacion
		}
		allow_branch = {
			OR = {
				tag = SPB
				tag = SPC
			}
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_expand_real_academia"
			add_ideas = SWF_socialist_academia_idea
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
	}
	focus = {
		id = SPA_expand_railroads
		icon = GFX_focus_generic_railroad_01
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = -4
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		available = {
			41 = {
				is_fully_controlled_by = ROOT
			}
			1081 = {
				is_fully_controlled_by = ROOT
			}
			174 = {
				is_fully_controlled_by = ROOT
			}
			171 = {
				is_fully_controlled_by = ROOT
			}
			176 = {
				is_fully_controlled_by = ROOT
			}
			1070 = {
				is_fully_controlled_by = ROOT
			}
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			1070 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			176 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			171 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			build_railway = {
				path = {
					3938
					3794
					9800
					9846
					11825
					918
					3918
					3727
					3725
					11840
					11677
					11692
					6955
					758
				}
			}
			build_railway = {
				path = {
					11825
					6936
					903
					885
					11852
					13563
					740
				}
			}
		}
	}
	focus = {
		id = SPA_resource_extraction
		icon = GFX_focus_generic_coal_mining
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = -4
		y = 3
		prerequisite = {
			focus = SPA_expand_railroads
		}
		available = {
			171 = {
				is_controlled_by = ROOT
			}
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			171 = {
				add_resource = {
					type = tungsten
					amount = 12
				}
			}
		}
	}
	focus = {
		id = SPA_provincial_rebuilding
		icon = GFX_focus_generic_improve_industry
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = -2
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_provincial_rebuilding
				bonus = 1
				uses = 2
				category = industry
			}
		}
	}
	focus = {
		id = SPA_military_investments
		icon = GFX_focus_generic_royal_bonds
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = -3
		y = 2
		prerequisite = {
			focus = SPA_provincial_rebuilding
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_one_random_military_factory = yes
			add_one_random_military_factory = yes
		}
	}
	focus = {
		id = SPA_comercial_investment
		icon = GFX_focus_generic_attract_investment
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = -1
		y = 2
		prerequisite = {
			focus = SPA_provincial_rebuilding
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_electrification_program
		icon = GFX_focus_generic_electricity
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = -2
		y = 3
		prerequisite = {
			focus = SPA_military_investments
			focus = SPA_comercial_investment
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_electrification_program
				bonus = 1
				uses = 2
				category = electronics
			}
		}
	}
	focus = {
		id = SPA_ley_general_educacion
		icon = GFX_focus_generic_research_towns
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		allow_branch = {
			OR = {
				tag = SPA
				tag = SPB
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_research_slot_until_six = yes
		}
	}
	focus = {
		id = SPA_expand_royal_academia
		icon = GFX_focus_generic_catholic_education
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 0
		y = 3
		prerequisite = {
			focus = SPA_ley_general_educacion
		}
		allow_branch = {
			tag = SPA
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_create_ini
		icon = GFX_focus_generic_promote_entrepeneurship
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 2
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_industrial_nationalisation
		icon = GFX_focus_generic_state_economy
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 1
		y = 2
		prerequisite = {
			focus = SPA_create_ini
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
		}
	}
	focus = {
		id = SPA_military_factories
		icon = GFX_focus_generic_emergent_arms_order
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 3
		y = 2
		prerequisite = {
			focus = SPA_create_ini
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_one_military_factory = yes
			add_one_military_factory = yes
		}
	}
	focus = {
		id = SPA_modern_agriculture
		icon = GFX_focus_generic_agriculture_3
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 2
		y = 3
		prerequisite = {
			focus = SPA_industrial_nationalisation
			focus = SPA_military_factories
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_labour_charter
		icon = GFX_focus_generic_syndicalist_workers
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 4
		y = 1
		prerequisite = {
			focus = SPA_rebuilding_the_economy
		}
		ai_will_do = {
			factor = 50
		}
		allow_branch = {
			tag = SPA
		}
		completion_reward = {
			add_stability = 0.05
			add_tech_bonus = {
				name = SPA_labour_charter
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}
	focus = {
		id = SPA_catholic_trade_unions
		icon = GFX_focus_generic_befriend_catholic
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 4
		y = 3
		prerequisite = {
			focus = SPA_labour_charter
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_spanish_miracle
		icon = GFX_focus_spa_the_spanish_miracle
		cost = 7
		relative_position_id = SPA_rebuilding_the_economy
		x = 0
		y = 4
		prerequisite = {
			focus = SPA_resource_extraction
		}
		prerequisite = {
			focus = SPA_electrification_program
		}
		prerequisite = {
			focus = SPA_expand_royal_academia
			focus = SWF_expand_real_academia
		}
		prerequisite = {
			focus = SPA_modern_agriculture
		}
		prerequisite = {
			focus = SPA_catholic_trade_unions
			focus = SWF_empower_the_unions
		}
		ai_will_do = {
			factor = 200
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_place_in_the_world
		icon = GFX_focus_generic_world
		cost = 3
		relative_position_id = SPA_spanish_miracle
		x = -5
		y = 5
		bypass = {
			is_subject = yes
		}
		available = {
			has_completed_focus = SPA_spanish_miracle
		}
		allow_branch = {
			OR = {
				tag = SPA
				tag = SPB
				tag = SPC
			}
			has_global_flag = Spain_civil_war_end_flag
		}
		ai_will_do = {
			factor = 70
		}
		completion_reward = {
			add_political_power = 50
		}
	}
	focus = {
		id = SPR_the_inevitable_counterblow
		available = {
			has_country_leader = {
				name = "Anarchist Commune"
				ruling_only = yes
			}
		}
		bypass = {
		}
		allow_branch = {
			tag = SPC
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_place_in_the_world
		}
		icon = GFX_focus_SOV_defense_of_stalingrad
		x = -1
		y = 1
		relative_position_id = SPA_place_in_the_world
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			custom_effect_tooltip = SPR_recovering_from_civil_war_focus_tt
			add_ideas = SPR_the_inevitable_counterblow
			add_country_leader_trait = anarchist_zeal
			hidden_effect = {
				news_event = {
					id = lar_news.22
					hours = 6
				}
			}
		}
	}
	focus = {
		id = SPR_militarize_the_industry
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_the_inevitable_counterblow
		}
		prerequisite = {
			focus = SPR_torchbearers_of_tomorrow
		}
		icon = GFX_focus_SOV_soviet_artillery_drawings
		x = 0
		y = 1
		relative_position_id = SPR_the_inevitable_counterblow
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPR_militarize_the_industry_1mil
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_militarize_the_industry_1mil
					}
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_militarize_the_industry_1mil
					}
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_militarize_the_industry_1mil
					}
				}
				set_state_flag = SPR_militarize_the_industry_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_militarize_the_people
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_militarize_the_industry
		}
		icon = GFX_focus_generic_organization_partisans
		x = -1
		y = 2
		relative_position_id = SPR_militarize_the_industry
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SPA_doctrinal_advancements
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			swap_ideas = {
				remove_idea = SPR_the_threats_abound_2
				add_idea = SPR_the_threats_abound_3
			}
		}
	}
	focus = {
		id = SPR_communal_autarky
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_militarize_the_industry
		}
		icon = GFX_focus_SOV_train_1
		x = 0
		y = 1
		relative_position_id = SPR_militarize_the_industry
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPR_anarchist_society_17
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_17
					add_idea = SPR_anarchist_society_18
				}
			}
			else_if = {
				limit = {
					has_idea = SPR_anarchist_society_18
				}
				swap_ideas = {
					remove_idea = SPR_anarchist_society_18
					add_idea = SPR_anarchist_society_19
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPR_anarchist_society_17
						add_idea = SPR_anarchist_society_18
					}
				}
			}
			remove_ideas = SPA_recovering_from_civil_war
			add_tech_bonus = {
				name = SPR_communal_autarky
				bonus = 1
				uses = 1
				category = excavation_tech
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}
	focus = {
		id = SPR_torchbearers_of_tomorrow
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_place_in_the_world
		}
		allow_branch = {
			tag = SPC
			has_global_flag = Spain_civil_war_end_flag
		}
		icon = GFX_focus_SOV_defense_of_leningrad
		x = 1
		y = 1
		relative_position_id = SPA_place_in_the_world
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_ideas = SPR_torchbearers_of_tomorrow
			swap_ideas = {
				remove_idea = SPR_the_threats_abound_1
				add_idea = SPR_the_threats_abound_2
			}
		}
	}
	focus = {
		id = SPR_regional_defense_council_of_iberia
		available = {
			owns_state = 180
			owns_state = 181
			owns_state = 112
			owns_state = 179
			owns_state = 795
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_torchbearers_of_tomorrow
		}
		icon = GFX_focus_SPA_anarcho_communism
		x = 0
		y = 1
		relative_position_id = SPR_torchbearers_of_tomorrow
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SPR_regional_defense_council_of_iberia_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPC_regional_defense_council_of_iberia
			}
			every_state = {
				limit = {
					is_core_of = POR
				}
				add_core_of = ROOT
			}
		}
	}
	focus = {
		id = SPR_anarchism_knows_no_borders
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_regional_defense_council_of_iberia
		}
		icon = GFX_focus_spr_anarchism_knows_no_borders
		x = 0
		y = 1
		relative_position_id = SPR_regional_defense_council_of_iberia
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_ideas = SPR_anarchism_knows_no_borders
		}
	}
	focus = {
		id = SPR_global_defense_council
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_anarchism_knows_no_borders
		}
		icon = GFX_focus_UKR_anarchist_export_the_revolution
		x = 1
		y = 1
		relative_position_id = SPR_anarchism_knows_no_borders
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SPR_global_defense_council_tt
			hidden_effect = {
				drop_cosmetic_tag = yes
				set_cosmetic_tag = SPC_global_defense_council
			}
			custom_effect_tooltip = SPR_global_defense_council_tt_2
		}
	}
	focus = {
		id = SPR_plant_the_seeds_of_revolution
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_anarchism_knows_no_borders
		}
		icon = GFX_focus_SPA_syndicalist_rally
		x = -1
		y = 1
		relative_position_id = SPR_anarchism_knows_no_borders
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SPR_plant_the_seeds_of_revolution_tt
			division_template = {
				name = "Anarchist Militia"
				priority = 1
				is_locked = yes
				division_names_group = SPD_INF_06
				regiments = {
					infantry = {
						x = 0
						y = 0
					}
					infantry = {
						x = 0
						y = 1
					}
					infantry = {
						x = 0
						y = 2
					}
				}
			}
		}
	}
	focus = {
		id = SPA_isolation
		icon = GFX_focus_generic_ban_right_wing
		cost = 3
		relative_position_id = SPA_place_in_the_world
		x = -6
		y = 1
		prerequisite = {
			focus = SPA_place_in_the_world
		}
		available = {
			has_war = no
			is_in_faction = no
		}
		ai_will_do = {
			factor = 70
		}
		allow_branch = {
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_iberian_trade
		icon = GFX_focus_generic_befriend_portugal
		cost = 7
		relative_position_id = SPA_isolation
		x = 2
		y = 1
		prerequisite = {
			focus = SPA_isolation
		}
		available = {
			is_in_faction_with = POR
		}
		bypass = {
			NOT = {
				country_exists = POR
			}
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPR_foreign_industrial_aid
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_iberian_trade
		}
		icon = GFX_focus_generic_merge_the_banks
		x = 0
		y = 2
		relative_position_id = SPA_iberian_trade
		cost = 10
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPR_foreign_industrial_aid_2civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = {
					has_state_flag = SPR_foreign_industrial_aid_2mil
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_global_flag = Spain_civil_war_end_flag
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_recovering_from_civil_war
						add_idea = SPA_recovering_from_civil_war_2
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_foreign_industrial_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_foreign_industrial_aid_2civ
					}
				}
				set_state_flag = SPR_foreign_industrial_aid_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_bounties_of_neutrality
		icon = GFX_focus_generic_stable_government
		cost = 7
		relative_position_id = SPA_isolation
		x = -2
		y = 1
		prerequisite = {
			focus = SPA_isolation
		}
		available = {
			is_subject = no
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_increased_volunteers
		icon = GFX_focus_generic_army_cooperation
		cost = 7
		relative_position_id = SPA_isolation
		x = -2
		y = 3
		prerequisite = {
			focus = SPA_bounties_of_neutrality
		}
		available = {
			is_subject = no
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_influx_of_refugees
		icon = GFX_focus_generic_destruction_civil_war
		cost = 7
		relative_position_id = SPA_isolation
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_isolation
		}
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
		bypass = {
		}
	}
	focus = {
		id = SPA_guard_border
		icon = GFX_focus_generic_defensive_strategems
		cost = 6
		relative_position_id = SPA_influx_of_refugees
		x = 0
		y = 2
		prerequisite = {
			focus = SPA_influx_of_refugees
		}
		available = {
			1070 = {
				is_fully_controlled_by = ROOT
			}
			172 = {
				is_fully_controlled_by = ROOT
			}
			166 = {
				is_fully_controlled_by = ROOT
			}
			940 = {
				is_fully_controlled_by = ROOT
			}
			165 = {
				is_fully_controlled_by = ROOT
			}
		}
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			1070 = {
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
			172 = {
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
			166 = {
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
			940 = {
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
			165 = {
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_putting_refugees_to_work
		icon = GFX_focus_generic_befriend_catholic1
		cost = 7
		relative_position_id = SPA_isolation
		x = -1
		y = 2
		prerequisite = {
			focus = SPA_influx_of_refugees
		}
		available = {
			is_subject = no
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
		bypass = {
		}
	}
	focus = {
		id = SPA_lease_gibraltar
		icon = GFX_focus_generic_zugzwang
		cost = 3
		relative_position_id = SPA_isolation
		x = 1
		y = 2
		prerequisite = {
			focus = SPA_isolation
		}
		available = {
			has_war = no
			is_subject = no
			118 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPR_faith_in_the_cause
		icon = GFX_focus_SPA_continental_army
		cost = 3
		relative_position_id = SPA_place_in_the_world
		x = 6
		y = 1
		available = {
		}
		allow_branch = {
			tag = SPC
			has_global_flag = Spain_civil_war_end_flag
		}
		bypass = {
			is_in_faction_with = INT
		}
		prerequisite = {
			focus = SPA_place_in_the_world
		}
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				has_idea = SPA_economic_ruin
				has_idea = SPA_social_breakdown_2
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_faith_in_the_cause"
			add_ideas = SWF_foreign_focus
			custom_effect_tooltip = tooltip_white_line
			INT = {
				country_event = sprd.31
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				INT = {
					add_to_faction = ROOT
				}
			}
		}
	}
	focus = {
		# Joint Military Training
		id = SWF_joint_military_training
		icon = GFX_focus_generic_socialist_army
		cost = 7
		relative_position_id = SPR_faith_in_the_cause
		x = 2
		y = 2
		prerequisite = {
			focus = SWF_communard_advisors
		}
		prerequisite = {
			focus = SWF_internationale_support
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_joint_military_training"
			swap_ideas = {
				remove_idea = SWF_british_and_communard_advisors
				add_idea = SWF_internationale_training
			}
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_NAVY_XP
			FOCUS_FILTER_AIR_XP
		}
	}
	focus = {
		# Workers of Iberia, Unite
		id = SWF_united_iberia
		icon = GFX_focus_por_workers_of_iberia
		cost = 7
		relative_position_id = SPR_faith_in_the_cause
		x = -2
		y = 2
		prerequisite = {
			focus = SWF_communard_advisors
		}
		prerequisite = {
			focus = SWF_liberate_portugal
		}
		available = {
			is_subject = no
			OR = {
				NOT = {
					country_exists = POR
				}
				POR = {
					has_capitulated = yes
				}
			}
			controls_state = 112			#Lisbon
			controls_state = 180			#Porto
			controls_state = 181			#Guarda
			controls_state = 179			#Beja
			controls_state = 939			#vora
		}
		ai_will_do = {
			factor = 200
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_united_iberia"
			add_ideas = SWF_unification_of_iberia
			set_cosmetic_tag = SPA_socialist_iberia
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		id = SWF_liberate_portugal
		icon = GFX_focus_generic_attack_portugal
		cost = 7
		relative_position_id = SPR_faith_in_the_cause
		x = -2
		y = 1
		available = {
			is_subject = no
			controls_all_owned_states = yes
			OR = {
				NOT = {
					is_in_faction_with = INT
				}
				has_global_flag = second_weltkrieg_has_started
				POR = {
					is_subject = no
					is_in_faction = no
				}
			}
		}
		bypass = {
			POR = {
				has_socialist_government = yes
			}
		}
		prerequisite = {
			focus = SPR_faith_in_the_cause
		}
		will_lead_to_war_with = POR
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				can_declare_war_on = POR
				OR = {
					ROOT_is_threatened = yes
					POR = {
						default_attack_AI_trigger_FROM = yes
					}
				}
			}
			modifier = {
				factor = 0
				can_declare_war_on = POR
				NOT = {
					has_global_flag = second_weltkrieg_has_started
				}
				POR = {
					NOT = {
						focus_progress = {
							focus = POR_the_king_and_country
							progress > 0
						}
						focus_progress = {
							focus = POR_the_organic_kingdom
							progress > 0
						}
					}
				}
			}
			modifier = {
				factor = 100
				can_declare_war_on = POR
				#if POR is still factionless upon reaching these foci, ENT is dead - attack away
				POR = {
					is_subject = no
					is_in_faction = no
					OR = {
						focus_progress = {
							focus = POR_the_king_and_country
							progress > 0
						}
						focus_progress = {
							focus = POR_the_organic_kingdom
							progress > 0
						}
					}
				}
			}
			modifier = {
				factor = 100
				has_war_with = POR
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_liberate_portugal"
			add_political_power = 50
			if = {
				limit = {
					can_declare_war_on = POR
				}
				create_wargoal = {
					type = annex_everything
					target = POR
				}
			}
			POR = {
				every_core_state = {
					add_claim_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		# British Advisors
		id = SWF_internationale_support
		icon = GFX_focus_FRA_french_revanchism
		cost = 7
		relative_position_id = SPR_faith_in_the_cause
		x = 2
		y = 1
		prerequisite = {
			focus = SPR_faith_in_the_cause
		}
		available = {
			is_in_faction_with = ENG
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_british_advisors"
			if = {
				limit = {
					has_idea = SWF_communard_advisors_idea
				}
				swap_ideas = {
					remove_idea = SWF_communard_advisors_idea
					add_idea = SWF_british_and_communard_advisors
				}
			}
			else = {
				add_ideas = SWF_british_advisors_idea
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
	}
	focus = {
		# Communard Advisors
		id = SWF_communard_advisors
		icon = GFX_focus_FRA_army_red
		cost = 7
		relative_position_id = SPR_faith_in_the_cause
		x = 0
		y = 1
		prerequisite = {
			focus = SPR_faith_in_the_cause
		}
		available = {
			is_in_faction_with = FRA
		}
		bypass = {
			NOT = {
				country_exists = FRA
			}
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SWF_communard_advisors"
			if = {
				limit = {
					has_idea = SWF_british_advisors_idea
				}
				swap_ideas = {
					remove_idea = SWF_british_advisors_idea
					add_idea = SWF_british_and_communard_advisors
				}
			}
			else = {
				add_ideas = SWF_communard_advisors_idea
			}
		}
	}
	focus = {
		id = SPR_expand_soviet_aid
		available = {
			NOT = {
				has_war_with = SOV
			}
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			SOV = {
				has_government = communism
			}
			has_volunteers_amount_from = {
				tag = SOV
				count > 0
			}
		}
		bypass = {
			AND = {
				has_completed_focus = SPR_the_stalinist_doctrine
				has_global_flag = Spain_civil_war_end_flag
			}
		}
		prerequisite = {
			focus = SWF_communard_advisors
		}
		icon = GFX_focus_SOV_finish_five_year_plan
		x = 0
		y = 1
		relative_position_id = SWF_communard_advisors
		cost = 5
		ai_will_do = {
			base = 1
			modifier = {
				factor = 3
				is_historical_focus_on = no
				SOV = {
					is_ai = no
				}
			}
			modifier = {
				factor = 3
				surrender_progress > 0.4
				is_historical_focus_on = no
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				SOV = {
					is_ai = yes
				}
			}
			modifier = {
				factor = 0
				surrender_progress < 0.4
				any_country = {
					NOT = {
						tag = SOV
					}
					ROOT = {
						has_volunteers_amount_from = {
							tag = PREV
							count > 0
						}
					}
				}
			}
		}
		available_if_capitulated = yes
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			SOV = {
				add_timed_idea = {
					idea = SPA_spanish_civil_war_commitments
					days = 730
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = SPA_spanish_civil_war_commitments
				}
			}
			custom_effect_tooltip = SPR_expand_soviet_aid_tt
		}
	}
	focus = {
		id = SPR_soviet_recovery_aid
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_government = communism
			}
			has_global_flag = Spain_civil_war_end_flag
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_expand_soviet_aid
		}
		icon = GFX_goal_generic_soviet_construction
		x = 0
		y = 1
		relative_position_id = SPR_expand_soviet_aid
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPR_soviet_recovery_aid_2civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SPR_soviet_recovery_aid
				days = 1095
			}
			if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_3
				}
				remove_ideas = SPA_recovering_from_civil_war_3
			}
			else_if = {
				limit = {
					has_idea = SPA_recovering_from_civil_war_2
				}
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war_2
					add_idea = SPA_recovering_from_civil_war_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SPA_recovering_from_civil_war
					add_idea = SPA_recovering_from_civil_war_2
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_soviet_recovery_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPR_soviet_military_advisors
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_government = communism
			}
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_expand_soviet_aid
		}
		icon = GFX_focus_SOV_intensify_pilot_training_program
		x = 2
		y = 1
		relative_position_id = SPR_expand_soviet_aid
		cost = 5
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			army_experience = 25
			add_war_support = 0.1
			add_ideas = SPR_soviet_military_advisors
			custom_effect_tooltip = SPR_seize_public_transport_tt
		}
	}
	focus = {
		id = SPR_soviet_equipment_shipments
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_government = communism
			}
		}
		bypass = {
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPR_expand_soviet_aid
		}
		icon = GFX_focus_SOV_lessons_from_war_infantry_tactics
		x = -2
		y = 1
		relative_position_id = SPR_expand_soviet_aid
		cost = 5
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPR_soviet_equipment_shipments_1mil
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			SOV = {
				add_timed_idea = {
					idea = SPR_equipment_shipments
					days = 730
				}
				add_ai_strategy = {
					type = send_lend_lease_desire
					id = SPR
					value = 200
				}
			}
			add_timed_idea = {
				idea = SPR_equipment_shipments_spain
				days = 730
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPR_soviet_equipment_shipments_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_soviet_equipment_shipments_1mil
					}
				}
				set_state_flag = SPR_soviet_equipment_shipments_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPR_soviet_equipment_shipments_1mil
					}
				}
				set_state_flag = SPR_soviet_equipment_shipments_1mil
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		# Join the Entente
		id = SPR_join_entente
		icon = GFX_focus_GBR_lead_entente
		cost = 3
		x = 6
		y = 1
		relative_position_id = SPA_place_in_the_world
		available = {
			is_subject = no
			is_in_faction = no
			ENT = {
				is_faction_leader = yes
			}
			at_peace_or_same_enemies_as_ENT = yes
		}
		bypass = {
			is_in_faction_with = ENT
		}
		allow_branch = {
			OR = {
				tag = SPA
				tag = SPB
			}
			has_global_flag = Spain_civil_war_end_flag
		}
		prerequisite = {
			focus = SPA_place_in_the_world
		}
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				has_idea = SPA_economic_ruin
				has_idea = SPA_social_breakdown_2
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_join_entente"
			ENT = {
				country_event = sprd.31
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				ENT = {
					add_to_faction = ROOT
				}
			}
		}
	}
	focus = {
		id = SPA_british_advisors
		icon = GFX_focus_generic_befriend_british
		cost = 7
		relative_position_id = SPR_join_entente
		x = 2
		y = 1
		prerequisite = {
			focus = SPR_join_entente
		}
		available = {
			is_in_faction_with = IMP
		}
		allow_branch = {
		}
		bypass = {
			NOT = {
				country_exists = CAN
			}
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		# Entente Doctrinal Development
		id = SPR_joint_military_training
		icon = GFX_focus_SOV_mobilization_plan
		cost = 7
		relative_position_id = SPR_join_entente
		x = 2
		y = 2
		prerequisite = {
			focus = SPR_french_advisors
		}
		prerequisite = {
			focus = SPA_british_advisors
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_joint_military_training"
			add_doctrine_cost_reduction = {
				name = SPR_joint_military_training
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SPR_joint_military_training
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SPR_joint_military_training
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_NAVY_XP
			FOCUS_FILTER_AIR_XP
		}
	}
	focus = {
		# Latin economic Union
		id = SPR_latin_economic_union
		icon = GFX_focus_generic_positive_trade_relations_gold
		cost = 7
		relative_position_id = SPR_join_entente
		x = -2
		y = 2
		prerequisite = {
			focus = SPR_entente_trade
			focus = SPA_support_the_war_industry
		}
		ai_will_do = {
			factor = 50
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_latin_economic_union"
			add_political_power = 30
			swap_ideas = {
				remove_idea = SPA_mediterranean_allies1
				add_idea = SPR_economic_cooperation_expanded_idea
			}
			custom_effect_tooltip = tooltip_white_line
			every_other_country = {
				limit = {
					OR = {
						original_tag = POR
						original_tag = NFA
						original_tag = SIC
						original_tag = SRD
					}
					has_socialist_government = no
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
					}
					at_war_with_or_justifying_wargoal_against_ROOT = no
				}
				country_event = sprf.6
				custom_effect_tooltip = tooltip_white_line
				effect_tooltip = {
					add_ideas = SPR_economic_cooperation_idea
					add_opinion_modifier = {
						target = ROOT
						modifier = KR_trade_agreement
					}
					reverse_add_opinion_modifier = {
						target = ROOT
						modifier = KR_trade_agreement
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		# French Advisors
		id = SPR_french_advisors
		icon = GFX_focus_FRA_foreign_legion
		cost = 7
		relative_position_id = SPR_join_entente
		x = 0
		y = 1
		prerequisite = {
			focus = SPR_join_entente
		}
		available = {
			is_in_faction_with = NFA
		}
		ai_will_do = {
			factor = 30
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_french_advisors"
			if = {
				limit = {
					has_idea = SPR_canadian_advisors_idea
				}
				swap_ideas = {
					remove_idea = SPR_canadian_advisors_idea
					add_idea = SPA_entente_advisors2
				}
			}
			else = {
				add_ideas = SPR_french_advisors_idea
			}
		}
	}
	focus = {
		id = SPR_petition_for_french_aid
		available = {
			NOT = {
				has_war_with = FRA
			}
			NOT = {
				has_global_flag = Spain_civil_war_end_flag
			}
			FRA = {
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPR_french_advisors
		}
		icon = GFX_focus_chi_reach_out_to_france
		x = 0
		y = 1
		relative_position_id = SPR_french_advisors
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			effect_tooltip = {
				add_war_support = 0.15
				FRA = {
					add_timed_idea = {
						idea = SPR_equipment_shipments
						days = 730
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = SPA_spanish_civil_war_commitments
					}
				}
			}
			custom_effect_tooltip = SPR_petition_for_french_aid_tt
			FRA = {
				country_event = {
					id = lar_spain.64
					hours = 6
					random_hours = 6
				}
			}
		}
	}
	focus = {
		id = SPA_french_mining_projects
		icon = GFX_focus_generic_resources
		cost = 7
		relative_position_id = SPR_french_advisors
		x = -1
		y = 2
		prerequisite = {
			focus = SPR_french_advisors
		}
		available = {
			is_in_faction_with = FRA
			175 = {
				is_fully_controlled_by = ROOT
			}
			173 = {
				is_fully_controlled_by = ROOT
			}
		}
		bypass = {
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
			175 = {
				add_resource = {
					type = oil
					amount = 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			173 = {
				add_resource = {
					type = steel
					amount = 8
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_french_equipment
		icon = GFX_focus_FRA_army_generic
		cost = 7
		relative_position_id = SPR_french_advisors
		x = 1
		y = 2
		prerequisite = {
			focus = SPR_french_advisors
		}
		allow_branch = {
		}
		available = {
			is_in_faction_with = GER
		}
		bypass = {
			NOT = {
				country_exists = GER
			}
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		# Iberian Trade
		id = SPR_entente_trade
		icon = GFX_focus_generic_arms_export
		cost = 7
		relative_position_id = SPR_join_entente
		x = -2
		y = 1
		prerequisite = {
			focus = SPR_join_entente
		}
		available = {
			is_in_faction_with = POR
		}
		ai_will_do = {
			factor = 20
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_iberian_trade"
			add_ideas = SPA_mediterranean_allies1
			POR = {
				country_event = {
					id = sprf.7
					days = 2
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
	}
	focus = {
		id = SPA_europa_trade
		icon = GFX_focus_FRA_stablize_status_quo
		cost = 7
		relative_position_id = SPA_place_in_the_world
		x = 0
		y = 1
		prerequisite = {
			focus = SPA_place_in_the_world
		}
		allow_branch = {
			tag = SPA
			has_global_flag = Spain_civil_war_end_flag
		}
		available = {
		}
		bypass = {
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_domestic_industrial_developments
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_europa_trade
		}
		icon = GFX_focus_generic_improve_industry
		x = 2
		y = 2
		relative_position_id = SPA_europa_trade
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = SPA_national_recovery_4
						has_idea = SPA_national_recovery_5
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_national_recovery_4
						add_idea = SPA_national_recovery_6
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_4
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_4
					add_idea = SPA_national_recovery_6
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_5
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_5
					add_idea = SPA_national_recovery_7
				}
			}
		}
	}
	focus = {
		id = SPA_ensure_agricultural_self_sufficiency
		available = {
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_improve_living_standards
		}
		prerequisite = {
			focus = SPA_domestic_industrial_developments
		}
		prerequisite = {
			focus = SPA_capitalist_economic_aid
		}
		icon = GFX_focus_generic_food_processing
		x = -1
		y = 1
		relative_position_id = SPA_domestic_industrial_developments
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			remove_ideas = SPA_recovering_from_civil_war_3
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
					}
				}
				set_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
					}
				}
				set_state_flag = SPA_ensure_agricultural_self_sufficiency_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_improve_living_standards
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_europa_trade
		}
		icon = GFX_focus_generic_improvised_farming_machinery
		x = -2
		y = 2
		relative_position_id = SPA_europa_trade
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_stability = 0.15
			add_political_power = 120
			if = {
				limit = {
					NOT = {
						has_idea = SPA_national_recovery_4
						has_idea = SPA_national_recovery_6
					}
				}
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SPA_national_recovery_4
						add_idea = SPA_national_recovery_5
					}
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_4
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_4
					add_idea = SPA_national_recovery_5
				}
			}
			if = {
				limit = {
					has_idea = SPA_national_recovery_6
				}
				swap_ideas = {
					remove_idea = SPA_national_recovery_6
					add_idea = SPA_national_recovery_7
				}
			}
		}
	}
	focus = {
		id = SPA_the_spanish_miracle
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_improve_living_standards
		}
		prerequisite = {
			focus = SPA_domestic_industrial_developments
		}
		prerequisite = {
			focus = SPA_capitalist_economic_aid
		}
		icon = GFX_focus_spa_the_spanish_miracle
		x = 1
		y = 1
		relative_position_id = SPA_improve_living_standards
		cost = 20
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_the_spanish_miracle_2civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = {
					has_state_flag = SPA_the_spanish_miracle_2mil
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_the_spanish_miracle_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_the_spanish_miracle_2civ
					}
				}
				set_state_flag = SPA_the_spanish_miracle_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_the_spanish_miracle_2civ
					}
				}
				set_state_flag = SPA_the_spanish_miracle_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_the_spanish_miracle_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_the_spanish_miracle_2mil
					}
				}
				set_state_flag = SPA_the_spanish_miracle_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_capitalist_economic_aid
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_europa_trade
		}
		prerequisite = {
			focus = SPA_reduce_reliance_on_foreign_resources
		}
		icon = GFX_focus_generic_privatization
		x = 0
		y = 2
		relative_position_id = SPA_europa_trade
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_capitalist_economic_aid_2civ
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_tech_bonus = {
				name = SPA_capitalist_economic_aid
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_capitalist_economic_aid_2civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			remove_ideas = SPA_recovering_from_civil_war_3
			swap_ideas = {
				remove_idea = SPA_national_recovery_3
				add_idea = SPA_national_recovery_4
			}
		}
	}
	focus = {
		id = SPA_expand_spanish_bases
		available = {
			OR = {
				is_in_faction_with = ENG
				is_in_faction_with = USA
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_europa_trade
		}
		icon = GFX_focus_generic_british_armed_convoy
		x = 1
		y = 1
		relative_position_id = SPA_europa_trade
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			171 = {
				#Galicia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 758
					instant_build = yes
				}
			}
			790 = {
				#Asturias
				add_building_construction = {
					type = naval_base
					level = 1
					province = 11707
					instant_build = yes
				}
			}
			792 = {
				#Basque
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 740
					instant_build = yes
				}
			}
			165 = {
				#Catalonia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 9764
					instant_build = yes
				}
			}
			167 = {
				#Valencia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 6906
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 4098
					instant_build = yes
				}
			}
			168 = {
				#Murcia
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 10024
					instant_build = yes
				}
			}
			173 = {
				#Granada
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 747
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 9979
					instant_build = yes
				}
			}
			169 = {
				#Sevilla
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 1048
					instant_build = yes
				}
			}
			41 = {
				#Madrid
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			177 = {
				#Baleares
				add_building_construction = {
					type = naval_base
					level = 1
					province = 9793
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 7114
					instant_build = yes
				}
			}
			178 = {
				#Canary Islands
				add_building_construction = {
					type = naval_base
					level = 1
					province = 13071
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_expanded_european_trade
		icon = GFX_focus_HUN_dream_of_danube_federation
		cost = 7
		relative_position_id = SPA_europa_trade
		x = -1
		y = 1
		prerequisite = {
			focus = SPA_europa_trade
		}
		available = {
		}
		bypass = {
		}
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
		}
	}
	focus = {
		id = SPA_join_the_axis
		available = {
			has_global_flag = Spain_civil_war_end_flag
			is_in_faction = no
			OR = {
				AND = {
					GER = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
				AND = {
					ITA = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
			}
			NOT = {
				has_completed_focus = SPA_the_latin_bloc
			}
			NOT = {
				has_global_flag = POR_iberian_summit_in_progress_flag
			}
		}
		bypass = {
			OR = {
				AND = {
					NOT = {
						GER = {
							has_government = fascism
						}
					}
					NOT = {
						ITA = {
							has_government = fascism
						}
					}
				}
				is_in_faction_with = GER
				is_in_faction_with = ITA
			}
		}
		prerequisite = {
			focus = SPA_place_in_the_world
			focus = SPA_fuse_the_parties
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		allow_branch = {
			tag = SPB
			has_global_flag = Spain_civil_war_end_flag
		}
		icon = GFX_focus_GER_racial_valkist
		x = 0
		y = 1
		relative_position_id = SPA_place_in_the_world
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			if = {
				limit = {
					GER = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
				GER = {
					country_event = generic.2
				}
			}
			if = {
				limit = {
					ITA = {
						has_government = fascism
						is_faction_leader = yes
					}
				}
				ITA = {
					country_event = generic.2
				}
			}
		}
	}
	focus = {
		id = SPA_support_the_war_industry
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_join_the_axis
		}
		icon = GFX_focus_GER_alliance_of_steel_and_blood
		x = 1
		y = 1
		relative_position_id = SPA_join_the_axis
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_support_the_war_industry_1civ
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SPA_recovering_from_civil_war_2
				add_idea = SPA_recovering_from_civil_war_3
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_support_the_war_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_support_the_war_industry_1civ
					}
				}
				set_state_flag = SPA_support_the_war_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_support_the_war_industry_1civ
					}
				}
				set_state_flag = SPA_support_the_war_industry_1civ
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = SPA_reduce_reliance_on_foreign_resources_tt
		}
	}
	focus = {
		id = SPA_expand_the_war_industry
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_support_the_war_industry
		}
		icon = GFX_focus_GER_volksgewehr
		x = 1
		y = 2
		relative_position_id = SPA_support_the_war_industry
		cost = 10
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SPA_expand_the_war_industry_2mil
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = SPA_expand_the_war_industry_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = {
						has_state_flag = SPA_expand_the_war_industry_2mil
					}
				}
				set_state_flag = SPA_expand_the_war_industry_2mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SPA_the_duty_to_work
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_support_the_war_industry
		}
		icon = GFX_focus_generic_workers1
		x = -1
		y = 2
		relative_position_id = SPA_support_the_war_industry
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SPA_the_duty_to_work
		}
	}
	focus = {
		id = SPA_italian_shipbuilding_expertise
		available = {
			is_in_faction_with = ITA
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_support_the_war_industry
		}
		icon = GFX_focus_GER_operation_sealion
		x = 0
		y = 1
		relative_position_id = SPA_support_the_war_industry
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_ideas = SPA_italian_shipbuilding_expertise
			add_tech_bonus = {
				name = SPA_italian_shipbuilding_expertise
				bonus = 1
				uses = 1
				category = bb_tech
			}
		}
	}
	focus = {
		id = SPA_fascist_economic_aid
		available = {
			any_country = {
				is_in_faction_with = ROOT
				has_government = fascism
				is_major = yes
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_join_the_axis
		}
		icon = GFX_focus_GER_siemens_concern
		x = -1
		y = 1
		relative_position_id = SPA_join_the_axis
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_ideas = SPA_fascist_economic_aid
			swap_ideas = {
				remove_idea = SPA_recovering_from_civil_war
				add_idea = SPA_recovering_from_civil_war_2
			}
			add_tech_bonus = {
				name = SPA_fascist_economic_aid
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}
	focus = {
		id = SPA_expand_the_axis_gold_trade
		available = {
			NOT = {
				has_completed_focus = SPA_the_stabilization_plan
			}
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_fascist_economic_aid
		}
		mutually_exclusive = {
			focus = SPA_capitalist_economic_aid
		}
		icon = GFX_focus_GER_swiss_money_laundry
		x = -1
		y = 2
		relative_position_id = SPA_fascist_economic_aid
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SPA_expand_the_axis_gold_trade
		}
	}
	focus = {
		id = SPA_improve_cross_country_railways
		available = {
			any_allied_country = {
				is_major = yes
				has_government = fascism
			}
			has_full_control_of_state = 169
			has_full_control_of_state = 789
			has_full_control_of_state = 175
			has_full_control_of_state = 170
			has_full_control_of_state = 173
			has_full_control_of_state = 168
		}
		bypass = {
		}
		prerequisite = {
			focus = SPA_fascist_economic_aid
		}
		icon = GFX_focus_generic_railroad02
		x = 0
		y = 1
		relative_position_id = SPA_fascist_economic_aid
		cost = 10
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			build_railway = {
				#Madrid - Crodoba - Sevilla
				path = {
					3938
					13224
					13229
					6800
					6832
					6948
					3810
					3871
					875
					1178
					7183
				}
			}
			build_railway = {
				#Madrid - Granada
				path = {
					13229
					9778
					9828
					12083
					4095
					1176
				}
			}
			build_railway = {
				#Madrid - Murcia - Valencia
				path = {
					3938
					6914
					9757
					942
					832
					9903
					1093
					10024
					4098
					9889
					6959
					6906
				}
			}
		}
	}
}
