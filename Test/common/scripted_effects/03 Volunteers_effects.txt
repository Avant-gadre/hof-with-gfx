FROM_send_volunteers_to_ROOT = {
	FROM = {
		if = {
			limit = {
				NOT = {
					has_country_flag = sent_volunteers_@ROOT
					has_country_flag = imminent_war
					any_claim = yes					#is justifying/being justified against
					check_variable = {
						modifier@cannot_receive_volunteers > 0
					}
				}
			}
			#set flag
			set_country_flag = sent_volunteers_@ROOT
			#update count
			add_to_variable = {
				send_volunteers_count = 1
			}
			#add strategies
			log = "[THIS.GetName]: increased volunteer desire to [ROOT.GetName]"
			add_ai_strategy = {
				type = send_volunteers_desire
				id = ROOT
				value = 400
			}
			add_ai_strategy = {
				type = send_lend_lease_desire
				id = ROOT
				value = 400
			}
			add_ai_strategy = {
				type = send_lend_lease_desire
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = support
				id = ROOT
				value = 200
			}
		}
	}
}

send_volunteers_to_TARGET = {
	if = {
		limit = {
			NOT = {
				has_country_flag = sent_volunteers_@event_target:volunteer_target
				has_country_flag = imminent_war
				any_claim = yes				#is justifying/being justified against
				# check_variable = {
				# 	event_target:volunteer_target.modifier@cannot_receive_volunteers > 0
				# }
			}
		}
		#set flag
		set_country_flag = sent_volunteers_@event_target:volunteer_target
		#update count
		add_to_variable = {
			send_volunteers_count = 1
		}
		#add strategies
		log = "[THIS.GetName]: increased volunteer desire to [volunteer_target.GetName]"
		add_ai_strategy = {
			type = send_volunteers_desire
			id = event_target:volunteer_target
			value = 400
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = event_target:volunteer_target
			value = 400
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = event_target:volunteer_target
			value = 200
		}
		add_ai_strategy = {
			type = support
			id = event_target:volunteer_target
			value = 200
		}
	}
}

clear_volunteers_to_TARGET = {
	if = {
		limit = {
			has_country_flag = sent_volunteers_@event_target:volunteer_target
		}
		#clear flag
		clr_country_flag = sent_volunteers_@event_target:volunteer_target
		#lock volunteers diplo action if no other volunteers
		subtract_from_variable = {
			send_volunteers_count = 1
		}
		#remove strategies
		log = "[THIS.GetName]: removed volunteer desire to [volunteer_target.GetName]"
		add_ai_strategy = {
			type = send_volunteers_desire
			id = event_target:volunteer_target
			value = -400
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = event_target:volunteer_target
			value = -400
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = event_target:volunteer_target
			value = -200
		}
		add_ai_strategy = {
			type = support
			id = event_target:volunteer_target
			value = -200
		}
	}
}

clear_volunteers_to_PREV = {
	if = {
		limit = {
			has_country_flag = sent_volunteers_@PREV
		}
		#clear flag
		clr_country_flag = sent_volunteers_@PREV
		#lock volunteers diplo action if no other volunteers
		subtract_from_variable = {
			send_volunteers_count = 1
		}
		#remove strategies
		log = "[THIS.GetName]: removed volunteer desire to [PREV.GetName]"
		add_ai_strategy = {
			type = send_volunteers_desire
			id = PREV
			value = -400
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = PREV
			value = -400
		}
		add_ai_strategy = {
			type = send_lend_lease_desire
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = support
			id = PREV
			value = -200
		}
	}
}

clear_all_volunteers = {
	every_country = {
		limit = {
			has_country_flag = sent_volunteers_@PREV
		}
		clear_volunteers_to_PREV = yes
	}
}

clear_all_sent_volunteers = {
	every_country = {
		limit = {
			PREV = {
				has_country_flag = sent_volunteers_@PREV
			}
		}
		PREV = {
			clear_volunteers_to_PREV = yes
		}
	}
}
