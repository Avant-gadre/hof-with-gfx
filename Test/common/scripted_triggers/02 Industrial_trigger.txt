##用来检测
is_agricultural_state_trigger = {
	OR = {
		has_dynamic_modifier = {
			modifier = agrarian_state
		}
		has_dynamic_modifier = {
			modifier = half_industrial_state
		}
	}
}

is_industrial_region = {
	OR = {
		has_dynamic_modifier = {
			modifier = industrial_area_Lv1
		}
		has_dynamic_modifier = {
			modifier = industrial_area_Lv2
		}
		has_dynamic_modifier = {
			modifier = industrial_area_Lv3
		}
	}
}

##给通用决议用的
is_developed_industrial_region = {
	hidden_trigger = {
		is_owned_controlled_and_cored_by_ROOT = yes
		NOT = {
			has_dynamic_modifier = {
				modifier = agrarian_state
			}
		}
		NOT = {
			has_dynamic_modifier = {
				modifier = half_industrial_state
			}
		}
		OR = {
			has_dynamic_modifier = {
				modifier = industrial_area_Lv3
			}
			has_dynamic_modifier = {
				modifier = industrial_area_Lv2
			}
		}
		infrastructure > 4
		OR = {
			has_state_category = eight
			has_state_category = nine
			has_state_category = ten
			has_state_category = eleven
			has_state_category = twelve
		}
	}
}

##给通用决议用的
can_developed_industrial_region = {
	hidden_trigger = {
		is_owned_controlled_and_cored_by_ROOT = yes
		is_fully_controlled_by = ROOT
		NOT = {
			has_dynamic_modifier = {
				modifier = industrial_area_Lv3
			}
		}
		NOT = {
			has_dynamic_modifier = {
				modifier = agrarian_state
			}
		}
		NOT = {
			has_dynamic_modifier = {
				modifier = half_industrial_state
			}
		}
		OR = {
			has_state_category = seven
			has_state_category = eight
			has_state_category = nine
			has_state_category = ten
			has_state_category = eleven
			has_state_category = twelve
		}
	}
}

##给通用决议用的
can_urbanize_region = {
	hidden_trigger = {
		is_owned_controlled_and_cored_by_ROOT = yes
		NOT = {
			has_state_flag = Generic_industrializing_flag
		}
		NOT = {
			has_state_flag = Generic_urbanizing_flag
		}
		##is_agricultural_state_trigger = no
		OR = {
			AND = {
				has_state_category = four
				state_population > 500000
			}
			AND = {
				has_state_category = five
				state_population > 700000
			}
			AND = {
				has_state_category = six
				state_population > 900000
			}
			AND = {
				has_state_category = seven
				state_population > 1100000
			}
			AND = {
				has_state_category = eight
				state_population > 1300000
			}
			AND = {
				has_state_category = nine
				state_population > 1500000
			}
			AND = {
				has_state_category = ten
				state_population > 1700000
			}
			AND = {
				has_state_category = eleven
				state_population > 1900000
			}
		}
	}
}

is_rhineland_state = {
	OR = {
		state = 51
		state = 42
		state = 781
	}
}

is_metropolis_state = {
	OR = {
		has_state_category = twelve
		has_state_category = eleven
		has_state_category = ten
	}
}

is_valid_state_for_development = {
	impassable = no
	NOT = {
		has_state_category = wasteland
		has_state_category = zero_island
		has_state_category = one_island
	}
}

prefer_core_states_unless_filled = {
	OR = {
		is_core_of = owner
		AND = {
			is_claimed_by = owner
			NOT = {
				owner = {
					any_core_state = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						is_owned_and_controlled_by = PREV
						is_valid_state_for_development = yes
					}
				}
			}
		}
	}
}

prefer_core_states_unless_filled_dockyard = {
	OR = {
		is_core_of = owner
		AND = {
			is_claimed_by = owner
			NOT = {
				owner = {
					any_core_state = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
						is_owned_and_controlled_by = PREV
						is_valid_state_for_development = yes
					}
				}
			}
		}
	}
}

prefer_core_states_unless_filled_infrastructure = {
	OR = {
		is_core_of = owner
		AND = {
			is_claimed_by = owner
			NOT = {
				owner = {
					any_core_state = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
						is_owned_and_controlled_by = PREV
						is_valid_state_for_development = yes
					}
				}
			}
		}
	}
}

prefer_home_area_states_unless_filled = {
	OR = {
		is_in_home_area = yes
		NOT = {
			owner = {
				any_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_in_home_area = yes
					is_valid_state_for_development = yes
				}
			}
		}
	}
}

prefer_home_area_states_unless_filled_dockyard = {
	OR = {
		is_in_home_area = yes
		NOT = {
			owner = {
				any_owned_state = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_in_home_area = yes
					is_valid_state_for_development = yes
				}
			}
		}
	}
}

prefer_home_area_states_unless_filled_infrastructure = {
	OR = {
		is_in_home_area = yes
		NOT = {
			owner = {
				any_owned_state = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_in_home_area = yes
					is_valid_state_for_development = yes
				}
			}
		}
	}
}

has_four_or_more_factory = {
	OR = {
		non_damaged_building_level = {
			building = arms_factory
			level > 3
		}
		non_damaged_building_level = {
			building = industrial_complex
			level > 3
		}
		AND = {
			non_damaged_building_level = {
				building = arms_factory
				level > 2
			}
			non_damaged_building_level = {
				building = industrial_complex
				level > 0
			}
		}
		AND = {
			non_damaged_building_level = {
				building = arms_factory
				level > 1
			}
			non_damaged_building_level = {
				building = industrial_complex
				level > 1
			}
		}
		AND = {
			non_damaged_building_level = {
				building = arms_factory
				level > 0
			}
			non_damaged_building_level = {
				building = industrial_complex
				level > 2
			}
		}
	}
}

has_unsupported_economic_law = {
	if = {
		limit = {
			has_idea = low_economic_mobilisation
		}
		has_idea = low_economic_mobilisation
		has_war_support < 0.15
	}
	else_if = {
		limit = {
			has_idea = partial_economic_mobilisation
		}
		has_idea = partial_economic_mobilisation
		has_war_support < 0.25
	}
	else_if = {
		limit = {
			NOT = {
				has_completed_focus = HUN_Mandatory_service
			}
			has_idea = war_economy
		}
		has_idea = war_economy
		has_war = no
	}
	else_if = {
		limit = {
			has_idea = tot_economic_mobilisation
		}
		has_idea = tot_economic_mobilisation
		has_war = no
	}
	else = {
		always = no
	}
}

has_unsupported_manpower_law = {
	if = {
		limit = {
			has_idea = limited_conscription
		}
		has_idea = limited_conscription
		has_war_support < 0.1
		hidden_trigger = {
			NOT = {
				tag = TUR
			}
		}
	}
	else_if = {
		limit = {
			has_idea = extensive_conscription
		}
		has_idea = extensive_conscription
		has_war_support < 0.2
		NOT = {
			has_government = communism
		}
		NOT = {
			has_government = fascism
		}
	}
	else_if = {
		limit = {
			has_idea = service_by_requirement
		}
		has_idea = service_by_requirement
		has_war_support < 0.6
		NOT = {
			has_government = communism
		}
		NOT = {
			has_government = fascism
		}
	}
	else_if = {
		limit = {
			has_idea = all_adults_serve
		}
		has_idea = all_adults_serve
	}
	else_if = {
		limit = {
			has_idea = scraping_the_barrel
		}
		has_idea = scraping_the_barrel
	}
	else = {
		always = no
	}
}
