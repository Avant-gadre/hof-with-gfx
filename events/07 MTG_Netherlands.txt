add_namespace = mtg_netherlands
# Netherlands asks Germany for battlecruiser tech
country_event = {
	id = mtg_netherlands.7
	title = mtg_netherlands.7.t
	desc = mtg_netherlands.7.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.7.a
		FROM = { country_event = { id = mtg_netherlands.8 days = 1 random_days = 3 } }
		effect_tooltip = {
			HOL = {
				set_technology = {
					basic_ship_hull_heavy = 1
					antiair2 = 1
					improved_fire_control_system = 1
					improved_dp_light_battery = 1
				}
				create_equipment_variant = {
					name = "Design 1047 Battlecruiser"
					type = ship_hull_heavy_2
					parent_version = 0
					allow_without_tech = yes #Makes no difference since event grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = dp_ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_bb_1
						front_1_custom_slot = ship_heavy_battery_1
						mid_1_custom_slot = ship_anti_air_2
						mid_2_custom_slot = dp_ship_secondaries_2
						rear_1_custom_slot = ship_heavy_battery_1
					}
				}
			}
		}
	}

	# No.
	option = {
		name = mtg_netherlands.7.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = mtg_netherlands.9 days = 1 random_days = 3 } }
	}
}

# Germany shares Battlecruiser tech
country_event = {
	id = mtg_netherlands.8
	title = mtg_netherlands.8.t
	desc = mtg_netherlands.8.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.8.a
		set_technology = {
			basic_ship_hull_heavy = 1
			antiair2 = 1
			improved_fire_control_system = 1
			improved_dp_light_battery = 1
		}
		create_equipment_variant = {
			name = "Design 1047 Battlecruiser"
			type = ship_hull_heavy_2
			parent_version = 0
			allow_without_tech = yes #Makes no difference since event grants appropriate tech (above), but it improves tooltip
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_1
				fixed_ship_anti_air_slot = ship_anti_air_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_2
				fixed_ship_secondaries_slot = dp_ship_secondaries_2
				fixed_ship_armor_slot = ship_armor_bb_1
				front_1_custom_slot = ship_heavy_battery_1
				mid_1_custom_slot = ship_anti_air_2
				mid_2_custom_slot = dp_ship_secondaries_2
				rear_1_custom_slot = ship_heavy_battery_1
			}
		}
	}
}

# Germany refuses to share Battlecruiser tech
country_event = {
	id = mtg_netherlands.9
	title = mtg_netherlands.9.t
	desc = mtg_netherlands.9.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.9.a
	}
}


# Event for FROM asking to exchange intelligence
country_event = {
	id = mtg_netherlands.35
	title = mtg_netherlands.35.t
	desc = mtg_netherlands.35.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.35.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_in_faction_with = SOV
			}
			modifier = {
				factor = 0
				original_tag = GER
				has_government = fascism
				OR = {
					NOT = {
						HOL = { has_completed_focus = HOL_cave_to_the_germans }
					}
					HOL = { has_completed_focus = HOL_the_netherlands_first }
				}
			}
			modifier = {
				factor = 0
				original_tag = GER
				has_government = neutrality
				NOT = {
					HOL = { has_completed_focus = HOL_oranje_boven }
				}
			}
			modifier = {
				factor = 0
				original_tag = ENG
				NOT = { has_government = neutrality }
				HOL = { has_completed_focus = HOL_cave_to_the_germans }
			}
			modifier = {
				factor = 0
				original_tag = ENG
				has_government = neutrality
				NOT = {
					AND = {
						GER = { has_government = fascism }
						HOL = { is_in_faction_with = GER }
					}
				}
			}
			modifier = {
				factor = 0
				original_tag = FRA
				has_government = democratic
				HOL = { has_completed_focus = HOL_cave_to_the_germans }
			}
			modifier = {
				factor = 0
				original_tag = FRA
				HOL = { has_completed_focus = HOL_the_netherlands_first }
			}
			modifier = {
				factor = 0.1
				has_opinion = { target = ENG value < -49 }
			}
			modifier = {
				factor = 0
				has_opinion = { target = ENG value < -99 }
			}
		}
		add_political_power = -25
		FROM = { country_event = { id = mtg_netherlands.36 hours = 6 } }
		custom_effect_tooltip = mtg_netherlands.35_tt
		if = {
			limit = {
				has_war_with = GER
			}
			add_timed_idea = { idea = HOL_shared_intelligence_hol_ger days = 180 }
		}
		if = {
			limit = {
				has_war_with = FRA
			}
			add_timed_idea = { idea = HOL_shared_intelligence_hol_fra days = 180 }
		}
		if = {
			limit = {
				has_war_with = ENG
			}
			add_timed_idea = { idea = HOL_shared_intelligence_hol_eng days = 180 }
		}
		if = {
			limit = {
				NOT = { has_war_with = GER }
				NOT = { has_war_with = FRA }
				NOT = { has_war_with = ENG }
			}
			custom_effect_tooltip = mtg_netherlands.35_tt_2
			set_country_flag = secret_staff_talks_dutch_intelligence
		}
	}

	# Nope
	option = {
		name = mtg_netherlands.35.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = HOL value > 10 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = HOL value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = HOL value > 50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = HOL value > 75 }
			}
			modifier = {
				factor = 0.1
				has_opinion = { target = HOL value > 99 }
			}
			modifier = {
				factor = 0
				original_tag = GER
				HOL = { has_completed_focus = HOL_cave_to_the_germans }
				ENG = {
					focus_progress = {
						focus = ENG_benelux_intervention
						progress > 0
					}
				}
			}
			modifier = {
				factor = 0
				original_tag = FRA
				has_government = communism
				HOL = { has_completed_focus = HOL_join_the_french }
			}
			modifier = {
				factor = 0
				OR = {
					original_tag = FRA
					original_tag = ENG
				}
				GER = {
					focus_progress = {
						focus = GER_around_maginot
						progress > 0
					}
				}
				NOT = { HOL = { has_completed_focus = HOL_cave_to_the_germans } }
			}
			modifier = {
				factor = 0
				is_in_faction_with = HOL
			}
		}
		FROM = { country_event = { id = mtg_netherlands.37 hours = 6 } }
	}
}

# Event for HOL saying FROM agrees to exchange intelligence
country_event = {
	id = mtg_netherlands.36
	title = mtg_netherlands.36.t
	desc = mtg_netherlands.36.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok!
	option = {
		name = mtg_netherlands.36.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				custom_effect_tooltip = mtg_netherlands.35_tt
			}
		}
		custom_effect_tooltip = mtg_netherlands.35_tt_2
		if = {
			limit = {
				FROM = { tag = ENG }
			}
			set_country_flag = secret_staff_talks_british_intelligence
		}
		if = {
			limit = {
				FROM = { tag = FRA }
			}
			set_country_flag = secret_staff_talks_french_intelligence
		}
		if = {
			limit = {
				FROM = { tag = GER }
			}
			set_country_flag = secret_staff_talks_german_intelligence
		}
	}
}

# Event for HOL saying FROM does not agree to exchange intelligence
country_event = {
	id = mtg_netherlands.37
	title = mtg_netherlands.37.t
	desc = mtg_netherlands.37.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Damnit
	option = {
		name = mtg_netherlands.37.a
	}
}

# EVENTS 38-40 removed!

# Event for FROM asking to share military knowledge
country_event = {
	id = mtg_netherlands.41
	title = mtg_netherlands.41.t
	desc = mtg_netherlands.41.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.41.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_in_faction_with = SOV
			}
			modifier = {
				factor = 0
				original_tag = GER
				has_government = fascism
				OR = {
					NOT = {
						HOL = { has_completed_focus = HOL_cave_to_the_germans }
					}
					HOL = { has_completed_focus = HOL_the_netherlands_first }
				}
			}
			modifier = {
				factor = 0
				original_tag = GER
				has_government = neutrality
				NOT = {
					HOL = { has_completed_focus = HOL_oranje_boven }
				}
			}
			modifier = {
				factor = 0
				original_tag = ENG
				NOT = { has_government = neutrality }
				HOL = { has_completed_focus = HOL_cave_to_the_germans }
			}
			modifier = {
				factor = 0
				original_tag = ENG
				has_government = neutrality
				NOT = {
					AND = {
						GER = { has_government = fascism }
						HOL = { is_in_faction_with = GER }
					}
				}
			}
			modifier = {
				factor = 0
				original_tag = FRA
				has_government = democratic
				HOL = { has_completed_focus = HOL_cave_to_the_germans }
			}
			modifier = {
				factor = 0
				original_tag = FRA
				HOL = { has_completed_focus = HOL_the_netherlands_first }
			}
			modifier = {
				factor = 0.1
				has_opinion = { target = ENG value < -49 }
			}
			modifier = {
				factor = 0
				has_opinion = { target = ENG value < -99 }
			}
		}
		army_experience = -5
		effect_tooltip = {
			FROM = {
				add_doctrine_cost_reduction = {
					name = HOL_secret_staff_talks
					cost_reduction = 0.35
					uses = 1
					category = land_doctrine
				}
			}
		}
		FROM = { country_event = { id = mtg_netherlands.42 hours = 6 } }
	}

	# Nope
	option = {
		name = mtg_netherlands.41.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = HOL value > 10 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = HOL value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = HOL value > 50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = HOL value > 75 }
			}
			modifier = {
				factor = 0.1
				has_opinion = { target = HOL value > 99 }
			}
			modifier = {
				factor = 0
				original_tag = GER
				HOL = { has_completed_focus = HOL_cave_to_the_germans }
				ENG = {
					focus_progress = {
						focus = ENG_benelux_intervention
						progress > 0
					}
				}
			}
			modifier = {
				factor = 0
				original_tag = FRA
				has_government = communism
				HOL = { has_completed_focus = HOL_join_the_french }
			}
			modifier = {
				factor = 0
				OR = {
					original_tag = FRA
					original_tag = ENG
				}
				GER = {
					focus_progress = {
						focus = GER_around_maginot
						progress > 0
					}
				}
				NOT = { HOL = { has_completed_focus = HOL_cave_to_the_germans } }
			}
			modifier = {
				factor = 0
				is_in_faction_with = HOL
			}
		}
		FROM = { country_event = { id = mtg_netherlands.43 hours = 6 } }
	}
}

# Event for HOL saying FROM agrees to share military knowledge
country_event = {
	id = mtg_netherlands.42
	title = mtg_netherlands.42.t
	desc = mtg_netherlands.42.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok!
	option = {
		name = mtg_netherlands.42.a
		effect_tooltip = {
			FROM = { army_experience = -5 }
		}
		add_doctrine_cost_reduction = {
			name = HOL_secret_staff_talks
			cost_reduction = 0.35
			uses = 1
			category = land_doctrine
		}
	}
}

# Event for HOL saying FROM does not agree to share military knowledge
country_event = {
	id = mtg_netherlands.43
	title = mtg_netherlands.43.t
	desc = mtg_netherlands.43.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	# Damnit
	option = {
		name = mtg_netherlands.43.a
	}
}

### Prince Bernhard Shenanigans ###

# Prince Bernhard generator event
country_event = {
	id = mtg_netherlands.44

	is_triggered_only = yes

	trigger = {
		NOT = { has_government = communism }
		is_ai = no
	}
	
	hidden = yes

	immediate = {
		random_list = {
			10 = { # Minor Scandal
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.45 }
			}
			15 = { # Dashing Public Impression
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.46 }
			}
			15 = { # Good Example Air Forces
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.47 }
			}
			10 = { # Bad Example Air Forces
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.48 }
			}
			15 = { # Good Strategy Meddling
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.49 }
			}
			10 = { # Bad Strategy Meddling
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.50 }
			}
			10 = { # Goes to gather intelligence
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.51 }
			}
			10 = { # Goes to organize resistance
				modifier = {
					factor = 0
					has_war = no
				}
				country_event = { id = mtg_netherlands.54 }
			}
			5 = { # Diplomatic Row
				modifier = {
					factor = 0
					NOT = { has_idea = HOL_prince_bernhard }
				}
				modifier = {
					factor = 0
					has_war = no
				}

				modifier = {
					factor = 0.2
					has_capitulated = no
				}
				country_event = { id = mtg_netherlands.57 }
			}
			10 = {
				modifier = {
					factor = 0
					has_war = yes
				}
				country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
			}
		}
	}
}

# Prince Bernhard involved in minor scandal
country_event = {
	id = mtg_netherlands.45
	title = mtg_netherlands.45.t
	desc = mtg_netherlands.45.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.45.a
		add_political_power = -25
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard makes dashing public impression
country_event = {
	id = mtg_netherlands.46
	title = mtg_netherlands.46.t
	desc = mtg_netherlands.46.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.46.a
		add_political_power = 25
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard sets good example for air forces
country_event = {
	id = mtg_netherlands.47
	title = mtg_netherlands.47.t
	desc = mtg_netherlands.47.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.47.a
		add_timed_idea = { idea = HOL_bernhard_good_air_example days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard sets bad example for air forces
country_event = {
	id = mtg_netherlands.48
	title = mtg_netherlands.48.t
	desc = mtg_netherlands.48.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.48.a
		add_timed_idea = { idea = HOL_bernhard_bad_air_example days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}

	# Handle the situation
	option = {
		name = mtg_netherlands.48.b
		add_political_power = -50
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard gives good input on strategy
country_event = {
	id = mtg_netherlands.49
	title = mtg_netherlands.49.t
	desc = mtg_netherlands.49.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.49.a
		add_timed_idea = { idea = HOL_bernhard_good_strategy_meddling days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard gives bad input on strategy
country_event = {
	id = mtg_netherlands.50
	title = mtg_netherlands.50.t
	desc = mtg_netherlands.50.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.50.a
		add_timed_idea = { idea = HOL_bernhard_bad_strategy_meddling days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}

	# Handle the situation
	option = {
		name = mtg_netherlands.50.b
		add_political_power = -25
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard goes to gather intelligence
country_event = {
	id = mtg_netherlands.51
	title = mtg_netherlands.51.t
	desc = mtg_netherlands.51.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.51.a
		hidden_effect = {
			random_list = {
				15 = { country_event = { id = mtg_netherlands.52 days = 7 random_days = 7 } }
				10 = { country_event = { id = mtg_netherlands.53 days = 7 random_days = 7 } }
			}
		}
	}

	# stop him
	option = {
		name = mtg_netherlands.51.b
		add_political_power = -50
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard gathers good intelligence
country_event = {
	id = mtg_netherlands.52
	title = mtg_netherlands.52.t
	desc = mtg_netherlands.52.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.52.a
		add_timed_idea = { idea = HOL_bernhard_good_intelligence days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard gathers bad intelligence
country_event = {
	id = mtg_netherlands.53
	title = mtg_netherlands.53.t
	desc = mtg_netherlands.53.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.53.a
		add_timed_idea = { idea = HOL_bernhard_bad_intelligence days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard goes to organize resistance
country_event = {
	id = mtg_netherlands.54
	title = mtg_netherlands.54.t
	desc = mtg_netherlands.54.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.54.a
		hidden_effect = {
			random_list = {
				15 = { country_event = { id = mtg_netherlands.55 days = 7 random_days = 7 } }
				10 = { country_event = { id = mtg_netherlands.56 days = 7 random_days = 7 } }
			}
		}
	}

	# No way
	option = {
		name = mtg_netherlands.54.b
		add_political_power = -50
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard successfully organizes resistance
country_event = {
	id = mtg_netherlands.55
	title = mtg_netherlands.55.t
	desc = mtg_netherlands.55.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.55.a
		add_timed_idea = { idea = HOL_bernhard_organized_resistance days = 30 }
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard is wounded organizing resistance
country_event = {
	id = mtg_netherlands.56
	title = mtg_netherlands.56.t
	desc = mtg_netherlands.56.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.56.a
		random_unit_leader = {
			limit = {
				has_id = 982
			}
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 90
			}
		}
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Prince Bernhard causes diplomatic row generator event
country_event = {
	id = mtg_netherlands.57
	hidden = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					NOT = { is_in_faction_with = ROOT }
					NOT = { has_war_with = ROOT }
					NOT = {
						any_country = {
							has_war_with = PREV
							has_war_with = ROOT
						}
					}
					is_major = no
					any_owned_state = {
						OR = {
							is_coastal = yes
							any_neighbor_state = {
								is_fully_controlled_by = HOL
							}
						}
					}
				}
				save_event_target_as = HOL_bernhard_row_target
			}
			country_event = { id = mtg_netherlands.58 }
		}
	}
}

# Prince Bernhard causes diplomatic row
country_event = {
	id = mtg_netherlands.58
	title = mtg_netherlands.58.t
	desc = mtg_netherlands.58.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.58.a
		event_target:HOL_bernhard_row_target = {
			country_event = { id = mtg_netherlands.59 }
			set_country_flag = { flag = HOL_bernhard_row_target value = 1 days = 60 }
		}
		hidden_effect = {
			country_event = { id = mtg_netherlands.44 days = 60 random_days = 60 }
		}
	}
}

# Notification event of diplomatic row
country_event = {
	id = mtg_netherlands.59
	title = mtg_netherlands.59.t
	desc = mtg_netherlands.59.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.59.a
	}
}

# Notification event of escalation of diplomatic row
country_event = {
	id = mtg_netherlands.60
	title = mtg_netherlands.60.t
	desc = mtg_netherlands.60.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Let 'em come
	option = {
		name = mtg_netherlands.60.a
		ai_chance = { factor = 9 }
		FROM = {
			country_event = { id = mtg_netherlands.61 days = 1 random_days = 3 }
			effect_tooltip = {
				create_wargoal = {
				    type = puppet_wargoal_focus
				    target = ROOT
				}
			}
		}
	}

	# Invest heavily in soothing relations
	option = {
		name = mtg_netherlands.60.b
		ai_chance = { factor = 1 }
		add_political_power = -100
		FROM = { country_event = { id = mtg_netherlands.62 days = 1 random_days = 3 } }
	}
}

# Event for HOL saying FROM is not backing down
country_event = {
	id = mtg_netherlands.61
	title = mtg_netherlands.61.t
	desc = mtg_netherlands.61.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.61.a
		create_wargoal = {
		    type = puppet_wargoal_focus
		    target = FROM
		}
	}
}

# Event for HOL saying FROM soothed tensions
country_event = {
	id = mtg_netherlands.62
	title = mtg_netherlands.62.t
	desc = mtg_netherlands.62.d
	picture = GFX_report_event_hol_prins_bernhard

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.62.a
	}
}

# Event for HOL notifying of evacuation of gold reserves
country_event = {
	id = mtg_netherlands.63
	title = mtg_netherlands.63.t
	desc = mtg_netherlands.63.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.63.a
		remove_ideas = HOL_preparing_evacuation_of_gold_reserves
		add_legitimacy = 20
		add_political_power = 100
	}
}

# Zuiderzee event for HOL offering infrastructure build speed
country_event = {
	id = mtg_netherlands.64
	title = mtg_netherlands.64.t
	desc = mtg_netherlands.64.d
	picture = GFX_report_event_hol_polderen

	fire_only_once = yes
	
	trigger = {
		original_tag = HOL
		NOT = { has_completed_focus = HOL_the_zuiderzee_works }
		focus_progress = {
			focus = HOL_the_zuiderzee_works
			progress > 0.33
		}
	}

	mean_time_to_happen = {
		days = 2
	}
	
	# We will invest
	option = {
		name = mtg_netherlands.64.a
		ai_chance = {
			factor = 0
		}
		add_political_power = -50
		add_timed_idea = { idea = HOL_zuiderzee_infrastructure_advancements days = 365 }
	}

	# We will not
	option = {
		name = mtg_netherlands.64.b
	}
}

# Zuiderzee event for HOL offering factory build speed
country_event = {
	id = mtg_netherlands.65
	title = mtg_netherlands.65.t
	desc = mtg_netherlands.65.d
	picture = GFX_report_event_hol_polderen

	fire_only_once = yes
	
	trigger = {
		original_tag = HOL
		NOT = { has_completed_focus = HOL_the_zuiderzee_works }
		focus_progress = {
			focus = HOL_the_zuiderzee_works
			progress > 0.67
		}
	}

	mean_time_to_happen = {
		days = 2
	}
	
	# We will invest
	option = {
		name = mtg_netherlands.64.a
		add_political_power = -50
		add_timed_idea = { idea = HOL_zuiderzee_industrial_advancements days = 365 }
	}

	# We will not
	option = {
		name = mtg_netherlands.64.b
		ai_chance = {
			factor = 0
		}
	}
}

# Gateway to Europe notification event of ENG taking the lead
country_event = {
	id = mtg_netherlands.66
	title = mtg_netherlands.66.t
	desc = {
		text = mtg_netherlands.66.d.a
		trigger = {
			original_tag = HOL
		}
	}
	desc = {
		text = mtg_netherlands.66.d.b
		trigger = {
			original_tag = GER
		}
	}
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_netherlands.66.a
		trigger = {
			original_tag = HOL
		}
	}

	# Ok
	option = {
		name = mtg_netherlands.66.b
		trigger = {
			original_tag = GER
		}
	}
}


# Hidden event removing Shell-shocked spectator spirit
country_event = {
	id = mtg_netherlands.68

	hidden = yes

	fire_only_once = yes
	
	trigger = {
		original_tag = HOL
		OR = {
			has_idea = HOL_shell_shocked_spectator_1
			has_idea = HOL_shell_shocked_spectator_2
			has_idea = HOL_shell_shocked_spectator_3
			has_idea = HOL_shell_shocked_spectator_4
			has_idea = HOL_shell_shocked_spectator_5
			has_idea = HOL_aloof_neutrality
		}
		has_defensive_war = yes
	}

	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		if = {
			limit = {
				OR = {
					has_idea = HOL_shell_shocked_spectator_1
					has_idea = HOL_shell_shocked_spectator_2
					has_idea = HOL_shell_shocked_spectator_3
					has_idea = HOL_shell_shocked_spectator_4
					has_idea = HOL_shell_shocked_spectator_5
				}
			}
			hidden_effect = {
				remove_ideas = HOL_shell_shocked_spectator_1
				remove_ideas = HOL_shell_shocked_spectator_2
				remove_ideas = HOL_shell_shocked_spectator_3
				remove_ideas = HOL_shell_shocked_spectator_4
				remove_ideas = HOL_shell_shocked_spectator_5
			}
		}
		if = {
			limit = {
				has_idea = HOL_aloof_neutrality
			}
			hidden_effect = {
				remove_ideas = HOL_aloof_neutrality
			}
		}
	}
}

# Event complaining about unneeded flooding
country_event = {
	id = mtg_netherlands.69
	title = mtg_netherlands.69.t
	desc = mtg_netherlands.69.d
	picture = GFX_report_event_hol_polderen

	fire_only_once = no
	
	trigger = {
		has_global_flag = HOL_inundation_lines_flooded
		has_full_control_of_state = 7
		has_full_control_of_state = 35
		has_full_control_of_state = 36
		NOT = { has_global_flag = HOL_inundation_lines_flooded_unhappiness_timer }
		NOT = { has_country_flag = HOL_draining_in_progress }
	}

	mean_time_to_happen = {
		days = 60
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					check_variable = {
						var = HOL_inundation_lines_flooding_unhappiness_var
						value = -0.05
						compare = less_than_or_equals
					}
				}
				add_to_variable = {
					var = HOL_inundation_lines_flooding_unhappiness_var
					value = -0.025
				}
			}
			if = {
				limit = {
					check_variable = {
						var = HOL_inundation_lines_flooding_unhappiness_var
						value = -0.05
						compare = greater_than
					}
				}
				set_variable = {
					var = HOL_inundation_lines_flooding_unhappiness_var
					value = -0.05
				}
			}
		}
	}
	
	# They have to suck it up!
	option = {
		name = mtg_netherlands.69.a
		ai_chance = {
			factor = 0
		}
		add_political_power = -25
		if = {
			limit = {
				7 = { is_core_of = ROOT }
				35 = { is_core_of = ROOT }
				36 = { is_core_of = ROOT }
			}
			add_war_support = HOL_inundation_lines_flooding_unhappiness_var
		}
		if = {
			limit = {
				NOT = {
					AND = {
						7 = { is_core_of = ROOT }
						35 = { is_core_of = ROOT }
						36 = { is_core_of = ROOT }
					}
				}
			}
			7 = {
				damage_building = {
				    type = infrastructure
				    damage = 4
				}
				damage_building = {
				    type = industrial_complex
				    damage = 2
				}
				damage_building = {
				    type = arms_factory
				    damage = 2
				}
			}
			35 = {
				damage_building = {
				    type = infrastructure
				    damage = 3
				}
				damage_building = {
				    type = industrial_complex
				    damage = 1.5
				}
				damage_building = {
				    type = arms_factory
				    damage = 1.5
				}
			}
			36 = {
				damage_building = {
				    type = infrastructure
				    damage = 3
				}
				damage_building = {
				    type = industrial_complex
				    damage = 1.5
				}
				damage_building = {
				    type = arms_factory
				    damage = 1.5
				}
			}
		}
	}

	# Drain the land
	option = {
		name = mtg_netherlands.69.b
		add_political_power = -25
		activate_decision = HOL_drain_the_water_lines
	}
}
