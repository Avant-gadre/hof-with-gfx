add_namespace = sweden_event
# Norway_Denmark Annex
country_event = {
	id = sweden_event.1
	title = sweden_event.1.t
	desc = sweden_event.1.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.1.a
		if = {
			limit = {
				FROM = {
					tag = DEN
				}
			}
			create_corps_commander = {
				name = "Hans Christian Andersen"
				picture = "Portrait_Hans_Christian_Andersen.png"
				traits = {
					politically_connected
					inflexible_strategist
					trickster
					trait_engineer
				}
				skill = 5
				attack_skill = 2
				defense_skill = 3
				planning_skill = 5
				logistics_skill = 5
			}
		}
		if = {
			limit = {
				FROM = {
					tag = NOR
				}
			}
			create_field_marshal = {
				name = "Eiríkr Haraldsson"
				picture = "Portrait_Eric.png"
				traits = {
					politically_connected
					inspirational_leader
					politically_connected
					harsh_leader
					adaptable
					trait_reckless
				}
				skill = 5
				attack_skill = 4
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 3
			}
		}
		if = {
			limit = {
				FROM = {
					tag = FIN
				}
				has_government = democratic
			}
			create_corps_commander = {
				name = "Luviagelita Edefelt"
				picture = "Portrait_Luviagelita_Edefelt.png"
				traits = {
					organizer
					politically_connected
					organisational_leader
					inspirational_leader
					politically_connected
					expert_delegator
					adaptable
					brilliant_strategist
					thorough_planner
				}
				skill = 5
				attack_skill = 4
				defense_skill = 4
				planning_skill = 6
				logistics_skill = 4
			}
		}
		annex_country = {
			target = FROM
			transfer_troops = yes
		}
	}
}

# Norway Denmark Rejects
country_event = {
	id = sweden_event.2
	title = sweden_event.2.t
	desc = sweden_event.2.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.2.a
		create_wargoal = {
			type = take_state_focus
			target = FROM
			expire = 0
		}
	}
	option = {
		name = sweden_event.2.b
		ai_chance = {
			base = 0
		}
	}
}

# Norway/Denmark Receives Ultimatum
country_event = {
	id = sweden_event.3
	title = sweden_event.3.t
	desc = sweden_event.3.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		# Ja
		name = sweden_event.3.a
		ai_chance = {
			base = 10
			modifier = {
				FROM = {
					has_government = fascism
				}
				ROOT = {
					has_government = democratic
				}
				factor = 0
			}
		}
		SWE = {
			country_event = {
				days = 1
				id = sweden_event.1
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = {
		# Nein
		name = sweden_event.3.b
		ai_chance = {
			base = 0
			modifier = {
				FROM = {
					has_government = fascism
				}
				ROOT = {
					has_government = democratic
				}
				add = 10
			}
		}
		SWE = {
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = ROOT
				}
			}
			country_event = {
				days = 1
				id = sweden_event.2
			}
		}
	}
}

# Non-agression-pact with Sweden
country_event = {
	id = sweden_event.4
	title = sweden_event.4.t
	desc = sweden_event.4.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		# Sounds Good
		name = sweden_event.4.a
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SWE_non_agression_pact
		}
		# pact
		if = {
			limit = {
				ROOT = {
					tag = SOV
				}
			}
			FIN = {
				add_opinion_modifier = {
					target = ROOT
					modifier = fin_non_agression_pact
				}
			}
		}
		FROM = {
			country_event = {
				id = sweden_event.8
			}
		}
	}
	option = {
		# No
		name = sweden_event.4.b
		ai_chance = {
			base = 0
		}
		FROM = {
			country_event = {
				id = sweden_event.9
			}
		}
	}
}

add_namespace = sweden_event
# Swedish-German Treaty
country_event = {
	id = sweden_event.5
	title = sweden_event.5.t
	desc = sweden_event.5.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		name = sweden_event.5.a		#sounds good
		SWE = {
			country_event = {
				days = 1
				id = sweden_event.6
			}
		}
		# REVISIT Balance research bonus, also in event below
		add_tech_bonus = {
			name = SWE_german_technology
			bonus = 1
			uses = 1
			technology = tech_mountaineers2
		}
		add_doctrine_cost_reduction = {
			name = SWE_german_technology
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	option = {
		name = sweden_event.5.b		#no way 
		ai_chance = {
			base = 0
		}
		add_political_power = -10
		SWE = {
			country_event = {
				days = 1
				id = sweden_event.7
			}
		}
	}
}

# Germans Accept Swedish-German Treaty
country_event = {
	id = sweden_event.6
	title = sweden_event.6.t
	desc = sweden_event.6.d
	picture = GFX_report_event_physics_lab_01
	is_triggered_only = yes
	option = {
		name = sweden_event.6.a
		# REVISIT Balance research bonus
		add_tech_bonus = {
			name = synth_bonus
			bonus = 2
			ahead_reduction = 1
			uses = 2
			category = synth_resources
		}
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1
			ahead_reduction = 1
			uses = 2
			category = armor
		}
		SWE = {
			add_opinion_modifier = {
				target = GER
				modifier = ger_ita_tech_treaty
			}
		}
	}
}

# Germans Reject Swedish-German Treaty
country_event = {
	id = sweden_event.7
	title = sweden_event.7.t
	desc = sweden_event.7.d
	picture = GFX_report_event_physics_lab_01
	is_triggered_only = yes
	option = {
		name = sweden_event.7.a
		SWE = {
			add_opinion_modifier = {
				target = GER
				modifier = ger_ita_tech_treaty_rejected
			}
		}
	}
}

# Non-agression-pact with Sweden
country_event = {
	id = sweden_event.8
	title = sweden_event.8.t
	desc = sweden_event.8.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		# Sounds Good
		name = sweden_event.8.a
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SWE_non_agression_pact
		}
		# pact
		if = {
			limit = {
				FROM = {
					tag = SOV
				}
			}
			FIN = {
				add_opinion_modifier = {
					target = ROOT
					modifier = fin_non_agression_pact
				}
				# pact 
			}
		}
	}
}

# Non-agression-pact with Sweden Rejected
country_event = {
	id = sweden_event.9
	title = sweden_event.9.t
	desc = sweden_event.9.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		# Stupid
		name = sweden_event.9.a
		add_opinion_modifier = {
			target = FROM
			modifier = SWE_non_agression_pact_rejected
		}
		# pact
	}
}

# Fate of Finland
country_event = {
	id = sweden_event.10
	title = sweden_event.10.t
	desc = sweden_event.10.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.10.a
		FIN = {
			country_event = {
				id = sweden_event.12
				hours = 12
			}
		}
	}
	option = {
		name = sweden_event.10.b
		ai_chance = {
			base = 0
		}
		SWE = {
			country_event = {
				id = sweden_event.11
				hours = 12
			}
		}
	}
}

# Fate of Finland Rejected
country_event = {
	id = sweden_event.11
	title = sweden_event.11.t
	desc = sweden_event.11.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.11.a
		add_opinion_modifier = {
			target = FROM
			modifier = SWE_fate_of_finland_rejected
		}
	}
}

# Fate of Finland for Finland
country_event = {
	id = sweden_event.12
	title = sweden_event.12.t
	desc = sweden_event.12.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.12.a		# Yields
		SWE = {
			country_event = {
				id = sweden_event.13
				hours = 12
			}
		}
		ai_chance = {
			base = 80
		}
	}
	option = {
		name = sweden_event.12.b		# Resists
		SWE = {
			country_event = {
				id = sweden_event.14
				hours = 12
			}
		}
		ai_chance = {
			base = 20
			modifier = {
				any_other_country = {
					is_major = yes
					NOT = {
						tag = SOV
					}
					NOT = {
						tag = SWE
					}
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
				factor = 120
			}
		}
	}
}

# Finland Yields
country_event = {
	id = sweden_event.13
	title = sweden_event.13.t
	desc = sweden_event.13.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.13.a
		puppet = FIN
		SOV = {
			transfer_state = 146
			transfer_state = 864
			transfer_state = 840
			transfer_state = 722
		}
	}
}

# Finland Resists
country_event = {
	id = sweden_event.14
	title = sweden_event.14.t
	desc = sweden_event.14.d
	picture = GFX_report_event_generic_luviagelita_edelfelt
	is_triggered_only = yes
	option = {
		name = sweden_event.14.a
		create_wargoal = {
			target = FIN
			type = puppet_wargoal_focus
		}
		SOV = {
			create_wargoal = {
				target = FIN
				type = take_state_focus
				generator = {
					146
					147
					150
					722
				}
				expire = 0
			}
		}
	}
}

# Demand Danzig - Poland
country_event = {
	id = sweden_event.15
	title = sweden_event.15.t
	desc = sweden_event.15.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	immediate = {
		add_opinion_modifier = {
			target = FROM
			modifier = SWE_demand_danzig
		}
	}
	option = {
		name = sweden_event.15.a		# Yields
		SWE = {
			country_event = {
				id = sweden_event.16
				hours = 12
			}
		}
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				is_major = yes
			}
		}
	}
	option = {
		name = sweden_event.15.b		# Resists
		SWE = {
			country_event = {
				id = sweden_event.17
				hours = 12
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 120
				any_other_country = {
					is_major = yes
					NOT = {
						tag = SWE
					}
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			modifier = {
				SWE = {
					has_army_size = {
						size > 75
					}
				}
				factor = 0.25
			}
		}
	}
}

# Poland Yields Danzig
country_event = {
	id = sweden_event.16
	title = sweden_event.16.t
	desc = sweden_event.16.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		name = sweden_event.16.a
		transfer_state = 776
	}
}

# Poland Resists
country_event = {
	id = sweden_event.17
	title = sweden_event.17.t
	desc = sweden_event.17.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		name = sweden_event.17.a
		create_wargoal = {
			target = FROM
			type = take_state_focus
			generator = {
				85
			}
			expire = 0
		}
	}
}

# Choose a King
country_event = {
	id = sweden_event.18
	title = sweden_event.18.t
	desc = sweden_event.18.d
	picture = GFX_report_event_generic_eric
	is_triggered_only = yes
	option = {
		name = sweden_event.18.a
		create_country_leader = {
			name = "Eiríkr Haraldsson"
			picture = "Portrait_Eric.png"
		
			ideology = absolute_monarchy
			traits = {
				Bloodaxe
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}
	option = {
		name = sweden_event.18.b
		create_country_leader = {
			name = "Beowulf"
			picture = "Portrait_Beowulf.png"
		
			ideology = absolute_monarchy
			traits = {
				Grendel_Buster
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}
}

# Choose a Leader
country_event = {
	id = sweden_event.19
	title = sweden_event.19.t
	desc = sweden_event.19.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.19.a
		add_country_leader_role = {
			character = SWE_brynhildr
			promote_leader = yes
			country_leader = {
				ideology = valkist
	
				traits = {
					Brynhildr_Romantia
				}
			}
		}
		hidden_effect = {
			promote_character = SWE_brynhildr
		}
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
	}
	option = {
		name = sweden_event.19.b
		add_country_leader_role = {
			character = SWE_sigurd
			promote_leader = yes
			country_leader = {
				ideology = valkist
	
				traits = {
					Bolverk_Gram
				}
			}
		}
		hidden_effect = {
			promote_character = SWE_sigurd
		}
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
	}
}

# Demand Holsten (Germany)
country_event = {
	id = sweden_event.20
	title = sweden_event.20.t
	desc = sweden_event.20.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	immediate = {
		add_opinion_modifier = {
			target = FROM
			modifier = SWE_demand_danzig
		}
	}
	option = {
		name = sweden_event.20.a		# Yields
		SWE = {
			country_event = {
				id = sweden_event.21
				hours = 12
			}
		}
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				is_major = yes
			}
		}
	}
	option = {
		name = sweden_event.20.b		# Resists
		SWE = {
			country_event = {
				id = sweden_event.22
				hours = 12
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 120
				any_other_country = {
					is_major = yes
					NOT = {
						tag = SWE
					}
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
	}
}

# Germany Yields Holsten
country_event = {
	id = sweden_event.21
	title = sweden_event.21.t
	desc = sweden_event.21.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.21.a
		transfer_state = 58
	}
}

# Germany Resists
country_event = {
	id = sweden_event.22
	title = sweden_event.22.t
	desc = sweden_event.22.d
	picture = GFX_report_event_generic_scandinavia
	is_triggered_only = yes
	option = {
		name = sweden_event.22.a
		create_wargoal = {
			target = FROM
			type = take_state_focus
			generator = {
				58
			}
			expire = 0
		}
	}
}

# Choose a Leader Democratic
country_event = {
	id = sweden_event.23
	title = sweden_event.23.t
	desc = sweden_event.23.d
	picture = GFX_report_event_generic_ophelia
	is_triggered_only = yes
	option = {
		name = sweden_event.23.a
		set_politics = {
			ruling_party = democratic
			elections_allowed = no
		}
		ai_chance = {
			base = 40
		}
	}
	option = {
		name = sweden_event.23.b
		create_country_leader = {
			name = "Ophelia Phamrsolone"
			##desc = "POLITICS_SIGURD_DESC"
			picture = "Portrait_Ophelia_Phamrsolone.png"
		
			ideology = conservatism
			traits = {
				Nordic_Bloodline
				Ich_will_es_niemals_glanzen_sehen
			}
		}
		ai_chance = {
			base = 60
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = no
		}
	}
	option = {
		name = sweden_event.23.c
		trigger = {
			has_completed_focus = SWE_integral_finland
		}
		ai_chance = {
			base = 60
		}
		create_country_leader = {
			name = "Luviagelita Edefelt"
			picture = "gfx/leaders/FIN/Portrait_Luviagelita_Edefelt.png"
		
			ideology = conservatism
			traits = {
				Lady_Forklift
				Despise_Japan
			}
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = no
		}
	}
}

# Puppet Ireland (Ireland)
country_event = {
	id = sweden_event.24
	title = sweden_event.24.t
	desc = sweden_event.24.d
	picture = GFX_report_event_generic_scathach_skadi
	is_triggered_only = yes
	option = {
		name = sweden_event.24.a		# Yields
		SWE = {
			country_event = {
				id = sweden_event.25
				hours = 12
			}
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				OR = {
					is_major = yes
					is_in_faction = yes
				}
			}
		}
	}
	option = {
		name = sweden_event.24.b		# Resists
		SWE = {
			country_event = {
				id = sweden_event.26
				hours = 12
			}
		}
		effect_tooltip = {
			FROM = {
				puppet = ROOT
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 120
				any_other_country = {
					is_major = yes
					NOT = {
						tag = SWE
					}
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
	}
}

# Ireland Yields
country_event = {
	id = sweden_event.25
	title = sweden_event.25.t
	desc = sweden_event.25.d
	picture = GFX_report_event_generic_scathach_skadi
	is_triggered_only = yes
	option = {
		name = sweden_event.25.a
		puppet = IRE
	}
}

# Ireland Resists
country_event = {
	id = sweden_event.26
	title = sweden_event.26.t
	desc = sweden_event.26.d
	picture = GFX_report_event_generic_scathach_skadi
	is_triggered_only = yes
	option = {
		name = sweden_event.26.a
		create_wargoal = {
			target = FROM
			type = puppet_wargoal_focus
			expire = 0
		}
	}
	option = {
		name = sweden_event.26.b
	}
}

# Take over Denmark
country_event = {
	id = sweden_event.27
	title = sweden_event.27.t
	desc = sweden_event.27.d
	picture = GFX_report_event_generic_scathach_skadi
	fire_only_once = yes
	trigger = {
		tag = SWE
		is_subject = no
		OR = {
			DEN = {
				exists = no
			}
			DEN = {
				is_subject_of = GER
			}
			GER = {
				has_full_control_of_state = 99
				has_full_control_of_state = 37
			}
		}
		OR = {
			NOT = {
				owns_state = 100
			}
			NOT = {
				owns_state = 101
			}
			NOT = {
				owns_state = 337
			}
		}
		GER = {
			has_completed_focus = GER_Control_Skagerrak_strait
			has_full_control_of_state = 99
		}
	}
	mean_time_to_happen = {
		days = 3
	}
	option = {
		name = sweden_event.27.a
		ai_chance = {
			base = 100
		}
		add_political_power = -50
		transfer_state = 100
		transfer_state = 101
		transfer_state = 337
	}
	option = {
		name = sweden_event.26.b
	}
}
