###########################
# Soviet Events
###########################
add_namespace = soviet
# Border Skirmish with the Japanese
country_event = {
	id = soviet.1
	title = soviet.1.t
	desc = soviet.1.d
	picture = GFX_report_event_japanese_transport_soldiers
	is_triggered_only = yes
	option = {
		# Push back
		name = soviet.1.a
		ai_chance = {
			factor = 75
		}
		add_political_power = -25
		hidden_effect = {
			random_list = {
				60 = {
					JAP = {
						country_event = {
							days = 1
							id = japan.3
						}
					}
				}
				40 = {
					JAP = {
						country_event = {
							days = 1
							id = japan.4
						}
					}
				}
			}
		}
		effect_tooltip = {
			random_list = {
				60 = {
					country_event = soviet.2
				}
				40 = {
					country_event = soviet.3
				}
			}
		}
	}
	option = {
		# Yield
		name = soviet.1.b
		ai_chance = {
			factor = 25
		}
		JAP = {
			effect_tooltip = {
				add_stability = 0.05
			}
			country_event = {
				days = 1
				id = japan.5
			}
		}
	}
}

# Successful Raid
country_event = {
	id = soviet.2
	title = soviet.2.t
	desc = soviet.2.d
	picture = GFX_report_event_dead_soldiers
	is_triggered_only = yes
	option = {
		name = soviet.2.a
		if = {
			limit = {
				561 = {
					is_owned_by = SOV
					any_neighbor_state = {
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN
						}
					}
				}
			}
			561 = {
				add_manpower = -30000
			}
		}
		if = {
			limit = {
				NOT = {
					561 = {
						is_owned_by = SOV
						any_neighbor_state = {
							OR = {
								is_owned_by = JAP
								is_owned_by = MAN
							}
						}
					}
				}
			}
			random_owned_state = {
				limit = {
					any_neighbor_state = {
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN
						}
					}
				}
				add_manpower = -30000
			}
		}
		army_experience = 10
	}
}

# Failed Raid
country_event = {
	id = soviet.3
	title = soviet.3.t
	desc = soviet.3.d
	picture = GFX_report_event_dead_soldiers
	is_triggered_only = yes
	option = {
		if = {
			limit = {
				561 = {
					is_owned_by = SOV
					any_neighbor_state = {
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN
						}
					}
				}
			}
			561 = {
				add_manpower = -20000
			}
		}
		if = {
			limit = {
				NOT = {
					561 = {
						is_owned_by = SOV
						any_neighbor_state = {
							OR = {
								is_owned_by = JAP
								is_owned_by = MAN
							}
						}
					}
				}
			}
			random_owned_state = {
				limit = {
					any_neighbor_state = {
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN
						}
					}
				}
				add_manpower = -20000
			}
		}
		add_political_power = -25
		army_experience = 5
		name = soviet.3.a
	}
}

# Romania surrenders Bessarabia
country_event = {
	id = soviet.4
	title = soviet.4.t
	desc = soviet.4.d
	picture = GFX_report_event_soviet_army_greeted
	is_triggered_only = yes
	option = {
		name = soviet.4.a
		SOV = {
			transfer_state = 78
			transfer_state = 80
			transfer_state = 766
		}
		hidden_effect = {
			SOV = {
				country_event = {
					days = 1
					id = news.10
				}
			}
			news_event = {
				id = news.199
			}
		}
	}
}

# Romania refuses to surrender Bessarabia
country_event = {
	id = soviet.5
	title = soviet.5.t
	desc = soviet.5.d
	picture = GFX_report_event_stalin_02
	is_triggered_only = yes
	option = {
		name = soviet.5.a
		create_wargoal = {
			type = take_state
			target = ROM
			generator = {
				78
			}
		}
		hidden_effect = {
			SOV = {
				country_event = {
					days = 1
					id = news.11
				}
			}
		}
	}
}

# Estonia Surrenders
country_event = {
	id = soviet.6
	title = soviet.6.t
	desc = soviet.6.d
	picture = GFX_report_event_soviet_invasion_map
	is_triggered_only = yes
	option = {
		name = soviet.6.a
		annex_country = {
			target = EST
		}
	}
}

# Estonia Refuses
country_event = {
	id = soviet.7
	title = soviet.7.t
	desc = soviet.7.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	option = {
		name = soviet.7.a
		create_wargoal = {
			type = annex_everything
			target = EST
		}
	}
}

# Latvia Surrenders
country_event = {
	id = soviet.8
	title = soviet.8.t
	desc = soviet.8.d
	picture = GFX_report_event_soviet_tank_parade
	is_triggered_only = yes
	option = {
		name = soviet.8.a
		annex_country = {
			target = LAT
		}
	}
}

# Latvia Refuses
country_event = {
	id = soviet.9
	title = soviet.9.t
	desc = soviet.9.d
	picture = report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = soviet.9.a
		create_wargoal = {
			type = annex_everything
			target = LAT
		}
	}
}

# Lithuania Surrenders
country_event = {
	id = soviet.10
	title = soviet.10.t
	desc = soviet.10.d
	picture = GFX_report_event_soviet_tank_parade
	is_triggered_only = yes
	option = {
		name = soviet.10.a
		annex_country = {
			target = LIT
		}
	}
}

# Lithuania Refuses
country_event = {
	id = soviet.11
	title = soviet.11.t
	desc = soviet.11.d
	picture = report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = soviet.11.a
		create_wargoal = {
			type = annex_everything
			target = LIT
		}
	}
}

# Finland Accepts Demands
country_event = {
	id = soviet.12
	title = soviet.12.t
	desc = soviet.12.d
	picture = GFX_report_event_soviet_finnish_pact
	is_triggered_only = yes
	option = {
		name = soviet.12.a
		SOV = {
			transfer_state = 146
		}
		hidden_effect = {
			SOV = {
				country_event = {
					days = 1
					id = news.13
				}
			}
		}
	}
}

# Finland Refuses Demands
country_event = {
	id = soviet.13
	title = soviet.13.t
	desc = soviet.13.d
	picture = GFX_report_event_soviet_tanks_snow
	is_triggered_only = yes
	option = {
		name = soviet.13.a
		create_wargoal = {
			type = take_state
			target = FIN
			generator = {
				146
			}
		}
		hidden_effect = {
			SOV = {
				country_event = {
					days = 1
					id = news.12
				}
			}
		}
	}
}

# Soviet Union Cedes Land (Japan)
country_event = {
	id = soviet.23
	title = soviet.23.t
	desc = soviet.23.d
	picture = GFX_report_event_soviet_japanese_pact
	is_triggered_only = yes
	option = {
		name = soviet.23.a
		transfer_state = 655
	}
}

# Great Purge - Begins
country_event = {
	id = soviet.24
	title = soviet.24.t
	desc = soviet.24.d
	picture = GFX_report_event_soviet_purge_speech
	is_triggered_only = yes
	option = {
		name = soviet.24.a
	}
}

# Great Purge - Trial of the Anti-Soviet Trotskyist Center
# Great Purge - Secret Trial of the Generals
# Great Purge - FOR!!YEZHOV!!!!
country_event = {
	id = soviet.999
	title = soviet.999.t
	desc = soviet.999.d
	picture = GFX_report_event_soviet_purge_officers_02
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 100
		}
		name = soviet.999.a
		add_political_power = -200
		add_stability = -0.2
		add_war_support = -0.1
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_nikolay_yezhov"
			country_leader = {
				ideology = yezhovism
				traits = {
					Blood_Dwarf
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
}

# Great Purge - Trial of the 21
# Trotsykist Coup
country_event = {
	id = soviet.28
	title = soviet.28.t
	desc = soviet.28.d
	picture = GFX_report_event_soviet_purge_politicians
	fire_only_once = yes
	trigger = {
		always = no
		has_country_flag = SOV_soviet.48_trotsky
		tag = SOV
		NOT = {
			MEX = {
				has_country_leader = {
					name = "Leon Trotsky"
					ruling_only = yes
				}
			}
		}
	}
	mean_time_to_happen = {
		days = 90
	}
	option = {
		name = soviet.28.a
		set_country_flag = counter_purge
		if = {
			limit = {
				has_idea = trotskyite_plot_purged
			}
			remove_ideas = trotskyite_plot_purged
		}
		if = {
			limit = {
				has_idea = trotskyite_plot
			}
			remove_ideas = trotskyite_plot
		}
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_lev_trotsky"
			country_leader = {
				ideology = leninism
				desc = "POLITICS_LEON_TROTSKY_DESC"
				traits = {
					permanent_revolutionary
				}
				expire = "1965.1.1"
			}
			promote_leader = yes
		}
		remove_ideas = mikhail_kalinin
		remove_ideas = ivan_konev
		remove_unit_leader = 408
		remove_ideas = pavel_zhigarev
		remove_ideas = stepan_krasovsky
		remove_ideas = arseniy_golovko
		remove_unit_leader = 409
		remove_ideas = georgy_zhukov
		remove_unit_leader = 410
		remove_ideas = sergey_gorshkov
		remove_unit_leader = 411
		remove_ideas = sergei_rudenko
		remove_ideas = nikita_khrushchev
		remove_ideas = konstantin_rodzaevsky
		add_timed_idea = {
			idea = officers_purged_7
			days = 584
		}
		hidden_effect = {
			country_event = {
				id = soviet.43
				days = 146
			}
		}
		start_civil_war = {
			ideology = neutrality
			size = 0.18
			keep_unit_leaders = {
				401
				402
				407
				410
				406
				405
				403
				407
				404
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				add_country_leader_role = {
					character = "SOV_ivan_konev"
					country_leader = {
						desc = "POLITICS_IVAN_KONEV_DESC"
						ideology = oligarchism
						traits = {
							permanent_revolutionary
						}
						expire = "1965.1.1"
					}
					promote_leader = yes
				}
			}
			news_event = {
				hours = 6
				id = news.221
			}
		}
	}
}

# France national focus -  requests to join commitern
country_event = {
	id = soviet.29
	title = soviet.29.t
	desc = soviet.29.d
	picture = GFX_report_event_stalin_01
	is_triggered_only = yes
	option = {
		name = soviet.29.a
		SOV = {
			add_to_faction = FRA
		}
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "SOV"
				value = 200
			}
		}
		hidden_effect = {
			news_event = {
				hours = 6
				id = news.180
			}
		}
	}
	option = {
		name = soviet.29.b
		ai_chance = {
			factor = 0
		}
		FRA = {
			add_opinion_modifier = {
				target = SOV
				modifier = SOV_FRA_join_comintern_reject
			}
		}
	}
}

# comintern_influence removed due to war with common enemy
country_event = {
	id = soviet.100
	title = soviet.100.t
	desc = soviet.100.d
	picture = GFX_report_event_soviet_soldiers_tank
	trigger = {
		has_idea = comintern_influence
		has_war = yes
		SOV = {
			has_war = yes
		}
		NOT = {
			has_war_with = SOV
		}
		any_enemy_country = {
			has_war_with = SOV
		}
	}
	mean_time_to_happen = {
		days = 30
	}
	option = {
		name = soviet.100.a
		remove_ideas = comintern_influence
	}
}

# Demand Bessarabia
country_event = {
	id = soviet.30
	title = soviet.30.t
	desc = soviet.30.d
	picture = GFX_report_event_stalin_propaganda
	is_triggered_only = yes
	trigger = {
		tag = SOV
		FROM = {
			tag = ROM
		}
		NOT = {
			has_country_flag = bessarabia_demand
		}
		78 = {
			is_claimed_by = SOV
			is_owned_by = ROM
		}
	}
	immediate = {
		set_country_flag = bessarabia_demand
	}
	option = {
		name = soviet.30.a
		ROM = {
			country_event = {
				days = 2
				id = romania.1
			}
		}
	}
	option = {
		name = soviet.30.b
		ai_chance = {
			factor = 0
		}
		#
	}
}

# Demand Karjala
country_event = {
	id = soviet.31
	title = soviet.31.t
	desc = soviet.31.d
	picture = GFX_report_event_stalin_propaganda
	is_triggered_only = yes
	trigger = {
		tag = SOV
		FROM = {
			tag = FIN
		}
		NOT = {
			has_country_flag = karjala_demand
		}
		146 = {
			is_claimed_by = SOV
			is_owned_by = FIN
		}
	}
	immediate = {
		set_country_flag = karjala_demand
	}
	option = {
		name = soviet.31.a
		FIN = {
			country_event = {
				days = 2
				id = finland.1
			}
		}
	}
	option = {
		name = soviet.31.b
		ai_chance = {
			factor = 0
		}
		#
	}
}

# Demand SIK
country_event = {
	id = soviet.1000
	title = soviet.1000.t
	desc = soviet.1000.d
	picture = GFX_report_event_stalin_propaganda
	is_triggered_only = yes
	option = {
		name = soviet.1000.a
		SOV = {
			puppet = SIK
			add_named_threat = {
				threat = 2
				name = soviet.1000.t
			}
		}
	}
	option = {
		name = soviet.1000.b
		ai_chance = {
			factor = 0
		}
	}
}

# Oppress Estonia
country_event = {
	id = soviet.32
	title = soviet.32.t
	desc = soviet.32.d
	picture = GFX_report_event_soviet_in_riga
	is_triggered_only = yes
	trigger = {
		tag = SOV
		FROM = {
			tag = EST
			any_owned_state = {
				is_claimed_by = SOV
			}
		}
		NOT = {
			has_country_flag = estonia_demand
		}
	}
	immediate = {
		set_country_flag = estonia_demand
	}
	option = {
		name = soviet.32.a
		EST = {
			country_event = {
				days = 2
				id = baltic.1
			}
		}
	}
	option = {
		name = soviet.32.b
		ai_chance = {
			factor = 0
		}
		#
	}
}

# Oppress Latvia
country_event = {
	id = soviet.33
	title = soviet.33.t
	desc = soviet.33.d
	picture = GFX_report_event_soviet_in_riga
	is_triggered_only = yes
	trigger = {
		tag = SOV
		FROM = {
			tag = LAT
			any_owned_state = {
				is_claimed_by = SOV
			}
		}
		NOT = {
			has_country_flag = latvia_demand
		}
	}
	immediate = {
		set_country_flag = latvia_demand
	}
	option = {
		name = soviet.33.a
		LAT = {
			country_event = {
				days = 2
				id = baltic.2
			}
		}
	}
	option = {
		name = soviet.33.b
		ai_chance = {
			factor = 0
		}
		#
	}
}

# Oppress Lithuania 
country_event = {
	id = soviet.34
	title = soviet.34.t
	desc = soviet.34.d
	picture = GFX_report_event_soviet_in_riga
	is_triggered_only = yes
	trigger = {
		tag = SOV
		FROM = {
			tag = LIT
			any_owned_state = {
				is_claimed_by = SOV
			}
		}
		NOT = {
			has_country_flag = lithuania_demand
		}
	}
	immediate = {
		set_country_flag = lithuania_demand
	}
	option = {
		name = soviet.34.a
		LIT = {
			country_event = {
				days = 2
				id = baltic.3
			}
		}
	}
	option = {
		name = soviet.34.b
		ai_chance = {
			factor = 0
		}
		#
	}
}

# Communist government in FROM baltic country and they wish to be annexed
country_event = {
	id = soviet.35
	title = soviet.35.t
	desc = soviet.35.d
	picture = GFX_report_event_soviet_in_riga
	is_triggered_only = yes
	option = {
		name = soviet.35.a
		ai_chance = {
			factor = 100
		}
		effect_tooltip = {
			if = {
				limit = {
					FROM = {
						tag = LIT
					}
				}
				SOV = {
					annex_country = {
						target = LIT
						transfer_troops = yes
					}
					add_named_threat = {
						threat = 2
						name = soviet.35_threat_LIT
					}
				}
			}
			if = {
				limit = {
					FROM = {
						tag = FIN
					}
				}
				SOV = {
					annex_country = {
						target = FIN
						transfer_troops = yes
					}
					add_named_threat = {
						threat = 5
						name = soviet.35_threat_FIN
					}
				}
			}
			if = {
				limit = {
					FROM = {
						tag = EST
					}
				}
				SOV = {
					annex_country = {
						target = EST
						transfer_troops = yes
					}
					add_named_threat = {
						threat = 2
						name = soviet.35_threat_EST
					}
				}
			}
			if = {
				limit = {
					FROM = {
						tag = LAT
					}
				}
				SOV = {
					annex_country = {
						target = LAT
						transfer_troops = yes
					}
					add_named_threat = {
						threat = 2
						name = soviet.35_threat_LAT
					}
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = baltic.6
					hours = 6
				}
			}
		}
	}
	option = {
		name = soviet.35.b
		ai_chance = {
			factor = 0
		}
	}
}

# Communist government in FROM baltic country and they wish to be part puppet
country_event = {
	id = soviet.36
	title = soviet.36.t
	desc = soviet.36.d
	picture = GFX_report_event_soviet_in_riga
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			FROM = {
				save_event_target_as = baltic
			}
		}
	}
	option = {
		name = soviet.36.a
		if = {
			limit = {
				FROM = {
					is_puppet = no
				}
			}
			SOV = {
				puppet = FROM
			}
		}
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				FROM = {
					tag = LIT
				}
			}
			add_named_threat = {
				threat = 1
				name = soviet.36_threat_LIT
			}
		}
		if = {
			limit = {
				FROM = {
					tag = FIN
				}
			}
			add_named_threat = {
				threat = 2
				name = soviet.36_threat_FIN
			}
		}
		if = {
			limit = {
				FROM = {
					tag = EST
				}
			}
			add_named_threat = {
				threat = 1
				name = soviet.36_threat_EST
			}
		}
		if = {
			limit = {
				FROM = {
					tag = LAT
				}
			}
			add_named_threat = {
				threat = 1
				name = soviet.36_threat_LAT
			}
		}
		#trigger news event
		hidden_effect = {
			news_event = {
				id = news.70
				days = 1
			}
		}
	}
	option = {
		name = soviet.36.b
		ai_chance = {
			factor = 0
		}
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.37
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged
			add_timed_idea = {
				idea = officers_purged_2
				days = 1314
			}
			country_event = {
				id = soviet.38
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.38
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_2
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_2
			add_timed_idea = {
				idea = officers_purged_3
				days = 1168
			}
			country_event = {
				id = soviet.39
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.39
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_3
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_3
			add_timed_idea = {
				idea = officers_purged_4
				days = 1022
			}
			country_event = {
				id = soviet.40
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.40
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_4
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_4
			add_timed_idea = {
				idea = officers_purged_5
				days = 876
			}
			country_event = {
				id = soviet.41
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.41
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_5
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_5
			add_timed_idea = {
				idea = officers_purged_6
				days = 730
			}
			country_event = {
				id = soviet.42
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.42
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_6
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_6
			add_timed_idea = {
				idea = officers_purged_7
				days = 584
			}
			country_event = {
				id = soviet.43
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.43
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_7
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_7
			add_timed_idea = {
				idea = officers_purged_8
				days = 438
			}
			country_event = {
				id = soviet.44
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.44
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_8
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_8
			add_timed_idea = {
				idea = officers_purged_9
				days = 292
			}
			country_event = {
				id = soviet.45
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

# Purge - New officers less dumb. Regaining org
country_event = {
	id = soviet.45
	title = soviet.37.t
	desc = soviet.37.d
	picture = GFX_report_event_soldiers_marching
	is_triggered_only = yes
	trigger = {
		has_idea = officers_purged_9
	}
	immediate = {
		hidden_effect = {
			remove_ideas = officers_purged_9
			add_timed_idea = {
				idea = officers_purged_10
				days = 146
			}
		}
	}
	option = {
		name = soviet.37.a
		custom_effect_tooltip = soviet.37.a_tt
	}
}

#No purges completed - decide what to do
#No purges massive civil war
country_event = {
	id = soviet.49
	title = soviet.49.t
	desc = soviet.49.d
	picture = GFX_report_event_soviet_tanks
	trigger = {
		tag = SOV
		has_country_flag = SOV_soviet.48_notrotsky
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 10
	}
	option = {
		name = soviet.49.a
		start_civil_war = {
			ideology = neutrality
			size = 0.5
			keep_unit_leaders = {
				401
				402
				407
				410
				406
				405
				403
				407
				408
				410
				411
				404
			}
		}
		hidden_effect = {
			remove_unit_leader = 412			#Remove Andrey Vlasov
			random_other_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				add_country_leader_role = {
					character = "SOV_andrey_vlasov"
					country_leader = {
						ideology = moderatism
						traits = {
						}
						expire = "1965.3.1.1"
					}
					promote_leader = yes
				}
			}
			news_event = {
				hours = 3
				id = news.220
			}
		}
	}
}

#1/4 purges
country_event = {
	id = soviet.50
	title = soviet.50.t
	desc = soviet.50.d
	picture = GFX_report_event_soviet_purge_officers_02
	fire_only_once = yes
	trigger = {
		always = no
		tag = SOV
		has_country_flag = SOV_purged_1
		SOV_nikolay_yezhov = {
			is_country_leader = no
		}
	}
	mean_time_to_happen = {
		days = 90
	}
	option = {
		name = soviet.50.a
		remove_unit_leader = 412		#Remove Andrey Vlasov
		start_civil_war = {
			ideology = neutrality
			size = 0.3
			keep_unit_leaders = {
				401
				402
				407
				410
				406
				405
				403
				407
				408
				410
				411
				404
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				add_country_leader_role = {
					character = "SOV_andrey_vlasov"
					country_leader = {
						ideology = moderatism
						traits = {
						}
						expire = "1965.3.1.1"
					}
					promote_leader = yes
				}
			}
			news_event = {
				hours = 3
				id = news.220
			}
		}
	}
}

#2/4 purges
country_event = {
	id = soviet.51
	title = soviet.51.t
	desc = soviet.51.d
	picture = GFX_report_event_soviet_purge_officers_02
	fire_only_once = yes
	trigger = {
		always = no
		tag = SOV
		has_country_flag = SOV_purged_2
		SOV_nikolay_yezhov = {
			is_country_leader = no
		}
	}
	mean_time_to_happen = {
		days = 90
	}
	option = {
		name = soviet.51.a
		remove_unit_leader = 412		#Remove Andrey Vlasov
		start_civil_war = {
			ideology = neutrality
			size = 0.25
			keep_unit_leaders = {
				401
				402
				407
				410
				406
				405
				403
				407
				408
				410
				411
				404
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				add_country_leader_role = {
					character = "SOV_andrey_vlasov"
					country_leader = {
						ideology = moderatism
						traits = {
						}
						expire = "1965.3.1.1"
					}
					promote_leader = yes
				}
			}
			news_event = {
				hours = 3
				id = news.220
			}
		}
	}
}

#3/4 purges
country_event = {
	id = soviet.52
	title = soviet.52.t
	desc = soviet.52.d
	picture = GFX_report_event_stalin_propaganda
	fire_only_once = yes
	trigger = {
		always = no
		tag = SOV
		has_country_flag = SOV_purged_3
		SOV_nikolay_yezhov = {
			is_country_leader = no
		}
	}
	mean_time_to_happen = {
		days = 90
	}
	option = {
		name = soviet.52.a
		remove_unit_leader = 412		#Remove Andrey Vlasov
		start_civil_war = {
			ideology = neutrality
			size = 0.2
			keep_unit_leaders = {
				401
				402
				407
				410
				406
				405
				403
				407
				408
				410
				411
				404
			}
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = SOV
					has_government = neutrality
				}
				kill_country_leader = yes
				add_country_leader_role = {
					character = "SOV_andrey_vlasov"
					country_leader = {
						ideology = moderatism
						traits = {
						}
						expire = "1965.3.1.1"
					}
					promote_leader = yes
				}
			}
			news_event = {
				hours = 3
				id = news.220
			}
		}
	}
}

#4/4 purges
country_event = {
	id = soviet.53
	title = soviet.53.t
	desc = soviet.53.d
	picture = GFX_report_event_stalin_01
	fire_only_once = yes
	trigger = {
		always = no
		tag = SOV
		has_country_flag = SOV_purged_4
	}
	mean_time_to_happen = {
		days = 2
	}
	option = {
		name = soviet.53.a
		remove_ideas = trotskyite_plot_purged
	}
}

#New Leadership in Russia
# Poland conquered... honor MR Pact?
country_event = {
	id = soviet.60
	title = soviet.60.t
	desc = soviet.60.d
	picture = GFX_report_event_soviet_tanks
	fire_only_once = yes
	trigger = {
		tag = SOV
		has_global_flag = sov_yes_pact
		GER = {
			exists = yes
			is_subject = no
		}
		NOT = {
			has_war_with = GER
		}
		OR = {
			OR = {
				owns_state = 88
				owns_state = 92
				owns_state = 90
				owns_state = 86
				owns_state = 87
				owns_state = 85
				owns_state = 98
				owns_state = 10
			}
			AND = {
				POL = {
					has_capitulated = yes
				}
				OR = {
					controls_state = 88
					controls_state = 92
					controls_state = 90
					controls_state = 86
					controls_state = 87
					controls_state = 85
					controls_state = 98
					controls_state = 10
				}
			}
			OR = {
				any_other_country = {
					is_in_faction_with = SOV
					SOV = {
						is_faction_leader = yes
					}
					OR = {
						owns_state = 88
						owns_state = 92
						owns_state = 90
						owns_state = 86
						owns_state = 87
						owns_state = 85
						owns_state = 98
						owns_state = 10
						AND = {
							POL = {
								has_capitulated = yes
							}
							OR = {
								controls_state = 88
								controls_state = 92
								controls_state = 90
								controls_state = 86
								controls_state = 87
								controls_state = 85
								controls_state = 98
								controls_state = 10
							}
						}
					}
				}
			}
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	option = {
		ai_chance = {
			factor = 1
		}
		name = soviet.60.a
		if = {
			limit = {
				88 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 88
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 88
			}
		}
		if = {
			limit = {
				92 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 92
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 92
			}
		}
		if = {
			limit = {
				90 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 90
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 90
			}
		}
		if = {
			limit = {
				86 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 86
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 86
				add_state_core = 86
			}
		}
		if = {
			limit = {
				87 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 87
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 87
			}
		}
		if = {
			limit = {
				776 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 85
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 776
				add_state_core = 85
			}
		}
		if = {
			limit = {
				98 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 98
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 98
			}
		}
		if = {
			limit = {
				10 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 10
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 10
			}
		}
		if = {
			limit = {
				70 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 70
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 70
			}
		}
		if = {
			limit = {
				664 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 664
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 664
			}
		}
		if = {
			limit = {
				924 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 72
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 924
			}
		}
		if = {
			limit = {
				762 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 762
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			GER = {
				transfer_state = 762
				add_state_core = 762
			}
		}
		GER = {
			country_event = soviet.61
		}
	}
	option = {
		name = soviet.60.b
		ai_chance = {
			factor = 0
		}
		GER = {
			country_event = soviet.62
		}
		clr_global_flag = sov_yes_pact
		diplomatic_relation = {
			country = GER
			relation = non_aggression_pact
			active = no
		}
		GER = {
			add_state_claim = 88
			add_state_claim = 92
			add_state_claim = 90
			add_state_claim = 86
			add_state_claim = 87
			add_state_claim = 85
			add_state_claim = 98
			add_state_claim = 10
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = SOV
				}
			}
		}
	}
}

# Soviet honors MR Pact (Germany)
country_event = {
	id = soviet.61
	title = soviet.61.t
	desc = soviet.61.d
	picture = GFX_report_event_soviet_german_soldier_handshake
	is_triggered_only = yes
	option = {
		name = germany.12.a
		if = {
			limit = {
				GER = {
					controls_state = 85
					controls_state = 86
					controls_state = 87
				}
			}
			hidden_effect = {
				news_event = {
					hours = 6
					id = news.287
				}
			}
		}
	}
}

# Soviet betrays MR Pact (Germany)
country_event = {
	id = soviet.62
	title = soviet.62.t
	desc = soviet.62.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = soviet.62.a
		create_wargoal = {
			type = annex_everything
			target = SOV
		}
	}
}

# SOV becomes just Russia
country_event = {
	id = soviet.63
	trigger = {
		tag = SOV
		country_exists = UKR
		country_exists = BLR
		country_exists = GEO
		country_exists = AZR
		country_exists = ARM
		country_exists = TMS
		country_exists = KAZ
		NOT = {
			has_global_flag = SOV_became_russia
		}
	}
	mean_time_to_happen = {
		days = 2
	}
	hidden = yes
	immediate = {
		set_cosmetic_tag = SOV_russia
		set_global_flag = SOV_became_russia
	}
}

# SOV becomes SOV again
country_event = {
	id = soviet.64
	trigger = {
		tag = SOV
		NOT = {
			country_exists = UKR
		}
		NOT = {
			country_exists = BLR
		}
		NOT = {
			country_exists = GEO
		}
		NOT = {
			country_exists = AZR
		}
		NOT = {
			country_exists = ARM
		}
		NOT = {
			country_exists = TMS
		}
		NOT = {
			country_exists = KAZ
		}
		NOT = {
			any_state = {
				is_core_of = SOV
				NOT = {
					state = 329
				}
				NOT = {
					is_owned_by = SOV
				}
			}
		}
		has_global_flag = SOV_became_russia
	}
	mean_time_to_happen = {
		days = 2
	}
	hidden = yes
	immediate = {
		drop_cosmetic_tag = yes
		clr_global_flag = SOV_became_russia
	}
}

###########################
# GSK Britain Events
###########################
add_namespace = more_soviet
add_namespace = soviet_flavour
add_namespace = more_soviet_dlc
country_event = {
	id = soviet_flavour.1
	title = soviet_flavour.1.t
	desc = soviet_flavour.1.d
	picture = GFX_report_event_soviet_purge_speech
	is_triggered_only = yes
	option = {
		name = soviet_flavour.1.a
		ai_chance = {
			factor = 100
		}
		country_event = {
			id = soviet_flavour.2
			hours = 12
		}
	}
}

country_event = {
	id = soviet_flavour.2
	title = soviet_flavour.2.t
	desc = soviet_flavour.2.d
	picture = GFX_report_event_soviet_purge_speech
	is_triggered_only = yes
	option = {
		name = soviet_flavour.2.a
		hidden_effect = {
			country_event = {
				id = soviet_flavour.3
				days = 35
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = soviet_flavour.3
	title = soviet_flavour.3.t
	desc = soviet_flavour.3.d
	picture = GFX_report_event_rus_labor2
	is_triggered_only = yes
	option = {
		name = soviet_flavour.3.a
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = soviet_flavour.4
	title = soviet_flavour.4.t
	desc = soviet_flavour.4.d
	picture = GFX_report_event_rus_labor2
	trigger = {
		OR = {
			RUS = {
				exists = no
			}
			RUS = {
				is_subject = yes
			}
		}
		OR = {
			has_completed_focus = SOV_Humane_communism
			has_country_flag = SOV_Support_resource_collectivization_flag
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 85
	}
	option = {
		name = soviet_flavour.4.a
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = soviet_flavour.5
	title = soviet_flavour.5.t
	desc = soviet_flavour.5.d
	picture = GFX_report_event_rus_labor2
	trigger = {
		OR = {
			RUS = {
				exists = no
			}
			RUS = {
				is_subject = yes
			}
		}
		OR = {
			has_completed_focus = SOV_expend_NKVD
			has_country_flag = SOV_Support_compulsory_collectivization_flag
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 85
	}
	option = {
		name = soviet_flavour.5.a
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = soviet_flavour.6
	title = soviet_flavour.6.t
	desc = soviet_flavour.6.d
	picture = GFX_report_event_rus_labor2
	trigger = {
		OR = {
			RUS = {
				exists = no
			}
			RUS = {
				is_subject = yes
			}
		}
		OR = {
			has_completed_focus = SOV_Continue_military_control
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 85
	}
	option = {
		name = soviet_flavour.6.a
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = soviet_flavour.7
	title = soviet_flavour.7.t
	desc = soviet_flavour.7.d
	picture = GFX_report_event_generic_read_write
	trigger = {
		tag = SOV
		OR = {
			RUS = {
				exists = no
			}
			RUS = {
				is_subject = yes
			}
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 115
	}
	option = {
		name = soviet_flavour.7.a
		ai_chance = {
			factor = 100
		}
		add_political_power = 25
		hidden_effect = {
			set_country_flag = SOV_linguistics_debate_begin_tt
			country_event = {
				id = soviet_flavour.8
				days = 10
			}
		}
	}
}

country_event = {
	id = soviet_flavour.8
	title = soviet_flavour.8.t
	desc = soviet_flavour.8.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	option = {
		name = soviet_flavour.8.a
		### Stop Stop Stop
		trigger = {
			NOT = {
				has_completed_focus = SOV_bloody_dwarf_is_in_power
			}
		}
		ai_chance = {
			factor = 100
		}
		country_event = {
			id = soviet_flavour.9
			days = 3
		}
	}
	option = {
		name = soviet_flavour.8.b
		### Let's start everything
		trigger = {
			has_completed_focus = SOV_bloody_dwarf_is_in_power
		}
		ai_chance = {
			factor = 100
		}
		country_event = {
			id = soviet_flavour.10
			days = 3
		}
	}
}

country_event = {
	id = soviet_flavour.9
	title = soviet_flavour.9.t
	desc = soviet_flavour.9.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	option = {
		name = soviet_flavour.9.a
		### OK
		ai_chance = {
			factor = 100
		}
		add_political_power = 15
	}
}

country_event = {
	id = soviet_flavour.10
	title = soviet_flavour.10.t
	desc = soviet_flavour.10.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	option = {
		name = soviet_flavour.10.a
		### OK
		ai_chance = {
			factor = 100
		}
		add_political_power = -15
	}
}

country_event = {
	id = soviet_flavour.11
	title = soviet_flavour.11.t
	desc = soviet_flavour.11.d
	picture = GFX_report_event_communists_cheer
	fire_only_once = yes
	mean_time_to_happen = {
		days = 5
	}
	trigger = {
		tag = SOV
		date > 1936.2.1
	}
	option = {
		name = soviet_flavour.11.a
		ai_chance = {
			factor = 100
		}
		add_timed_idea = {
			idea = SOV_Torgsin
			days = 350
		}
	}
}

country_event = {
	id = soviet_flavour.12
	title = soviet_flavour.12.t
	desc = soviet_flavour.12.d
	picture = GFX_report_event_tur_soviets
	fire_only_once = yes
	mean_time_to_happen = {
		days = 7
	}
	trigger = {
		tag = SOV
		has_completed_focus = SOV_Great_Purge_will_fail
	}
	option = {
		name = soviet_flavour.12.a
		ai_chance = {
			factor = 100
		}
		army_experience = 10
		add_political_power = 10
	}
}

country_event = {
	id = more_soviet_dlc.12
	title = more_soviet_dlc.12.t
	desc = more_soviet_dlc.12.d
	picture = GFX_report_event_tur_soviets
	fire_only_once = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		tag = SOV
		date > 1936.12.11
		NOT = {
			has_completed_focus = SOV_Humane_communism
		}
		NOT = {
			has_completed_focus = SOV_Return_of_exile
		}
		NOT = {
			has_country_flag = SOV_Achieving_the_Enver_Plan_flag
		}
	}
	option = {
		name = more_soviet_dlc.12.a
		ai_chance = {
			factor = 100
		}
		add_political_power = -30
	}
}

country_event = {
	id = more_soviet.1
	title = more_soviet.1.t
	desc = more_soviet.1.d
	picture = GFX_report_event_soviet_purge_speech
	is_triggered_only = yes
	option = {
		name = more_soviet.1.a
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	# 
	id = more_soviet.2
	title = more_soviet.2.t
	desc = more_soviet.2.d
	picture = GFX_report_event_soviet_purge_trial
	fire_only_once = yes
	trigger = {
		tag = SOV
		NOT = {
			has_completed_focus = SOV_Great_Purge_will_fail
		}
		focus_progress = {
			focus = SOV_Great_Purge_will_fail
			progress > 0.1
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			country_event = more_soviet_dlc.1
		}
	}
	option = {
		name = more_soviet.2.a
		ai_chance = {
			base = 50
		}
		add_political_power = -100
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = mikhail_kalinin
		set_country_flag = arrest_kalinin
		hidden_effect = {
			remove_ideas = mikhail_kalinin
		}
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = SOV_grigori_zinovyev
		set_country_flag = arrest_zinovyev
		hidden_effect = {
			remove_ideas = SOV_grigori_zinovyev
		}
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = SOV_karl_radek
		set_country_flag = arrest_radek
		hidden_effect = {
			remove_ideas = SOV_karl_radek
		}
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = SOV_lev_kamenev
		set_country_flag = arrest_kamenev
		hidden_effect = {
			remove_ideas = SOV_lev_kamenev
		}
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = SOV_nikola_bukharin
		set_country_flag = arrest_bukharin
		hidden_effect = {
			remove_ideas = SOV_nikola_bukharin
		}
		hidden_effect = {
			country_event = {
				id = more_soviet.3
				days = 3
			}
		}
	}
}

country_event = {
	id = more_soviet_dlc.1
	title = more_soviet_dlc.1.t
	desc = more_soviet_dlc.1.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 100
		}
		name = more_soviet_dlc.1.a
		add_political_power = 1
		hidden_effect = {
			country_event = more_soviet_dlc.2
		}
	}
}

country_event = {
	id = more_soviet_dlc.2
	title = more_soviet_dlc.2.t
	desc = more_soviet_dlc.2.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 100
		}
		name = more_soviet_dlc.2.a
		hidden_effect = {
			country_event = more_soviet_dlc.3
		}
	}
}

country_event = {
	id = more_soviet_dlc.3
	title = more_soviet_dlc.3.t
	desc = more_soviet_dlc.3.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 100
		}
		name = more_soviet_dlc.3.a
		add_political_power = -100
		add_stability = -0.1
		custom_effect_tooltip = SOV_Khrushchev_attacked_tt
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = nikita_khrushchyov
		set_country_flag = arrest_khrushchev
		hidden_effect = {
			remove_ideas = nikita_khrushchyov
		}
	}
}

country_event = {
	id = more_soviet.3
	title = more_soviet.3.t
	desc = more_soviet.3.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet.3.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = BUKHARIN
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TROTSKY
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TUKHACHEVSKI
				}
			}
		}
		add_political_power = -100
		hidden_effect = {
			country_event = {
				id = more_soviet.4
				days = 20
			}
		}
	}
	# No
	option = {
		name = more_soviet.3.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = YEZHOV
				}
			}
		}
		set_country_flag = SOV_Tukhachevski_coup
		hidden_effect = {
			country_event = {
				id = more_soviet.6
				days = 2
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.4
	title = more_soviet.4.t
	desc = more_soviet.4.d
	picture = GFX_report_event_soviet_purge_officers_02
	is_triggered_only = yes
	option = {
		name = more_soviet.4.a
		ai_chance = {
			base = 100
		}
		add_political_power = -100
		set_country_flag = SOV_Purged_by_Stalin_flag
		retire_character = SOV_mikhail_tukhachevsky
		retire_character = SOV_aleksandr_yegorov
		retire_character = SOV_vasily_blyukher
		retire_character = SOV_pyotr_smirnov
		retire_character = SOV_mikhail_frinovsky
		custom_effect_tooltip = soviet.27_tt
		UKR = {
			country_event = more_ukraine_dlc.1
		}
	}
}

country_event = {
	# 没抓到亚基尔
	id = more_soviet_dlc.4
	title = more_soviet_dlc.4.t
	desc = more_soviet_dlc.4.d
	picture = GFX_report_event_soviet_purge_officers_02
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			news_event = {
				id = more_soviet_news_dlc.1
				days = 30
			}
		}
	}
	option = {
		ai_chance = {
			factor = 100
		}
		name = more_soviet_dlc.4.a
		add_political_power = -25
		retire_character = SOV_iona_yakir
		retire_character = SOV_vitaly_primakov
		hidden_effect = {
			country_event = {
				id = more_soviet_dlc.5
				days = 2
			}
			FRA = {
				country_event = {
					id = ukr_western.3
					days = 7
				}
			}
			ENG = {
				country_event = {
					id = ukr_western.3
					days = 7
				}
			}
			USA = {
				country_event = {
					id = ukr_western.3
					days = 7
				}
			}
		}
	}
}

country_event = {
	# 密谋
	id = more_soviet_dlc.5
	title = more_soviet_dlc.5.t
	desc = more_soviet_dlc.5.d
	picture = GFX_report_event_rus_savinkov2
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 50
		}
		name = more_soviet_dlc.5.a
		add_political_power = -1
	}
	option = {
		ai_chance = {
			base = 50
		}
		name = more_soviet_dlc.5.b
	}
}

country_event = {
	id = more_soviet.5
	title = more_soviet.5.t
	desc = more_soviet.5.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 100
		}
		name = more_soviet.5.a
		hidden_effect = {
			country_event = more_soviet_dlc.6
		}
	}
}

country_event = {
	# 刺杀朱加什维利
	id = more_soviet_dlc.6
	title = more_soviet_dlc.6.t
	desc = more_soviet_dlc.6.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
		}
		name = more_soviet_dlc.6.a
		add_political_power = -1
		add_manpower = -1
		hidden_effect = {
			country_event = more_soviet_dlc.7
		}
	}
}

country_event = {
	# 代理总书记叶若夫
	id = more_soviet_dlc.7
	title = more_soviet_dlc.7.t
	desc = more_soviet_dlc.7.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
		}
		name = more_soviet_dlc.7.a
		add_political_power = -100
		add_stability = -0.1
		kill_country_leader = yes
		swap_ideas = {
			remove_idea = SOV_Legacy_of_the_Great_Famine
			add_idea = SOV_Legacy_of_the_Great_Famine_stalindied
		}
		add_country_leader_role = {
			character = "SOV_nikolay_yezhov"
			country_leader = {
				ideology = yezhovism
				desc = "POLITICS_NIKOLAI_YEZHOV_DESC"
				traits = {
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		hidden_effect = {
			UKR = {
				country_event = {
					id = more_ukraine_dlc.3
					days = 3
				}
			}
		}
		hidden_effect = {
			news_event = {
				id = more_News.40
				hours = 3
			}
		}
	}
}

country_event = {
	# 处决赫鲁晓夫
	id = more_soviet_dlc.10
	title = more_soviet_dlc.10.t
	desc = more_soviet_dlc.10.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet_dlc.10.a
		ai_chance = {
			base = 100
		}
		add_political_power = -1
		retire_character = SOV_nikita_khrushchev
	}
}

country_event = {
	# 乌克兰的麻烦
	id = more_soviet_dlc.13
	title = more_soviet_dlc.13.t
	desc = {
		text = more_soviet_dlc.13.d1
		trigger = {
			SOV = {
				NOT = {
					has_country_flag = purged_NKVD
				}
			}
		}
	}
	desc = {
		text = more_soviet_dlc.13.d2
		trigger = {
			SOV = {
				has_country_flag = purged_NKVD
			}
		}
	}
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
		}
		name = more_soviet_dlc.13.a
		add_political_power = -25
		hidden_effect = {
			UKR = {
				country_event = {
					id = more_ukraine_dlc.14
					days = 1
				}
			}
		}
		if = {
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = SOV_nikolay_yezhov
				}
			}
			hidden_effect = {
				country_event = {
					id = more_soviet_dlc.14
					days = 7
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = purged_NKVD
				}
				NOT = {
					has_country_leader = {
						ruling_only = yes
						character = SOV_nikolay_yezhov
					}
				}
			}
			hidden_effect = {
				country_event = {
					id = more_soviet_dlc.15
					days = 7
				}
			}
		}
	}
}

country_event = {
	# 捷尔任斯基的计中计
	id = more_soviet_dlc.14
	title = more_soviet_dlc.14.t
	desc = more_soviet_dlc.14.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
		}
		name = more_soviet_dlc.14.a
	}
}

country_event = {
	# 审查乌克兰军区
	id = more_soviet_dlc.15
	title = more_soviet_dlc.15.t
	desc = more_soviet_dlc.15.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 75
		}
		name = more_soviet_dlc.15.a
		add_political_power = -50
		hidden_effect = {
			country_event = more_soviet_dlc.16
		}
	}
	option = {
		ai_chance = {
			base = 25
		}
		name = more_soviet_dlc.15.b
	}
}

country_event = {
	# 贝利亚的请求
	id = more_soviet_dlc.16
	title = more_soviet_dlc.16.t
	desc = more_soviet_dlc.16.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
		}
		name = more_soviet_dlc.16.a
		hidden_effect = {
			UKR = {
				country_event = {
					id = more_ukraine_dlc.15
					days = 1
				}
			}
		}
	}
}

country_event = {
	# 亚基尔的回电
	id = more_soviet_dlc.17
	title = more_soviet_dlc.17.t
	desc = more_soviet_dlc.17.d
	picture = GFX_report_event_rus_moscow
	is_triggered_only = yes
	option = {
		ai_chance = {
			base = 100
		}
		name = more_soviet_dlc.17.a
		UKR = {
			set_country_flag = UKR_censorship_army_flag
		}
	}
}

country_event = {
	# 莫罗佐娃代表团
	id = more_soviet_dlc.20
	title = more_soviet_dlc.20.t
	desc = more_soviet_dlc.20.d
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		name = more_soviet_dlc.20.a
		ai_chance = {
			base = 99
		}
		GER = {
			country_event = {
				id = more_soviet_dlc.21
				days = 1
			}
		}
	}
	option = {
		name = more_soviet_dlc.20.b
		ai_chance = {
			base = 1
		}
		GER = {
			country_event = {
				id = more_soviet_dlc.24
				days = 1
			}
		}
		add_opinion_modifier = {
			target = GER
			modifier = embargo
		}
		add_opinion_modifier = {
			target = GER
			modifier = sanctions_relations
		}
		GER = {
			add_opinion_modifier = {
				target = SOV
				modifier = embargo
			}
			add_opinion_modifier = {
				target = SOV
				modifier = sanctions_relations
			}
		}
	}
}

# Soviet-German Trade Agreement - Event for GER
country_event = {
	id = more_soviet_dlc.21
	title = more_soviet_dlc.21.t
	desc = more_soviet_dlc.21.d
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		# Accept -> This will also make GER more likely to take Molotov-Ribbentrop pact and less to take Anti-Soviet Pact
		name = more_soviet_dlc.21.a
		ai_chance = {
			base = 5
			modifier = {
				factor = 10
				has_war = yes
			}
			modifier = {
				factor = 10
				has_war_with = ENG
			}
			modifier = {
				factor = 0.1
				has_completed_focus = GER_anti_comitern_pact
			}
			modifier = {
				factor = 0
				OR = {
					has_war_with = FROM
					is_justifying_wargoal_against = FROM
				}
			}
		}
		add_timed_idea = {
			idea = SOV_soviet_german_trade_agreement
			days = 545
		}
		#Technically 1 year but really 18 months for Soviet payment 
		set_variable = {
			SOV_capital_for_soviet_imports = ROOT.capital
		}
		#Store capital where the dynamic modifier is set so that it can be removed easily later
		capital_scope = {
			add_dynamic_modifier = {
				modifier = SOV_soviet_imports
			}
		}
		#Effects to Soviets
		effect_tooltip = {
			FROM = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
					}
					if = {
						limit = {
							NOT = {
								has_tech = basic_ship_hull_cruiser
							}
						}
						set_technology = {
							basic_ship_hull_cruiser = 1
						}
					}
					if = {
						limit = {
							NOT = {
								has_tech = basic_cruiser_armor_scheme
							}
						}
						set_technology = {
							basic_cruiser_armor_scheme = 1
						}
					}
					if = {
						limit = {
							has_tech = basic_medium_battery
						}
						create_equipment_variant = {
							name = "Hipper Class"
							type = ship_hull_cruiser_2
							name_group = SOV_CA_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_1
								fixed_ship_secondaries_slot = empty
								fixed_ship_armor_slot = ship_armor_cruiser_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_1
								rear_1_custom_slot = ship_medium_battery_2
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Hipper Class"
							type = ship_hull_cruiser_2
							name_group = SOV_CA_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_medium_battery_1
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_1
								fixed_ship_secondaries_slot = empty
								fixed_ship_armor_slot = ship_armor_cruiser_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_1
								rear_1_custom_slot = ship_medium_battery_1
							}
						}
					}
					# CA: Lützow -> Petropavlovsk
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "SOV"
							version_name = "Hipper Class"
						}
						name = "Petropavlovsk"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_tech_bonus = {
						name = more_soviet_dlc.21.t
						bonus = 0.5
						uses = 2
						category = ship_modules_tech
						category = bb_tech
						category = dd_tech
					}
				}
				else = {
					#No MTG
					if = {
						limit = {
							NOT = {
								has_tech = basic_heavy_cruiser
							}
						}
						set_technology = {
							basic_heavy_cruiser = 1
						}
					}
					create_equipment_variant = {
						name = "Hipper Class"
						type = heavy_cruiser_2
						parent_version = 0
						upgrades = {
							ship_reliability_upgrade = 1
							ship_engine_upgrade = 1
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_2
							creator = "SOV"
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_tech_bonus = {
						name = more_soviet_dlc.21.t
						bonus = 0.5
						uses = 2
						category = ca_tech
						category = bb_tech
						category = dd_tech
					}
				}
				add_tech_bonus = {
					name = more_soviet_dlc.21.t
					bonus = 1
					uses = 1
					category = armor
					category = artillery
				}
				add_tech_bonus = {
					name = more_soviet_dlc.21.t
					bonus = 0.5
					uses = 2
					category = air_equipment
				}
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_strengthened_relations_with_us
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_strengthened_relations_with_us
			}
		}
		hidden_effect = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_strengthened_relations_with_us_trade
			}
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_strengthened_relations_with_us_trade
				}
			}
		}
		FROM = {
			country_event = {
				id = more_soviet_dlc.22
				hours = 1
			}
		}
	}
	option = {
		# Refuse
		name = more_soviet_dlc.21.b
		ai_chance = {
			base = 1
		}
		FROM = {
			country_event = {
				id = more_soviet_dlc.23
				hours = 1
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_rejected_our_demands
			}
		}
	}
}

# Soviet-German Trade Agreement - GER Accepts - Event for SOV
country_event = {
	id = more_soviet_dlc.22
	title = more_soviet_dlc.22.t
	desc = more_soviet_dlc.22.desc
	picture = GFX_report_event_molotov_ribentrop_handshake
	is_triggered_only = yes
	option = {
		# Good
		name = more_soviet_dlc.22.a
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_ship_hull_cruiser
					}
				}
				set_technology = {
					basic_ship_hull_cruiser = 1
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_cruiser_armor_scheme
					}
				}
				set_technology = {
					basic_cruiser_armor_scheme = 1
				}
			}
			if = {
				limit = {
					has_tech = basic_medium_battery
				}
				create_equipment_variant = {
					name = "Hipper Class"
					type = ship_hull_cruiser_2
					name_group = SOV_CA_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						fixed_ship_secondaries_slot = empty
						fixed_ship_armor_slot = ship_armor_cruiser_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_torpedo_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_2
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "Hipper Class"
					type = ship_hull_cruiser_2
					name_group = SOV_CA_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						fixed_ship_secondaries_slot = empty
						fixed_ship_armor_slot = ship_armor_cruiser_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_torpedo_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_1
					}
				}
			}
			# CA: Lützow -> Petropavlovsk
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_2
					creator = "SOV"
					version_name = "Hipper Class"
				}
				name = "Petropavlovsk"
				requested_factories = 1
				progress = 0.5
				amount = 1
			}
			add_tech_bonus = {
				name = more_soviet_dlc.21.t
				bonus = 0.5
				uses = 2
				category = ship_modules_tech
				category = bb_tech
				category = dd_tech
			}
		}
		else = {
			#No MTG
			if = {
				limit = {
					NOT = {
						has_tech = basic_heavy_cruiser
					}
				}
				set_technology = {
					basic_heavy_cruiser = 1
				}
			}
			create_equipment_variant = {
				name = "Hipper Class"
				type = heavy_cruiser_2
				parent_version = 0
				upgrades = {
					ship_reliability_upgrade = 1
					ship_engine_upgrade = 1
					ship_armor_upgrade = 2
					ship_gun_upgrade = 2
				}
			}
			add_equipment_production = {
				equipment = {
					type = heavy_cruiser_2
					creator = "SOV"
				}
				requested_factories = 1
				progress = 0.5
				amount = 1
			}
			add_tech_bonus = {
				name = more_soviet_dlc.21.t
				bonus = 0.5
				uses = 2
				category = ca_tech
				category = bb_tech
				category = dd_tech
			}
		}
		add_tech_bonus = {
			name = more_soviet_dlc.21.t
			bonus = 1
			uses = 1
			category = armor
			category = artillery
		}
		add_tech_bonus = {
			name = more_soviet_dlc.21.t
			bonus = 0.5
			uses = 2
			category = air_equipment
		}
		#Effects to Germans
		effect_tooltip = {
			FROM = {
				add_timed_idea = {
					idea = SOV_soviet_german_trade_agreement
					days = 545
				}
				#Technically 1 year but really 18 months for Soviet payment 
				capital_scope = {
					add_dynamic_modifier = {
						modifier = SOV_soviet_imports
					}
				}
			}
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_strengthened_relations_with_us
			}
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_strengthened_relations_with_us
				}
			}
		}
		hidden_effect = {
			news_event = {
				id = nsb_news.103
				days = 1
			}
		}
	}
}

# Soviet-German Trade Agreement - GER Refuses - Event for SOV
country_event = {
	id = more_soviet_dlc.23
	title = more_soviet_dlc.23.t
	desc = more_soviet_dlc.23.desc
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		# Damn
		name = more_soviet_dlc.23.a
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_rejected_our_demands
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.6
	title = more_soviet.6.t
	desc = more_soviet.6.d
	picture = GFX_report_event_soviet_soldiers
	is_triggered_only = yes
	#trigger = {
	#tag = SOV
	#has_country_flag = SOV_Tukhachevski_coup
	#NOT = { has_completed_focus = SOV_Great_Purge_will_fail }
	#focus_progress = {
	#focus = SOV_Great_Purge_will_fail
	#progress > 0.55
	#}
	#}
	#mean_time_to_happen = {
	#days = 1
	#}
	option = {
		name = more_soviet.6.a
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = YEZHOV
				}
			}
		}
		set_country_flag = SOV_Tukhachevski_coup_win
		country_event = {
			id = more_soviet.7
			days = 1
		}
	}
	option = {
		name = more_soviet.6.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = BUKHARIN
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TROTSKY
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TUKHACHEVSKI
				}
			}
		}
		add_political_power = -100
		hidden_effect = {
			country_event = {
				id = more_soviet.4
				days = 15
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.7
	title = more_soviet.7.t
	desc = more_soviet.7.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.7.a
		ai_chance = {
			base = 100
		}
		add_political_power = -200
		add_stability = -0.1
		kill_country_leader = yes
		swap_ideas = {
			remove_idea = SOV_Legacy_of_the_Great_Famine
			add_idea = SOV_Legacy_of_the_Great_Famine_nostalin
		}
		add_country_leader_role = {
			character = "SOV_mikhail_tukhachevsky"
			country_leader = {
				ideology = leninism
				traits = {
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		hidden_effect = {
			news_event = {
				id = more_News.41
				hours = 3
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.8
	title = more_soviet.8.t
	desc = more_soviet.8.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet.8.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = BUKHARIN
				}
			}
		}
		set_country_flag = new_NKVD
		add_political_power = 50
		set_division_template_lock = {
			division_template = "NKVD Pogranichnaya Diviziya"
			is_locked = no
		}
		hidden_effect = {
			country_event = {
				id = more_soviet_dlc.8
				days = 30
			}
		}
	}
	option = {
		name = more_soviet.8.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TROTSKY
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TUKHACHEVSKI
				}
			}
		}
		set_country_flag = purged_NKVD
		add_political_power = -100
		add_stability = -0.05
		remove_ideas = nkvd
		delete_unit_template_and_units = {
			division_template = "NKVD Pogranichnaya Diviziya"
			disband = yes
		}
		custom_effect_tooltip = remove_political_advisor
		show_ideas_tooltip = SOV_lavrentiy_beria
		set_country_flag = Beria_is_dead
		hidden_effect = {
			remove_ideas = SOV_lavrentiy_beria
		}
	}
}

country_event = {
	# 神秘的捷尔任斯基
	id = more_soviet_dlc.8
	title = more_soviet_dlc.8.t
	desc = more_soviet_dlc.8.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet_dlc.8.a
		ai_chance = {
			base = 100
		}
		add_political_power = -5
		hidden_effect = {
			country_event = {
				id = more_soviet_dlc.9
				days = 10
			}
		}
	}
}

country_event = {
	# 认罪
	id = more_soviet_dlc.9
	title = more_soviet_dlc.9.t
	desc = more_soviet_dlc.9.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet_dlc.9.a
		ai_chance = {
			base = 100
		}
		custom_effect_tooltip = SOV_Yezhov_Dead_tt
		add_political_power = -50
		add_stability = -0.1
		add_war_support = -0.1
		hidden_effect = {
		}
	}
}

country_event = {
	# 审判
	id = more_soviet_dlc.11
	title = more_soviet_dlc.11.t
	desc = more_soviet_dlc.11.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet_dlc.11.a
		ai_chance = {
			base = 100
		}
		add_political_power = -1
		retire_character = SOV_nikita_khrushchev
	}
}

country_event = {
	# 
	id = more_soviet.9
	title = more_soviet.9.t
	desc = more_soviet.9.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet.9.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TROTSKY
				}
			}
		}
		add_political_power = 50
	}
	option = {
		name = more_soviet.9.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0				#We paid enough
				has_country_flag = purged_NKVD
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = BUKHARIN
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TUKHACHEVSKI
				}
			}
		}
		set_country_flag = purged_stalinist
		add_political_power = -100
		add_war_support = -0.05
		retire_character = SOV_ivan_konev
		retire_character = SOV_arseniy_golovko
		retire_character = SOV_pavel_zhigarev
		retire_character = SOV_stepan_krasovsky
		retire_character = SOV_sergey_gorshkov
		retire_character = SOV_sergey_rudenko
		retire_character = SOV_semyon_timoshenko
		retire_character = SOV_kliment_voroshilov
		retire_character = SOV_semyon_budyonny
		retire_character = SOV_grigory_kulik
		retire_character = SOV_aleksandr_yegorov
		add_timed_idea = {
			idea = officers_purged_7
			days = 730
		}
		hidden_effect = {
			country_event = {
				id = soviet.41
				days = 146
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.10
	title = more_soviet.10.t
	desc = more_soviet.10.d
	picture = GFX_report_event_soviet_purge_officers_01
	is_triggered_only = yes
	option = {
		name = more_soviet.10.a
		trigger = {
			has_country_flag = purged_NKVD
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TROTSKY
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TUKHACHEVSKI
				}
			}
		}
		add_political_power = 100
		set_country_flag = Bukharin_becomes_general_secretary_flag
	}
	option = {
		name = more_soviet.10.b
		trigger = {
			has_country_flag = new_NKVD
			NOT = {
				has_country_flag = purged_stalinist
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TROTSKY
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = BUKHARIN
				}
			}
		}
		add_political_power = 50
		set_country_flag = Tukhachevsky_consolidated_his_position_flag
	}
	option = {
		name = more_soviet.10.c
		trigger = {
			has_country_flag = new_NKVD
			has_country_flag = purged_stalinist
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = BUKHARIN
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SOV_ai_behavior
					option = TUKHACHEVSKI
				}
			}
		}
		add_political_power = -50
		set_country_flag = Trotsky_is_invited_back_flag
	}
}

country_event = {
	# 
	id = more_soviet.11
	title = more_soviet.11.t
	desc = more_soviet.11.d
	picture = GFX_report_event_soviet_purge_politicians
	is_triggered_only = yes
	option = {
		name = more_soviet.11.a
		ai_chance = {
			base = 25
		}
		add_political_power = 150
		set_country_flag = SOV_Support_resource_collectivization_flag
		add_ideas = SOV_Voluntary_collectivization_idea
	}
	option = {
		name = more_soviet.11.b
		ai_chance = {
			base = 75
		}
		add_political_power = -50
		set_country_flag = SOV_Support_compulsory_collectivization_flag
		add_ideas = SOV_agricultural_collectivization_1
	}
}

country_event = {
	#中亚叛乱 
	id = more_soviet.12
	title = more_soviet.12.t
	desc = {
		text = more_soviet.12.d1
		trigger = {
			SOV = {
				has_country_leader = {
					ruling_only = yes
					character = SOV_nikolay_yezhov
				}
			}
		}
	}
	desc = {
		text = more_soviet.12.d2
		trigger = {
			NOT = {
				SOV = {
					has_country_leader = {
						ruling_only = yes
						character = SOV_nikolay_yezhov
					}
				}
			}
		}
	}
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	option = {
		name = more_soviet.12.a
		ai_chance = {
			base = 100
		}
		if = {
			limit = {
				not = {
					country_exists = KAZ
				}
			}
			KAZ = {
				transfer_state = 402
				transfer_state = 404
				transfer_state = 589
			}
		}
		if = {
			limit = {
				country_exists = KAZ
			}
			SOV = {
				end_puppet = KAZ
			}
		}
		KAZ = {
			if = {
				limit = {
					SOV = {
						has_country_leader = {
							ruling_only = yes
							character = SOV_nikolay_yezhov
						}
					}
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
				hidden_effect = {
					load_oob = "kaz_rebel_1936"
				}
			}
			else = {
				set_politics = {
					ruling_party = communism
					elections_allowed = no
				}
				add_country_leader_role = {
					character = KAZ_Filipp_Goloshchyokin
					country_leader = {
						expire = "1965.1.1.1"
						ideology = yezhovism
						traits = {
						}
					}
					promote_leader = yes
				}
				hidden_effect = {
					load_oob = "kaz_rebel_1936"
				}
			}
		}
		if = {
			limit = {
				or = {
					has_country_leader = {
						ruling_only = yes
						character = SOV_nikolay_yezhov
					}
					has_country_leader = {
						ruling_only = yes
						character = SOV_mikhail_tukhachevsky
					}
				}
				NOT = {
					has_country_flag = SOV_Achieving_the_Enver_Plan_flag
				}
			}
			add_political_power = -35
			hidden_effect = {
				country_event = more_soviet.15
			}
		}
		hidden_effect = {
			country_event = {
				id = more_soviet.14
				days = 15
			}
		}
		hidden_effect = {
			news_event = {
				id = more_News.34
				days = 7
			}
		}
	}
}

country_event = {
	#乌克兰叛乱 
	id = more_soviet.13
	title = more_soviet.13.t
	desc = {
		text = more_soviet.13.d1
		trigger = {
			UKR = {
				has_country_flag = UKR_total_rebellion_flag
			}
		}
	}
	desc = {
		text = more_soviet.13.d2
		trigger = {
			UKR = {
				has_country_flag = UKR_Iona_Yakir_killed_flag
			}
		}
	}
	desc = {
		text = more_soviet.13.d3
		trigger = {
			UKR = {
				has_country_flag = UKR_Iona_Yakir_survived_flag
			}
		}
	}
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	option = {
		name = more_soviet.13.a
		ai_chance = {
			base = 100
		}
		if = {
			limit = {
				country_exists = UKR
			}
			SOV = {
				end_puppet = UKR
				remove_from_faction = UKR
			}
		}
		UKR = {
			add_ideas = UKR_German_consultant_idea
			remove_ideas = UKR_no_army_idea
			if = {
				limit = {
					NOT = {
						has_idea = UKR_Legacy_of_the_Great_Famine_idea_7
					}
				}
				add_ideas = UKR_Legacy_of_the_Great_Famine_idea_7
			}
		}
		hidden_effect = {
			UKR = {
				add_dynamic_modifier = {
					modifier = HOF_UKR_army_dynamic_modifier
				}
			}
		}
		# 忠诚步骑
		division_template = {
			name = "Ukrainska Gornostrelkovaya Diviziya"			# Mountain Division
			division_names_group = SOV_MNT_01
			regiments = {
				mountaineers = {
					x = 0
					y = 0
				}
				mountaineers = {
					x = 0
					y = 1
				}
				mountaineers = {
					x = 0
					y = 2
				}
				mountaineers = {
					x = 1
					y = 0
				}
				mountaineers = {
					x = 1
					y = 1
				}
				mountaineers = {
					x = 1
					y = 2
				}
				mountaineers = {
					x = 2
					y = 0
				}
				mountaineers = {
					x = 2
					y = 1
				}
				mountaineers = {
					x = 2
					y = 2
				}
				mountaineers = {
					x = 3
					y = 0
				}
				mountaineers = {
					x = 3
					y = 1
				}
				mountaineers = {
					x = 3
					y = 2
				}
			}
			support = {
				engineer = {
					x = 0
					y = 0
				}
				# Engineer bn
				artillery = {
					x = 0
					y = 1
				}
				# Heavy Arty Regiment had 2x 122mm bn
			}
		}
		division_template = {
			name = "Ukrainska Kavaleriyskaya Diviziya"
			division_names_group = SOV_CAV_01
			regiments = {
				cavalry = {
					x = 0
					y = 0
				}
				cavalry = {
					x = 0
					y = 1
				}
				cavalry = {
					x = 1
					y = 0
				}
				cavalry = {
					x = 1
					y = 1
				}
			}
		}
		load_oob = "SOV_UKR_army_cav"
		# 忠诚坦克
		division_template = {
			name = "Ukrainska Mekhanizirovaniy Korpus"
			division_names_group = UKR_MEC_01
			regiments = {
				light_armor = {
					x = 0
					y = 0
				}
				light_armor = {
					x = 0
					y = 1
				}
				light_armor = {
					x = 1
					y = 0
				}
				light_armor = {
					x = 1
					y = 1
				}
				light_armor = {
					x = 1
					y = 2
				}
				motorized = {
					x = 2
					y = 0
				}
				motorized = {
					x = 2
					y = 1
				}
				motorized = {
					x = 2
					y = 2
				}
				motorized = {
					x = 2
					y = 3
				}
			}
			support = {
				mot_recon = {
					x = 0
					y = 0
				}
				artillery = {
					x = 0
					y = 1
				}
			}
		}
		if = {
			limit = {
				UKR = {
					has_country_flag = UKR_Iona_Yakir_survived_flag
				}
			}
			hidden_effect = {
				load_oob = "SOV_UKR_army_tank"
				load_oob = "SOV_UKR_army_tank_half"
			}
			else_if = {
				limit = {
					has_country_flag = UKR_Iona_Yakir_killed_flag
				}
				hidden_effect = {
					load_oob = "SOV_UKR_army_tank_half"
				}
			}
		}
		# 忠诚NKVD
		division_template = {
			name = "NKVD Ukrainska Pogranichnaya Diviziya"
			division_names_group = SOV_GAR_01
			regiments = {
				infantry = {
					x = 0
					y = 0
				}
				infantry = {
					x = 0
					y = 1
				}
				infantry = {
					x = 0
					y = 2
				}
				infantry = {
					x = 1
					y = 0
				}
				infantry = {
					x = 1
					y = 1
				}
				infantry = {
					x = 1
					y = 2
				}
			}
			support = {
				military_police = {
					x = 0
					y = 0
				}
			}
			priority = 0
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = purged_NKVD
				}
			}
			hidden_effect = {
				load_oob = "SOV_UKR_army_NKVD"
			}
		}
		hidden_effect = {
			country_event = {
				id = more_soviet.12
				days = 2
			}
		}
	}
}

country_event = {
	#宣战 
	id = more_soviet.14
	title = more_soviet.14.t
	desc = more_soviet.14.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.14.a
		ai_chance = {
			base = 100
		}
		#remove_ideas = SOV_Legacy_of_the_Great_Famine
		declare_war_on = {
			target = UKR
			type = annex_everything
		}
		activate_mission = UKRRUS_SOV_special_military_operations
		UKR = {
			activate_mission = UKRRUS_UKR_still_on_earth
		}
		UKR = {
			add_timed_idea = {
				idea = SOV_Passion_for_fighting
				days = 1095
			}
		}
		declare_war_on = {
			target = KAZ
			type = annex_everything
		}
		KAZ = {
			add_timed_idea = {
				idea = SOV_Passion_for_fighting
				days = 730
			}
		}
		if = {
			limit = {
				country_exists = TMS
				TMS = {
					is_subject = no
				}
			}
			declare_war_on = {
				target = TMS
				type = annex_everything
			}
			hidden_effect = {
				TUR = {
					add_ai_strategy = {
						type = support
						id = "TMS"
						value = 200
					}
				}
				AFG = {
					add_timed_idea = {
						idea = GER_anti_communist_volunteers_idea
						days = 365
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = "TMS"
						value = 200
					}
					add_ai_strategy = {
						type = support
						id = "TMS"
						value = 200
					}
				}
				TMS = {
					add_timed_idea = {
						idea = SOV_Passion_for_fighting
						days = 730
					}
					declare_war_on = {
						target = KAZ
						type = annex_everything
					}
				}
				RUS = {
					declare_war_on = {
						target = TMS
						type = annex_everything
					}
				}
			}
		}
	}
}

country_event = {
	#中亚叛乱2 
	id = more_soviet.15
	title = more_soviet.15.t
	desc = more_soviet.15.d
	picture = GFX_report_event_generic_riot
	is_triggered_only = yes
	option = {
		name = more_soviet.15.a
		ai_chance = {
			base = 100
		}
		retire_character = SOV_Ismail_Enver
		if = {
			limit = {
				not = {
					country_exists = TMS
				}
			}
			TMS = {
				transfer_state = 418
				transfer_state = 405
				transfer_state = 584
				transfer_state = 732
				transfer_state = 804
				transfer_state = 1042
				transfer_state = 586
			}
		}
		if = {
			limit = {
				country_exists = TMS
			}
			SOV = {
				end_puppet = TMS
			}
		}
		every_state = {
			limit = {
				is_core_of = SIK
			}
			add_claim_by = TMS
		}
		TMS = {
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.75
			}
			create_country_leader = {
				name = "Enver Passha"
				desc = "POLITICS_ENVER_PASSHA_DESC"
				picture = "gfx/leaders/TMS/Portrait_Enver_Passha.png"
				expire = "1953.3.1"
				ideology = national_populist
				traits = {
					Pan_Turkism_Legend
				}
			}
			add_ideas = SOV_Basmachi_idea
			set_cosmetic_tag = Enver_Greater_Turkestan
			hidden_effect = {
				load_oob = "Enver_1936"
			}
		}
	}
}

country_event = {
	#选举 
	id = more_soviet.16
	title = more_soviet.16.t
	desc = more_soviet.16.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.16.a
		ai_chance = {
			base = 25
		}
		add_political_power = 50
	}
	option = {
		name = more_soviet.16.b
		ai_chance = {
			base = 25
		}
		retire_country_leader = yes
		add_country_leader_role = {
			character = "SOV_anna_morozova"
			country_leader = {
				desc = "POLITICS_ANNA_MOROZOVA_DESC"
				ideology = leninism
				traits = {
					trait_pravda
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.16.c
		ai_chance = {
			base = 25
		}
		retire_country_leader = yes
		add_country_leader_role = {
			character = "SOV_sonia_zima"
			country_leader = {
				desc = "POLITICS_SONIA_ZIMA_DESC"
				ideology = leninism
				traits = {
					impulsive_activist
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.16.e
		ai_chance = {
			base = 25
		}
		country_event = {
			id = more_soviet.27
			days = 1
		}
	}
}

country_event = {
	#图哈切夫斯基飞机失事
	id = more_soviet.17
	title = more_soviet.17.t
	desc = more_soviet.17.d
	picture = GFX_report_event_soviet_purge_officers_01
	trigger = {
		tag = SOV
		has_completed_focus = SOV_Red_Napoleon
		date > 1940.6.1
		or = {
			MON = {
				is_in_faction_with = SOV
			}
			NOT = {
				country_exists = MON
			}
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	fire_only_once = yes
	option = {
		name = more_soviet.17.a
		ai_chance = {
			base = 25
		}
		add_political_power = -100
		every_unit_leader = {
			limit = {
				has_id = 401
			}
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 90
			}
		}
	}
	option = {
		name = more_soviet.17.b
		ai_chance = {
			base = 25
		}
		kill_country_leader = yes
		remove_unit_leader = 401		#mikhail_tukhachevsky, field marshal
		add_country_leader_role = {
			character = "SOV_nonna"
			country_leader = {
				desc = "POLITICS_NONNA_DESC"
				ideology = leninism
				traits = {
					army_political_commissar
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		hidden_effect = {
			remove_ideas = mikhail_tukhachevsky
		}
	}
	option = {
		name = more_soviet.17.c
		ai_chance = {
			base = 25
		}
		kill_country_leader = yes
		remove_unit_leader = 401		#mikhail_tukhachevsky, field marshal
		add_country_leader_role = {
			character = "SOV_sovetskaya_rossiya"
			country_leader = {
				desc = "POLITICS_SOVETSKAYA_ROSSIYA_DESC"
				ideology = leninism
				traits = {
					Navy_commissar
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		hidden_effect = {
			remove_ideas = mikhail_tukhachevsky
		}
	}
}

country_event = {
	#NKVD新任局长
	id = more_soviet.18
	title = more_soviet.18.t
	desc = more_soviet.18.d
	picture = GFX_report_event_soviet_purge_officers_02
	is_triggered_only = yes
	option = {
		name = more_soviet.18.a
		trigger = {
			always = no
		}
		ai_chance = {
			base = 30
		}
		set_country_flag = SOV_Enable_Sudoplatov_flag
	}
	option = {
		name = more_soviet.18.b
		trigger = {
			always = no
		}
		ai_chance = {
			base = 30
		}
		set_country_flag = SOV_Enable_Makarova_flag
	}
	option = {
		name = more_soviet.18.c
		ai_chance = {
			base = 40
		}
		set_country_flag = SOV_Enable_Savinkov_flag
	}
}

country_event = {
	#朱加什维利之影
	id = more_soviet.19
	title = more_soviet.19.t
	desc = more_soviet.19.d
	picture = GFX_report_event_stalin_01
	trigger = {
		OR = {
			RUS = {
				exists = no
			}
			RUS = {
				is_subject = yes
			}
		}
		SOV = {
			has_country_leader = {
				character = SOV_nikolay_yezhov
			}
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 365
	}
	option = {
		name = more_soviet.19.a
		ai_chance = {
			factor = 100
		}
		country_event = more_soviet.20
	}
}

country_event = {
	#打电话
	id = more_soviet.20
	title = more_soviet.20.t
	desc = more_soviet.20.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.20.a
		ai_chance = {
			base = 50
		}
		if = {
			limit = {
				has_country_flag = SOV_Enable_Sudoplatov_flag
			}
			hidden_effect = {
				country_event = more_soviet.21
			}
		}
		if = {
			limit = {
				has_country_flag = SOV_Enable_Makarova_flag
			}
			hidden_effect = {
				country_event = more_soviet.23
			}
		}
		if = {
			limit = {
				has_country_flag = SOV_Enable_Savinkov_flag
			}
			hidden_effect = {
				country_event = more_soviet.29
			}
		}
	}
	option = {
		name = more_soviet.20.b
		ai_chance = {
			base = 50
		}
		if = {
			limit = {
				has_country_flag = SOV_Enable_Sudoplatov_flag
			}
			hidden_effect = {
				country_event = more_soviet.22
			}
		}
		if = {
			limit = {
				has_country_flag = SOV_Enable_Makarova_flag
			}
			hidden_effect = {
				country_event = more_soviet.28
			}
		}
		if = {
			limit = {
				has_country_flag = SOV_Enable_Savinkov_flag
			}
			hidden_effect = {
				country_event = more_soviet.29
			}
		}
	}
}

country_event = {
	#行动结束
	id = more_soviet.21
	title = more_soviet.21.t
	desc = more_soviet.21.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.21.a
		ai_chance = {
			base = 50
		}
		add_political_power = -100
		add_stability = -0.05
		remove_ideas = trotskyite_plot_purged
		remove_country_leader_trait = Blood_Dwarf_1
		add_country_leader_trait = Blood_Dwarf_2
	}
}

country_event = {
	#苏多普拉托夫的反击
	id = more_soviet.22
	title = more_soviet.22.t
	desc = more_soviet.22.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.22.a
		ai_chance = {
			base = 30
		}
		add_political_power = -100
		add_stability = -0.05
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_pavel_sudoplatov"
			country_leader = {
				ideology = yezhovism
				traits = {
					Blood_Dwarf_1
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		clr_country_flag = SOV_Enable_Sudoplatov_flag
		set_country_flag = SOV_Enable_Makarova_flag
	}
	option = {
		name = more_soviet.22.b
		ai_chance = {
			base = 30
		}
		add_political_power = -50
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_pistolet_makarova"
			country_leader = {
				ideology = leninism
				traits = {
					Blood_Dwarf_1
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.22.c
		ai_chance = {
			base = 40
		}
		add_political_power = -100
		add_stability = -0.1
		country_event = more_soviet.24
	}
}

country_event = {
	#激情杀人？
	id = more_soviet.23
	title = more_soviet.23.t
	desc = more_soviet.23.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.23.a
		ai_chance = {
			base = 100
		}
		add_political_power = -50
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_pistolet_makarova"
			country_leader = {
				ideology = leninism
				traits = {
					Combat_agent
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		set_country_flag = SOV_Enable_Sudoplatov_flag
		clr_country_flag = SOV_Enable_Makarova_flag
		country_event = more_soviet.25
	}
}

country_event = {
	#回归
	id = more_soviet.24
	title = more_soviet.24.t
	desc = more_soviet.24.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.24.a
		ai_chance = {
			base = 30
		}
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_andrei_zhdanov"
			country_leader = {
				ideology = stalinism
				traits = {
					marxist_philosopher
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.24.b
		ai_chance = {
			base = 30
		}
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_lazar_kaganovich"
			country_leader = {
				ideology = stalinism
				traits = {
					servant_of_Dzhugashvili
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.24.c
		ai_chance = {
			base = 40
		}
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_yakov_dzhugashvili"
			country_leader = {
				ideology = stalinism
				traits = {
					sins_of_the_father
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
}

country_event = {
	#真相
	id = more_soviet.25
	title = more_soviet.25.t
	desc = more_soviet.25.d
	picture = GFX_report_event_rus_kremlin4
	is_triggered_only = yes
	option = {
		name = more_soviet.25.a
		ai_chance = {
			base = 100
		}
		add_political_power = -100
		country_event = more_soviet.26
	}
}

country_event = {
	#谁来领导？
	id = more_soviet.26
	title = more_soviet.26.t
	desc = more_soviet.26.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.26.a
		ai_chance = {
			base = 100
		}
		add_stability = 0.05
		retire_country_leader = yes
		add_country_leader_role = {
			character = "SOV_anna_morozova"
			country_leader = {
				desc = "POLITICS_ANNA_MOROZOVA_DESC"
				ideology = leninism
				traits = {
					trait_pravda
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.27.b
		ai_chance = {
			base = 50
		}
		add_stability = 0.05
		retire_country_leader = yes
		add_country_leader_role = {
			character = "SOV_makiri_zolgen"
			country_leader = {
				ideology = leninism
				traits = {
					Agronomist
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
}

country_event = {
	#选举
	id = more_soviet.27
	title = more_soviet.27.t
	desc = more_soviet.27.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.27.a
		ai_chance = {
			base = 50
		}
		retire_country_leader = yes
		add_country_leader_role = {
			character = "SOV_nikita_khrushchev"
			country_leader = {
				ideology = leninism
				traits = {
					Cunning_politician
					economic_reformer
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
	option = {
		name = more_soviet.27.b
		ai_chance = {
			base = 50
		}
		retire_country_leader = yes
		add_country_leader_role = {
			character = "SOV_makiri_zolgen"
			country_leader = {
				ideology = leninism
				traits = {
					Agronomist
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
	}
}

country_event = {
	#行动结束
	id = more_soviet.28
	title = more_soviet.28.t
	desc = more_soviet.28.d
	picture = GFX_report_event_rus_kremlin_1
	is_triggered_only = yes
	option = {
		name = more_soviet.28.a
		ai_chance = {
			base = 50
		}
		add_political_power = -100
		add_stability = -0.05
		remove_ideas = trotskyite_plot_purged
		remove_country_leader_trait = Blood_Dwarf_1
		add_country_leader_trait = Blood_Dwarf_2
		set_country_flag = SOV_Enable_Sudoplatov_flag
		clr_country_flag = SOV_Enable_Makarova_flag
	}
}

country_event = {
	#鲍里斯·萨文科夫
	id = more_soviet.29
	title = more_soviet.29.t
	desc = more_soviet.29.d
	picture = GFX_report_event_rus_savinkov_rally
	is_triggered_only = yes
	option = {
		name = more_soviet.29.a
		ai_chance = {
			base = 50
		}
		add_political_power = -5
		country_event = more_soviet.30
	}
}

country_event = {
	#鲍里斯·捷尔任斯基
	id = more_soviet.30
	title = more_soviet.30.t
	desc = more_soviet.30.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.30.a
		ai_chance = {
			base = 50
		}
		add_political_power = -5
		country_event = more_soviet.31
	}
}

country_event = {
	#鲍里斯·捷尔任斯基
	id = more_soviet.31
	title = more_soviet.31.t
	desc = more_soviet.31.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.31.a
		ai_chance = {
			base = 50
		}
		add_political_power = -5
		country_event = more_soviet.32
	}
}

country_event = {
	#亲自执行
	id = more_soviet.32
	title = more_soviet.32.t
	desc = more_soviet.32.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.32.a
		ai_chance = {
			base = 50
		}
		add_political_power = -100
		add_stability = -0.05
		kill_country_leader = yes
		add_country_leader_role = {
			character = "SOV_boris_savinkov"
			country_leader = {
				ideology = totalist
				#desc = "POLITICS_NIKOLAI_YEZHOV_DESC"
				traits = {
					Crimson_Warhorse
				}
				expire = "1965.3.1.1"
			}
			promote_leader = yes
		}
		clr_country_flag = SOV_Enable_Savinkov_flag
		set_country_flag = SOV_Enable_Makarova_flag
		country_event = {
			id = more_soviet.33
			days = 180
		}
	}
}

country_event = {
	#萨文科夫还是捷尔任斯基
	id = more_soviet.33
	title = more_soviet.33.t
	desc = more_soviet.33.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	option = {
		name = more_soviet.33.a
		ai_chance = {
			base = 50
		}
		hidden_effect = {
			set_country_flag = SOV_Savinkov_in_reign_flag
			country_event = {
				id = more_soviet.34
				days = 100
			}
		}
	}
	option = {
		name = more_soviet.33.b
		ai_chance = {
			base = 50
		}
		add_political_power = -50
		#retire_country_leader = yes
		SOV_boris_savinkov = {
			set_portraits = {
				civilian = {
					large = "gfx/leaders/SOV/Portraits_Soviet_Savinkov_marshal.png"
				}
			}
			set_character_name = SOV_Boris_Savinkov_Real
		}
		hidden_effect = {
			set_country_flag = SOV_Savinkov_in_reign_flag
			country_event = {
				id = more_soviet.34
				days = 100
			}
		}
	}
}

country_event = {
	#银狼的绝唱
	id = more_soviet.34
	title = more_soviet.34.t
	desc = more_soviet.34.d
	picture = GFX_report_event_soviet_purge_politicians
	is_triggered_only = yes
	option = {
		name = more_soviet.34.a
		ai_chance = {
			base = 50
		}
		add_stability = -0.05
		add_popularity = {
			ideology = democratic
			popularity = -0.025
		}
		hidden_effect = {
			set_country_flag = RUS_Zaychik_dead
			RUS = {
				create_country_leader = {
					name = "Nataliya Andreyevich Rostova"
					desc = "POLITICS_ROSTOVA_DESC"
					picture = "Portrait_Nataliya_Andreyevich_Rostova.dds"
					ideology = conservatism
					traits = {
					}
				}
				set_party_name = {
					ideology = democratic
					long_name = RUS_democratic_party_octobrist_long
					name = RUS_democratic_party_octobrist
				}
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.101
	title = more_soviet.101.t
	desc = more_soviet.101.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.101.a
		ai_chance = {
			base = 99
		}
		SOV = {
			country_event = {
				id = more_soviet.102
				days = 1
			}
		}
	}
	option = {
		name = more_soviet.101.b
		ai_chance = {
			base = 1
		}
		SOV = {
			country_event = {
				id = more_soviet.103
				days = 1
			}
		}
	}
}

country_event = {
	id = more_soviet.102
	title = more_soviet.102.t
	desc = more_soviet.102.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.102.a
		ai_chance = {
			base = 99
		}
		if = {
			limit = {
				11 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 11
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 11
			}
		}
		if = {
			limit = {
				189 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 189
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 189
			}
		}
		if = {
			limit = {
				784 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 784
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 784
			}
		}
		if = {
			limit = {
				96 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 96
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 96
			}
		}
		if = {
			limit = {
				95 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 95
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 95
			}
		}
		if = {
			limit = {
				94 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 94
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 94
			}
		}
		if = {
			limit = {
				93 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 93
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 93
			}
		}
		if = {
			limit = {
				91 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 91
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 91
			}
		}
		if = {
			limit = {
				89 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 89
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 89
			}
		}
		random_other_country = {
			limit = {
				is_in_faction_with = POL
				has_war_with = SOV
			}
			white_peace = {
				tag = SOV
				message = SOV_agree_peace_POL
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.103
	title = more_soviet.103.t
	desc = more_soviet.103.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.103.a
		ai_chance = {
			base = 99
		}
	}
}

country_event = {
	# 
	id = more_soviet.104
	title = more_soviet.104.t
	desc = more_soviet.104.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.104.a
		ai_chance = {
			base = 99
		}
		SOV = {
			country_event = {
				id = more_soviet.105
				days = 1
			}
		}
	}
	option = {
		name = more_soviet.104.b
		ai_chance = {
			base = 1
		}
		SOV = {
			country_event = {
				id = more_soviet.106
				days = 1
			}
		}
	}
}

country_event = {
	id = more_soviet.105
	title = more_soviet.105.t
	desc = more_soviet.105.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.105.a
		ai_chance = {
			base = 99
		}
		if = {
			limit = {
				78 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 78
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 78
			}
		}
		if = {
			limit = {
				766 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 766
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 766
			}
		}
		if = {
			limit = {
				80 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 80
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 80
			}
		}
		random_other_country = {
			limit = {
				is_in_faction_with = ROM
				has_war_with = SOV
			}
			white_peace = {
				tag = SOV
				message = SOV_agree_peace_ROM
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.106
	title = more_soviet.106.t
	desc = more_soviet.106.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.106.a
		ai_chance = {
			base = 99
		}
	}
}

country_event = {
	# 
	id = more_soviet.107
	title = more_soviet.107.t
	desc = more_soviet.107.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.107.a
		ai_chance = {
			base = 99
		}
		SOV = {
			country_event = {
				id = more_soviet.108
				days = 1
			}
		}
	}
	option = {
		name = more_soviet.107.b
		ai_chance = {
			base = 1
		}
		SOV = {
			country_event = {
				id = more_soviet.109
				days = 1
			}
		}
	}
}

country_event = {
	id = more_soviet.108
	title = more_soviet.108.t
	desc = more_soviet.108.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.108.a
		ai_chance = {
			base = 99
		}
		if = {
			limit = {
				146 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 146
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 146
			}
		}
		if = {
			limit = {
				864 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 147
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 864
			}
		}
		if = {
			limit = {
				722 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 722
							is_in_faction_with = SOV
							SOV = {
								is_faction_leader = yes
							}
						}
					}
				}
			}
			SOV = {
				transfer_state = 722
			}
		}
		random_other_country = {
			limit = {
				is_in_faction_with = FIN
				has_war_with = SOV
			}
			white_peace = {
				tag = SOV
				message = SOV_agree_peace_FIN
			}
		}
	}
}

country_event = {
	# 
	id = more_soviet.109
	title = more_soviet.109.t
	desc = more_soviet.109.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.109.a
		ai_chance = {
			base = 99
		}
	}
}

country_event = {
	# 
	id = more_soviet.201
	title = more_soviet.201.t
	desc = more_soviet.201.d
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		name = more_soviet.201.a
		ai_chance = {
			base = 100
		}
		set_country_flag = {
			flag = anycountry_prepare_for_war_SOV_flag
			days = 90
			value = 1
		}
	}
}

###########################
# NSB Soviet Events
###########################
add_namespace = NSB_soviet_paranoia_system_events
add_namespace = NSB_soviet_propaganda_capmaign_events
add_namespace = NSB_soviet_foreign_politics_events
add_namespace = NSB_soviet_academy_of_sciences
add_namespace = NSB_soviet_atomic_bomb_project
add_namespace = NSB_soviet_five_year_plan
add_namespace = NSB_soviet_great_patriotic_war
add_namespace = NSB_soviet_soviet_german_trade_agreement
add_namespace = NSB_soviet_policies_of_collective_security
add_namespace = NSB_soviet_comecon
add_namespace = NSB_soviet_spanish_civil_war
add_namespace = NSB_soviet_planned_economy
add_namespace = NSB_Soviet_fascist_civil_war
add_namespace = NSB_soviet_communist_civil_war
add_namespace = NSB_soviet_permanent_revolution
add_namespace = NSB_soviet_for_the_common_good
add_namespace = NSB_soviet_civil_war_common
add_namespace = NSB_soviet_fascist_tsarist
add_namespace = NSB_soviet_nationalist
#Propaganda Dispatcher - Left Slot - Used to update Campaign GFX when it's old.
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.101
	title = NSB_soviet_propaganda_capmaign_events.101.t
	desc = NSB_soviet_propaganda_capmaign_events.101.desc
	is_triggered_only = yes
	trigger = {
		check_variable = {
			SOV_propaganda_left_poster_to_age = SOV_poster_left_icon_frame
		}
		#So that this does not happen if a propaganda is cancelled, breaking everything
	}
	hidden = yes
	immediate = {
		set_country_flag = SOV_propaganda_left_slot_is_old_flag
		#log = "I AM HERE: LEFT FRAME IS [?SOV_poster_left_icon_frame] // POSTER TO AGE IS [?SOV_propaganda_left_poster_to_age]" #Debug
	}
}

#Propaganda Dispatcher - Center Slot - Used to update Campaign GFX when it's old.
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.102
	title = NSB_soviet_propaganda_capmaign_events.102.t
	desc = NSB_soviet_propaganda_capmaign_events.102.desc
	is_triggered_only = yes
	trigger = {
		check_variable = {
			SOV_propaganda_center_poster_to_age = SOV_poster_center_icon_frame
		}
		#So that this does not happen if a propaganda is cancelled, breaking everything
	}
	hidden = yes
	immediate = {
		set_country_flag = SOV_propaganda_center_slot_is_old_flag
		#log = "I AM HERE: CENTER FRAME IS [?SOV_poster_center_icon_frame] // POSTER TO AGE IS [?SOV_propaganda_center_poster_to_age]" #Debug
	}
}

#Propaganda Dispatcher - Right Slot - Used to update Campaign GFX when it's old.
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.103
	title = NSB_soviet_propaganda_capmaign_events.103.t
	desc = NSB_soviet_propaganda_capmaign_events.103.desc
	is_triggered_only = yes
	trigger = {
		check_variable = {
			SOV_propaganda_right_poster_to_age = SOV_poster_right_icon_frame
		}
		#So that this does not happen if a propaganda is cancelled, breaking everything
	}
	hidden = yes
	immediate = {
		set_country_flag = SOV_propaganda_right_slot_is_old_flag
		#log = "I AM HERE: RIGHT FRAME IS [?SOV_poster_right_icon_frame] // POSTER TO AGE IS [?SOV_propaganda_right_poster_to_age]" #Debug
	}
}

# YOUNG BUILDERS OF COMMUNISM - event for SOV's puppets
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.1
	title = NSB_soviet_propaganda_capmaign_events.1.t
	desc = NSB_soviet_propaganda_capmaign_events.1.desc
	picture = GFX_report_event_SOV_young_builders_of_communism
	is_triggered_only = yes
	option = {
		#OK
		name = NSB_soviet_propaganda_capmaign_events.1.a
		add_timed_idea = {
			idea = SOV_young_builders_of_communism
			days = SOV.SOV_default_propaganda_campaign_duration
		}
	}
}

# LONG LIVE TO PEACE - event for SOV (peace broken as attacker)
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.2
	title = NSB_soviet_propaganda_capmaign_events.2.t
	desc = NSB_soviet_propaganda_capmaign_events.2.desc
	picture = GFX_report_event_SOV_young_builders_of_communism
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			set_country_flag = SOV_punished_for_breaking_flag
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_attacker
				days = 180
			}
			#RESET PROPAGANDA CAMPAIGN
			set_rule = {
				can_send_volunteers = yes
			}
			clr_country_flag = SOV_propaganda_peace_active_flag
			set_variable = {
				SOV_propaganda_campaign_to_remove = 25
			}
			SOV_reset_propaganda_campaign_slot_effect = yes
		}
	}
	option = {
		#OK
		name = NSB_soviet_propaganda_capmaign_events.2.a
		effect_tooltip = {
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_attacker
				days = 180
			}
		}
	}
}

# LONG LIVE TO PEACE - event for SOV (peace broken as defender)
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.3
	title = NSB_soviet_propaganda_capmaign_events.2.t
	desc = NSB_soviet_propaganda_capmaign_events.3.desc
	picture = GFX_report_event_SOV_young_builders_of_communism
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			set_country_flag = SOV_punished_for_breaking_flag
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_defender
				days = 180
			}
			#RESET PROPAGANDA CAMPAIGN
			set_rule = {
				can_send_volunteers = yes
			}
			clr_country_flag = SOV_propaganda_peace_active_flag
			set_variable = {
				SOV_propaganda_campaign_to_remove = 25
			}
			SOV_reset_propaganda_campaign_slot_effect = yes
		}
	}
	option = {
		#OK
		name = NSB_soviet_propaganda_capmaign_events.3.a
		effect_tooltip = {
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_defender
				days = 180
			}
		}
	}
}

# HIDDEN EVENT TO MANAGE THE FALL OF IRAN - JOINT INVASION
country_event = {
	id = NSB_soviet_foreign_politics_events.157
	is_triggered_only = yes
	hidden = yes
	immediate = {
		transfer_state = 419		#Tibriz (AZB)
		transfer_state = 420		#Gilan (AZB)
		transfer_state = 416		#Khorasan
		PER = {
			give_resource_rights = {
				receiver = SOV
				state = 411
			}
			give_resource_rights = {
				receiver = SOV
				state = 412
			}
			give_resource_rights = {
				receiver = ENG
				state = 413
			}
			give_military_access = ROOT
		}
		411 = {
			set_state_flag = SOV_soviet_resource_rights_iran_flag
		}
		412 = {
			set_state_flag = SOV_soviet_resource_rights_iran_flag
		}
		413 = {
			set_state_flag = SOV_british_resource_rights_iran_flag
		}
	}
}

####### SINKIANG ########
# SOV-SINKIANG - Initiate relations (Railwway SOV-SIK - Gobi Gambit) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.270
	title = NSB_soviet_foreign_politics_events.270.t
	desc = NSB_soviet_foreign_politics_events.270.desc
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		# OK
		name = NSB_soviet_foreign_politics_events.270.a
		ai_chance = {
			base = 3
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 2
				SOV = {
					has_idea = SOV_maksim_litvinov
				}
			}
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = {
					has_idea = SOV_vyacheslav_molotov
				}
			}
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
			# Tashkent - Frunze - Alma-Ata - Urumqi
			build_railway = {
				path = {
					1459
					10148
					10366
					12397
					12340
					12640
					7706
					12583
					4224
					1591
					10547
					10619
					12529
					7866
					1783
					10674
					4709
				}
			}
			#Supply Hub in Alma-Ata
			586 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1591
					instant_build = yes
				}
			}
			add_to_variable = {
				SOV_fyp_consumer_goods_factor = -0.02
			}
		}
		custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
		hidden_effect = {
			FROM = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.271
					hours = 1
				}
			}
		}
	}
	option = {
		# Nope
		name = NSB_soviet_foreign_politics_events.270.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = {
					is_in_faction_with = SOV
				}
			}
			modifier = {
				add = 5
				FROM = {
					is_justifying_wargoal_against = ROOT
				}
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = {
					is_subject_of = SOV
				}
			}
		}
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.272
				hours = 1
			}
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.271
	title = NSB_soviet_foreign_politics_events.271.t
	desc = NSB_soviet_foreign_politics_events.271.desc
	picture = GFX_report_event_generic_train
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_foreign_politics_events.271.a
		ai_chance = {
			base = 1
		}
		effect_tooltip = {
			# Tashkent - Frunze - Alma-Ata - Urumqi
			build_railway = {
				path = {
					1459
					10148
					10366
					12397
					12340
					12640
					7706
					12583
					4224
					1591
					10547
					10619
					12529
					7866
					1783
					10674
					4709
				}
			}
			#Supply Hub in Alma-Ata
			586 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1591
					instant_build = yes
				}
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang rejects our proposal - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.272
	title = NSB_soviet_foreign_politics_events.272.t
	desc = NSB_soviet_foreign_politics_events.272.desc
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes
	option = {
		# Respect
		name = NSB_soviet_foreign_politics_events.272.a
		ai_chance = {
			base = 3
			modifier = {
				add = -1
				FROM = {
					is_in_faction = yes
				}
			}
			modifier = {
				add = -1
				has_war = yes
			}
			modifier = {
				add = -1
				FROM = {
					is_subject = yes
					OVERLORD = {
						is_major = yes
					}
				}
			}
		}
		# Tashkent - Frunze - Alma-Ata
		build_railway = {
			path = {
				1459
				10148
				10366
				12397
				12340
				12640
				7706
				12583
				4224
				1591
			}
		}
		#Supply Hub in Alma-Ata
		586 = {
			add_building_construction = {
				type = supply_node
				level = 1
				province = 1591
				instant_build = yes
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
	}
	option = {
		# Unacceptable
		name = NSB_soviet_foreign_politics_events.272.b
		ai_chance = {
			base = 1
		}
		# Tashkent - Frunze - Alma-Ata
		build_railway = {
			path = {
				1459
				10148
				10366
				12397
				12340
				12640
				7706
				12583
				4224
				1591
			}
		}
		#Supply Hub in Alma-Ata
		586 = {
			add_building_construction = {
				type = supply_node
				level = 1
				province = 1591
				instant_build = yes
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
		create_wargoal = {
			type = take_state_focus
			target = SIK
			expire = 0
			generator = {
				618
				617
				287
				619
				759
				760
			}
		}
		add_named_threat = {
			threat = 2
			name = SOV_claim_on_sinkiang_threat
		}
	}
}

# SOV-SINKIANG - Mineral Prospection (Railwway Urumqui-Kashgar) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.273
	title = NSB_soviet_foreign_politics_events.273.t
	desc = NSB_soviet_foreign_politics_events.273.desc
	picture = GFX_report_event_china_ledo_road
	is_triggered_only = yes
	option = {
		# OK
		name = NSB_soviet_foreign_politics_events.273.a
		ai_chance = {
			base = 3
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 2
				SOV = {
					has_idea = SOV_maksim_litvinov
				}
			}
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = {
					has_idea = SOV_vyacheslav_molotov
				}
			}
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
			add_to_variable = {
				SOV_fyp_consumer_goods_factor = -0.02
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				619 = {
					#YARKAND - Minerals and Infra
					add_resource = {
						type = aluminium
						amount = 3
					}
					add_resource = {
						type = chromium
						amount = 3
					}
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				617 = {
					#URUMQI
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				# Urumqi - Kashgar
				build_railway = {
					path = {
						4709
						4770
						7702
						4682
						7949
						2015
					}
				}
				#Supply Hub in Kashgar
				619 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 2015
						instant_build = yes
					}
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.274
					hours = 1
				}
			}
			activate_mission = SOV_sinkiang_mineral_prospection_mission_dummy
		}
	}
	option = {
		# Nope
		name = NSB_soviet_foreign_politics_events.273.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = {
					is_in_faction_with = SOV
				}
			}
			modifier = {
				add = 5
				FROM = {
					is_justifying_wargoal_against = ROOT
				}
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = {
					is_subject_of = SOV
				}
			}
		}
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.275
				hours = 1
			}
			set_country_flag = SOV_sinkiang_prospection_rejected_flag
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Mineral Prospection) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.274
	title = NSB_soviet_foreign_politics_events.274.t
	desc = NSB_soviet_foreign_politics_events.274.desc
	picture = GFX_report_event_china_ledo_road
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_foreign_politics_events.274.a
		ai_chance = {
			base = 1
		}
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			619 = {
				#YARKAND - Minerals and Infra
				add_resource = {
					type = aluminium
					amount = 3
				}
				add_resource = {
					type = chromium
					amount = 3
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			617 = {
				#URUMQI
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Kashgar
			build_railway = {
				path = {
					4709
					4770
					7702
					4682
					7949
					2015
				}
			}
			#Supply Hub in Kashgar
			619 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 2015
					instant_build = yes
				}
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang rejects our proposal (generic) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.275
	title = NSB_soviet_foreign_politics_events.275.t
	desc = NSB_soviet_foreign_politics_events.275.desc
	picture = GFX_report_event_generic_sign_treaty1
	is_triggered_only = yes
	option = {
		# Respect
		name = NSB_soviet_foreign_politics_events.275.a
		ai_chance = {
			base = 3
			modifier = {
				add = -1
				FROM = {
					is_in_faction = yes
				}
			}
			modifier = {
				add = -1
				has_war = yes
			}
			modifier = {
				add = -1
				FROM = {
					is_subject = yes
					OVERLORD = {
						is_major = yes
					}
				}
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
	}
	option = {
		# Unacceptable
		name = NSB_soviet_foreign_politics_events.275.b
		trigger = {
			NOT = {
				is_in_faction_with = FROM
			}
		}
		ai_chance = {
			base = 1
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
		create_wargoal = {
			type = take_state_focus
			target = SIK
			expire = 0
			generator = {
				618
				617
				287
				619
				759
				760
			}
		}
		add_named_threat = {
			threat = 2
			name = SOV_claim_on_sinkiang_threat
		}
	}
}

# SOV-SINKIANG - Oil Prospection (Railwway Urumqui-Altay) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.276
	title = NSB_soviet_foreign_politics_events.276.t
	desc = NSB_soviet_foreign_politics_events.276.desc
	picture = GFX_report_event_china_ledo_road
	is_triggered_only = yes
	option = {
		# OK
		name = NSB_soviet_foreign_politics_events.276.a
		ai_chance = {
			base = 3
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 2
				SOV = {
					has_idea = SOV_maksim_litvinov
				}
			}
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = {
					has_idea = SOV_vyacheslav_molotov
				}
			}
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
			add_to_variable = {
				SOV_fyp_consumer_goods_factor = -0.02
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				618 = {
					#DZUNGARIA - Minerals, oil and Infra
					add_resource = {
						type = aluminium
						amount = 3
					}
					add_resource = {
						type = tungsten
						amount = 3
					}
					add_resource = {
						type = oil
						amount = 6
					}
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				give_resource_rights = {
					receiver = SOV
					state = 618
				}
				# Grant Resource rights to SOV
				617 = {
					#URUMQI - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				# Urumqi - Altay
				build_railway = {
					path = {
						4709
						10674
						1783
						1844
						12737
						4823
					}
				}
				#Supply Hub in Altay
				618 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 4823
						instant_build = yes
					}
				}
				ROOT = {
					add_ideas = SOV_expanded_exploitation_of_gold_mines
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.277
					hours = 1
				}
			}
			activate_mission = SOV_sinkiang_oil_prospection_mission_dummy
		}
	}
	option = {
		# Nope
		name = NSB_soviet_foreign_politics_events.276.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = {
					is_in_faction_with = SOV
				}
			}
			modifier = {
				add = 5
				FROM = {
					is_justifying_wargoal_against = ROOT
				}
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = {
					is_subject_of = SOV
				}
			}
		}
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.275
				hours = 1
			}
			set_country_flag = SOV_sinkiang_oil_prospection_rejected_flag
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Oil Prospection) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.277
	title = NSB_soviet_foreign_politics_events.277.t
	desc = NSB_soviet_foreign_politics_events.277.desc
	picture = GFX_report_event_china_ledo_road
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_foreign_politics_events.277.a
		ai_chance = {
			base = 1
		}
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			618 = {
				#DZUNGARIA - Minerals, oil and Infra
				add_resource = {
					type = aluminium
					amount = 3
				}
				add_resource = {
					type = tungsten
					amount = 3
				}
				add_resource = {
					type = oil
					amount = 6
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			give_resource_rights = {
				receiver = SOV
				state = 618
			}
			# Grant Resource rights to SOV (Not scoping to make tooltip slightly shorter)
			617 = {
				#URUMQI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Altay
			build_railway = {
				path = {
					4709
					10674
					1783
					1844
					12737
					4823
				}
			}
			#Supply Hub in Altay
			618 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4823
					instant_build = yes
				}
			}
			SIK = {
				add_ideas = SOV_expanded_exploitation_of_gold_mines
			}
		}
	}
}

# SOV-SINKIANG - Military Aid (Mil in Urumqui + Infra, Air Base and Forts in Kunlun Shan + Forts in Dabancheng) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.278
	title = NSB_soviet_foreign_politics_events.278.t
	desc = NSB_soviet_foreign_politics_events.278.desc
	picture = GFX_report_event_SOV_purge_aircraft_2
	is_triggered_only = yes
	option = {
		# OK
		name = NSB_soviet_foreign_politics_events.278.a
		ai_chance = {
			base = 3
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 2
				SOV = {
					has_idea = SOV_maksim_litvinov
				}
			}
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = {
					has_idea = SOV_vyacheslav_molotov
				}
			}
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
			add_to_variable = {
				SOV_fyp_consumer_goods_factor = -0.02
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
			SOV = {
				send_equipment = {
					type = small_plane_airframe
					amount = 40
					target = ROOT
				}
				send_equipment = {
					type = infantry_equipment
					amount = 500
					target = ROOT
				}
			}
			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				617 = {
					#URUMQI - Mil
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				759 = {
					#KUNLUN SHAN - Infra + Air base + Forts
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							air_base < 9
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					else_if = {
						limit = {
							air_base < 10
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 10315
							id = 2074
							id = 1698
							id = 4947
						}
						instant_build = yes
					}
				}
				if = {
					#DABANCHENG - Forts
					limit = {
						has_full_control_of_state = 760
					}
					760 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 1838
								id = 4843
							}
							instant_build = yes
						}
					}
				}
				add_tech_bonus = {
					name = NSB_soviet_foreign_politics_events.278.t
					bonus = 1
					uses = 2
					category = air_equipment
				}
				air_experience = 50
				army_experience = 50
			}
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.279
					hours = 1
				}
			}
			activate_mission = SOV_sinkiang_military_aid_mission_dummy
		}
	}
	option = {
		# Nope
		name = NSB_soviet_foreign_politics_events.278.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = {
					is_in_faction_with = SOV
				}
			}
			modifier = {
				add = 5
				FROM = {
					is_justifying_wargoal_against = ROOT
				}
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = {
					is_subject_of = SOV
				}
			}
		}
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.275
				hours = 1
			}
			set_country_flag = SOV_sinkiang_military_aid_rejected_flag
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Military Aid) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.279
	title = NSB_soviet_foreign_politics_events.279.t
	desc = NSB_soviet_foreign_politics_events.279.desc
	picture = GFX_report_event_SOV_purge_aircraft_2
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_foreign_politics_events.279.a
		ai_chance = {
			base = 1
		}
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			send_equipment = {
				type = small_plane_airframe
				amount = 40
				target = SIK
			}
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = SIK
			}
			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			617 = {
				#URUMQI - Mil
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			759 = {
				#KUNLUN SHAN - Infra + Air base + Forts
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 10315
						id = 2074
						id = 1698
						id = 4947
					}
					instant_build = yes
				}
			}
			if = {
				#DABANCHENG - Forts
				limit = {
					SIK = {
						has_full_control_of_state = 760
					}
				}
				760 = {
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 1838
							id = 4843
						}
						instant_build = yes
					}
				}
			}
			SIK = {
				add_tech_bonus = {
					name = NSB_soviet_foreign_politics_events.278.t
					bonus = 1
					uses = 2
					category = air_equipment
				}
				air_experience = 50
				army_experience = 50
			}
		}
	}
}

# SOV-SINKIANG - Support Expansion (in XSM) (Infra and Forts in various XSM states + Air Base in Gansu + Oil in Jiuquan) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.280
	title = NSB_soviet_foreign_politics_events.280.t
	desc = NSB_soviet_foreign_politics_events.280.desc
	picture = GFX_report_event_generic_truck
	is_triggered_only = yes
	option = {
		# OK
		name = NSB_soviet_foreign_politics_events.280.a
		ai_chance = {
			base = 3
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 2
				SOV = {
					has_idea = SOV_maksim_litvinov
				}
			}
			modifier = {
				#Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = {
					has_idea = SOV_vyacheslav_molotov
				}
			}
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
			SOV = {
				send_equipment = {
					type = motorized_equipment
					amount = 300
					target = ROOT
				}
			}
			add_to_variable = {
				SOV_fyp_consumer_goods_factor = -0.02
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik
			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				755 = {
					#HAIXI - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				756 = {
					#JIUQUAN - Infra + Oil
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_resource = {
						type = oil
						amount = 12
					}
				}
				604 = {
					#QINGHAI (Golmud) - Infra 
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 7940
						}
						instant_build = yes
					}
				}
				754 = {
					#GOLOG (Lanzhou) - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 12732
						}
						instant_build = yes
					}
				}
				283 = {
					#GANSU - Infra + Air Base + Fort
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							air_base < 9
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					else_if = {
						limit = {
							air_base < 10
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 531
						}
						instant_build = yes
					}
				}
			}
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.281
					hours = 1
				}
			}
			activate_mission = SOV_sinkiang_support_expansion_mission_dummy
		}
	}
	option = {
		# Nope
		name = NSB_soviet_foreign_politics_events.280.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = {
					is_in_faction_with = SOV
				}
			}
			modifier = {
				add = 5
				FROM = {
					is_justifying_wargoal_against = ROOT
				}
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = {
					is_subject_of = SOV
				}
			}
		}
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.275
				hours = 1
			}
			set_country_flag = SOV_sinkiang_support_expansion_rejected_flag
		}
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Support Territorial Expansion) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.281
	title = NSB_soviet_foreign_politics_events.281.t
	desc = NSB_soviet_foreign_politics_events.281.desc
	picture = GFX_report_event_generic_truck
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_foreign_politics_events.281.a
		ai_chance = {
			base = 1
		}
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
			send_equipment = {
				type = motorized_equipment
				amount = 300
				target = SIK
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			755 = {
				#HAIXI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			756 = {
				#JIUQUAN - Infra + Oil
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
			604 = {
				#QINGHAI (Golmud) - Infra 
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 7940
					}
					instant_build = yes
				}
			}
			754 = {
				#GOLOG (Lanzhou) - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 12732
					}
					instant_build = yes
				}
			}
			283 = {
				#GANSU - Infra + Air Base + Fort
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 531
					}
					instant_build = yes
				}
			}
		}
	}
}

# SOV-SINKIANG - Formalize the Soviet Republic of Sinkiang (aka puppet Sinkiang)- Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.282
	title = NSB_soviet_foreign_politics_events.282.t
	desc = NSB_soviet_foreign_politics_events.282.desc
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		# Accept
		name = NSB_soviet_foreign_politics_events.282.a
		ai_chance = {
			base = 1
		}
		add_political_power = 75
		SOV = {
			puppet = ROOT
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.283
				hours = 1
			}
		}
	}
	option = {
		# Refuse
		name = NSB_soviet_foreign_politics_events.282.b
		ai_chance = {
			base = 0
		}
		effect_tooltip = {
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
				country_event = {
					id = NSB_soviet_foreign_politics_events.284
					hours = 1
				}
			}
			custom_effect_tooltip = germany.126.warning
		}
	}
}

# SOV-SINKIANG - Sinkiang becomes a puppet - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.283
	title = NSB_soviet_foreign_politics_events.283.t
	desc = NSB_soviet_foreign_politics_events.283.desc
	picture = GFX_report_event_stalin_propaganda
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_foreign_politics_events.283.a
		effect_tooltip = {
			puppet = FROM
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
			FROM = {
				add_political_power = 75
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang refuses to become a puppet - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.284
	title = NSB_soviet_foreign_politics_events.284.t
	desc = NSB_soviet_foreign_politics_events.284.desc
	picture = GFX_report_event_stalin_meeting
	is_triggered_only = yes
	option = {
		# Respect
		name = NSB_soviet_foreign_politics_events.284.a
		ai_chance = {
			base = 2
			modifier = {
				add = -1
				has_war = yes
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
	}
	option = {
		# Unacceptable
		name = NSB_soviet_foreign_politics_events.284.b
		trigger = {
			is_faction_leader = yes
		}
		ai_chance = {
			base = 0
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
		remove_from_faction = FROM
		create_wargoal = {
			type = take_state_focus
			target = FROM
			expire = 0
			generator = {
				618
				617
				287
				619
				759
				760
			}
		}
		add_named_threat = {
			threat = 2
			name = SOV_claim_on_sinkiang_threat
		}
	}
}

# SOV-SINKIANG - Soviet Union is losing and we might need new friends - Event for SIK (triggered via MTTH)
country_event = {
	id = NSB_soviet_foreign_politics_events.285
	title = NSB_soviet_foreign_politics_events.285.t
	desc = NSB_soviet_foreign_politics_events.285.desc
	picture = GFX_report_event_soviet_tanks_snow
	fire_only_once = yes
	trigger = {
		original_tag = SIK
		OR = {
			is_in_faction_with = SOV
			is_subject_of = SOV
		}
		SOV = {
			has_completed_focus = SOV_the_gobi_gambit
			surrender_progress > 0.5
		}
		OR = {
			AND = {
				country_exists = CHI
				CHI = {
					is_subject = no
				}
				NOT = {
					has_war_with = CHI
				}
			}
		}
	}
	mean_time_to_happen = {
		days = 180
		modifier = {
			factor = 2
			has_full_control_of_state = 604			#GOLMUD (XSM)
		}
		modifier = {
			factor = 2
			has_full_control_of_state = 613			# NANJING (CHI)
		}
		modifier = {
			factor = 2
			has_full_control_of_state = 325			# KUNMING (YUN)
		}
		modifier = {
			factor = 2
			has_full_control_of_state = 594			#NANNING (GXC)
		}
		modifier = {
			factor = 2
			has_full_control_of_state = 328			#HSINKING (MAN)
		}
	}
	option = {
		# Stay with the Soviets
		name = NSB_soviet_foreign_politics_events.285.a
		ai_chance = {
			base = 2
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM
					value > 50
				}
			}
			modifier = {
				factor = 0.5
				is_subject = no
			}
		}
		if = {
			limit = {
				is_subject_of = SOV
			}
			effect_tooltip = {
				add_autonomy_score = {
					value = 500
					localization = NSB_soviet_foreign_politics_events.286.t
				}
			}
			hidden_effect = {
				SOV = {
					country_event = {
						id = NSB_soviet_foreign_politics_events.286
						hours = 1
					}
				}
			}
		}
	}
	option = {
		# Time to flee!
		name = NSB_soviet_foreign_politics_events.285.b
		trigger = {
			is_subject = no
		}
		ai_chance = {
			base = 2
		}
		hidden_effect = {
			SOV = {
				add_ai_strategy = {
					type = befriend
					id = SIK
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = SIK
					value = -200
				}
				if = {
					limit = {
						has_war = no
					}
					add_ai_strategy = {
						type = antagonize
						id = SIK
						value = 100
					}
				}
				else = {
					add_ai_strategy = {
						type = antagonize
						id = SIK
						value = 25
					}
				}
			}
			add_ai_strategy = {
				type = befriend
				id = SOV
				value = -100
			}
			add_ai_strategy = {
				type = alliance
				id = SOV
				value = -100
			}
			if = {
				limit = {
					CHI = {
						is_faction_leader = yes
					}
					NOT = {
						has_war_with = CHI
					}
				}
				add_ai_strategy = {
					type = alliance
					id = CHI
					value = 100
				}
			}
			if = {
				limit = {
					XSM = {
						is_faction_leader = yes
					}
					NOT = {
						has_war_with = XSM
					}
				}
				add_ai_strategy = {
					type = alliance
					id = XSM
					value = 100
				}
			}
			if = {
				limit = {
					YUN = {
						is_faction_leader = yes
					}
					NOT = {
						has_war_with = YUN
					}
				}
				add_ai_strategy = {
					type = alliance
					id = YUN
					value = 100
				}
			}
			if = {
				limit = {
					GXC = {
						is_faction_leader = yes
					}
					NOT = {
						has_war_with = GXC
					}
				}
				add_ai_strategy = {
					type = alliance
					id = GXC
					value = 100
				}
			}
		}
		#Break all previous agreements with the Comintern
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
			}
			if = {
				limit = {
					has_guaranteed = ROOT
				}
				diplomatic_relation = {
					country = ROOT
					relation = guarantee
					active = no
				}
			}
			if = {
				limit = {
					is_guaranteed_by = ROOT
				}
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = guarantee
						active = no
					}
				}
			}
			if = {
				limit = {
					has_non_aggression_pact_with = ROOT
				}
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = no
				}
			}
			if = {
				limit = {
					has_military_access_to = ROOT
				}
				diplomatic_relation = {
					country = ROOT
					relation = military_access
					active = no
				}
			}
			if = {
				limit = {
					gives_military_access_to = ROOT
				}
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = military_access
						active = no
					}
				}
			}
		}
		leave_faction = yes
		remove_resource_rights = 618
		SOV = {
			add_opinion_modifier = {
				target = ROOT
				modifier = betrayed_alliance
			}
		}
		SOV = {
			country_event = {
				id = NSB_soviet_foreign_politics_events.287
				hours = 1
			}
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang loses autonomy - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.286
	title = NSB_soviet_foreign_politics_events.286.t
	desc = NSB_soviet_foreign_politics_events.286.desc
	picture = GFX_report_event_soviet_tanks_snow
	is_triggered_only = yes
	option = {
		# Nothing to do
		name = NSB_soviet_foreign_politics_events.286.a
		ai_chance = {
			base = 1
		}
		FROM = {
			add_autonomy_score = {
				value = 500
				localization = NSB_soviet_foreign_politics_events.286.t
			}
		}
	}
	option = {
		# Talk to them
		name = NSB_soviet_foreign_politics_events.286.b
		trigger = {
			has_political_power > 74
		}
		ai_chance = {
			base = 0
		}
		add_political_power = -75
		FROM = {
			add_autonomy_score = {
				value = 250
				localization = NSB_soviet_foreign_politics_events.286.t
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang leaves faction - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.287
	title = NSB_soviet_foreign_politics_events.287.t
	desc = NSB_soviet_foreign_politics_events.287.desc
	picture = GFX_report_event_chinese_army_training
	is_triggered_only = yes
	option = {
		# Don't care
		name = NSB_soviet_foreign_politics_events.287.a
		ai_chance = {
			base = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		effect_tooltip = {
			FROM = {
				leave_faction = yes
			}
			remove_resource_rights = 618
			add_opinion_modifier = {
				target = FROM
				modifier = betrayed_alliance
			}
		}
	}
	option = {
		# Make them pay!
		name = NSB_soviet_foreign_politics_events.287.b
		ai_chance = {
			base = 2
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_prospection_flag
			}
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_oil_prospection_flag
			}
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_military_aid_flag
			}
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_support_expansion_flag
			}
		}
		effect_tooltip = {
			FROM = {
				leave_faction = yes
			}
			remove_resource_rights = 618
			add_opinion_modifier = {
				target = FROM
				modifier = betrayed_alliance
			}
		}
		create_wargoal = {
			type = take_state_focus
			target = FROM
			expire = 0
			generator = {
				618
				617
				287
				619
				759
				760
			}
		}
	}
}

# Soviet-German Trade Agreement - Event for GER
country_event = {
	id = NSB_soviet_soviet_german_trade_agreement.1
	title = NSB_soviet_soviet_german_trade_agreement.1.t
	desc = NSB_soviet_soviet_german_trade_agreement.1.desc
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		# Accept -> This will also make GER more likely to take Molotov-Ribbentrop pact and less to take Anti-Soviet Pact
		name = NSB_soviet_soviet_german_trade_agreement.1.a
		ai_chance = {
			base = 5
			modifier = {
				factor = 10
				has_war = yes
			}
			modifier = {
				factor = 10
				has_war_with = ENG
			}
			modifier = {
				factor = 10
				has_completed_focus = GER_mol_rib_pact
			}
			modifier = {
				factor = 10
				has_completed_focus = GER_soviet_ally
			}
			modifier = {
				factor = 0.1
				has_completed_focus = GER_anti_comitern_pact
			}
			modifier = {
				factor = 0
				OR = {
					has_war_with = FROM
					is_justifying_wargoal_against = FROM
					has_completed_focus = GER_anti_soviet_pact
					has_completed_focus = GER_ussr_war_goal
				}
			}
		}
		add_timed_idea = {
			idea = SOV_soviet_german_trade_agreement
			days = 545
		}
		#Technically 1 year but really 18 months for Soviet payment 
		set_variable = {
			SOV_capital_for_soviet_imports = ROOT.capital
		}
		#Store capital where the dynamic modifier is set so that it can be removed easily later
		capital_scope = {
			add_dynamic_modifier = {
				modifier = SOV_soviet_imports
			}
		}
		#Effects to Soviets
		effect_tooltip = {
			FROM = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
					}
					if = {
						limit = {
							NOT = {
								has_tech = basic_ship_hull_cruiser
							}
						}
						set_technology = {
							basic_ship_hull_cruiser = 1
						}
					}
					if = {
						limit = {
							NOT = {
								has_tech = basic_cruiser_armor_scheme
							}
						}
						set_technology = {
							basic_cruiser_armor_scheme = 1
						}
					}
					if = {
						limit = {
							has_tech = basic_medium_battery
						}
						create_equipment_variant = {
							name = "Hipper Class"
							type = ship_hull_cruiser_2
							name_group = SOV_CA_HISTORICAL
							parent_version = 0
							allow_without_tech = yes							#Makes no difference since event grants appropriate tech (above), but it improves tooltip
							modules = {
								fixed_ship_battery_slot = ship_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_1
								fixed_ship_secondaries_slot = empty
								fixed_ship_armor_slot = ship_armor_cruiser_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_1
								rear_1_custom_slot = ship_medium_battery_2
							}
						}
					}
					else = {
						create_equipment_variant = {
							name = "Hipper Class"
							type = ship_hull_cruiser_2
							name_group = SOV_CA_HISTORICAL
							parent_version = 0
							allow_without_tech = yes							#Makes no difference since event grants appropriate tech (above), but it improves tooltip
							modules = {
								fixed_ship_battery_slot = ship_medium_battery_1
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_0
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_1
								fixed_ship_secondaries_slot = empty
								fixed_ship_armor_slot = ship_armor_cruiser_2
								front_1_custom_slot = ship_anti_air_1
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_1
								rear_1_custom_slot = ship_medium_battery_1
							}
						}
					}
					# CA: Lützow -> Petropavlovsk
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "SOV"
							version_name = "Hipper Class"
						}
						name = "Petropavlovsk"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement.1.t
						bonus = 0.5
						uses = 2
						category = ship_modules_tech
						category = bb_tech
						category = dd_tech
					}
				}
				else = {
					#No MTG
					if = {
						limit = {
							NOT = {
								has_tech = basic_heavy_cruiser
							}
						}
						set_technology = {
							basic_heavy_cruiser = 1
						}
					}
					create_equipment_variant = {
						name = "Hipper Class"
						type = heavy_cruiser_2
						parent_version = 0
						allow_without_tech = yes						#Makes no difference since event grants appropriate tech (above), but it improves tooltip
						upgrades = {
							ship_reliability_upgrade = 1
							ship_engine_upgrade = 1
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_2
							creator = "SOV"
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement.1.t
						bonus = 0.5
						uses = 2
						category = ca_tech
						category = bb_tech
						category = dd_tech
					}
				}
				add_tech_bonus = {
					name = NSB_soviet_soviet_german_trade_agreement.1.t
					bonus = 0.5
					uses = 2
					category = air_equipment
				}
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_strengthened_relations_with_us
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_strengthened_relations_with_us
			}
		}
		hidden_effect = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_strengthened_relations_with_us_trade
			}
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_strengthened_relations_with_us_trade
				}
			}
		}
		FROM = {
			country_event = {
				id = NSB_soviet_soviet_german_trade_agreement.2
				hours = 1
			}
		}
	}
	option = {
		# Refuse
		name = NSB_soviet_soviet_german_trade_agreement.1.b
		ai_chance = {
			base = 1
		}
		FROM = {
			country_event = {
				id = NSB_soviet_soviet_german_trade_agreement.3
				hours = 1
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_rejected_our_demands
			}
		}
	}
}

# Soviet-German Trade Agreement - GER Accepts - Event for SOV
country_event = {
	id = NSB_soviet_soviet_german_trade_agreement.2
	title = NSB_soviet_soviet_german_trade_agreement.2.t
	desc = NSB_soviet_soviet_german_trade_agreement.2.desc
	picture = GFX_report_event_molotov_ribentrop_handshake
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_soviet_german_trade_agreement.2.a
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_ship_hull_cruiser
					}
				}
				set_technology = {
					basic_ship_hull_cruiser = 1
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_cruiser_armor_scheme
					}
				}
				set_technology = {
					basic_cruiser_armor_scheme = 1
				}
			}
			if = {
				limit = {
					has_tech = basic_medium_battery
				}
				create_equipment_variant = {
					name = "Hipper Class"
					type = ship_hull_cruiser_2
					name_group = SOV_CA_HISTORICAL
					parent_version = 0
					allow_without_tech = yes					#Makes no difference since event grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						fixed_ship_secondaries_slot = empty
						fixed_ship_armor_slot = ship_armor_cruiser_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_torpedo_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_2
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "Hipper Class"
					type = ship_hull_cruiser_2
					name_group = SOV_CA_HISTORICAL
					parent_version = 0
					allow_without_tech = yes					#Makes no difference since event grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = cruiser_ship_engine_1
						fixed_ship_secondaries_slot = empty
						fixed_ship_armor_slot = ship_armor_cruiser_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_torpedo_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_1
					}
				}
			}
			# CA: Lützow -> Petropavlovsk
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_2
					creator = "SOV"
					version_name = "Hipper Class"
				}
				name = "Petropavlovsk"
				requested_factories = 1
				progress = 0.5
				amount = 1
			}
			add_tech_bonus = {
				name = NSB_soviet_soviet_german_trade_agreement.1.t
				bonus = 0.5
				uses = 2
				category = ship_modules_tech
				category = bb_tech
				category = dd_tech
			}
		}
		else = {
			#No MTG
			if = {
				limit = {
					NOT = {
						has_tech = basic_heavy_cruiser
					}
				}
				set_technology = {
					basic_heavy_cruiser = 1
				}
			}
			create_equipment_variant = {
				name = "Hipper Class"
				type = heavy_cruiser_2
				parent_version = 0
				allow_without_tech = yes				#Makes no difference since event grants appropriate tech (above), but it improves tooltip
				upgrades = {
					ship_reliability_upgrade = 1
					ship_engine_upgrade = 1
					ship_armor_upgrade = 2
					ship_gun_upgrade = 2
				}
			}
			add_equipment_production = {
				equipment = {
					type = heavy_cruiser_2
					creator = "SOV"
				}
				requested_factories = 1
				progress = 0.5
				amount = 1
			}
			add_tech_bonus = {
				name = NSB_soviet_soviet_german_trade_agreement.1.t
				bonus = 0.5
				uses = 2
				category = ca_tech
				category = bb_tech
				category = dd_tech
			}
		}
		add_tech_bonus = {
			name = NSB_soviet_soviet_german_trade_agreement.1.t
			bonus = 0.5
			uses = 2
			category = air_equipment
		}
		#Effects to Germans
		effect_tooltip = {
			FROM = {
				add_timed_idea = {
					idea = SOV_soviet_german_trade_agreement
					days = 545
				}
				#Technically 1 year but really 18 months for Soviet payment 
				capital_scope = {
					add_dynamic_modifier = {
						modifier = SOV_soviet_imports
					}
				}
			}
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_strengthened_relations_with_us
			}
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_strengthened_relations_with_us
				}
			}
		}
		hidden_effect = {
			news_event = {
				id = nsb_news.103
				days = 1
			}
		}
	}
}

# Soviet-German Trade Agreement - GER Refuses - Event for SOV
country_event = {
	id = NSB_soviet_soviet_german_trade_agreement.3
	title = NSB_soviet_soviet_german_trade_agreement.3.t
	desc = NSB_soviet_soviet_german_trade_agreement.3.desc
	picture = GFX_report_event_SOV_demands
	is_triggered_only = yes
	option = {
		# Damn
		name = NSB_soviet_soviet_german_trade_agreement.3.a
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_rejected_our_demands
			}
		}
	}
}

### Kuznetsov becomes an Operative -> Fired when SOV loses control over a Ukrainian state 
country_event = {
	id = NSB_soviet_great_patriotic_war.01
	title = NSB_soviet_great_patriotic_war.01.t
	desc = NSB_soviet_great_patriotic_war.01.desc
	picture = GFX_report_event_SOV_tank_column
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#WELCOME TO THE NKVD
		name = NSB_soviet_great_patriotic_war.01.a
		create_operative_leader = {
			name = "Nikolay Ivanovich Kuznetsov"
			GFX = GFX_Portrait_nikolay_kuznetsov
			traits = {
				operative_commando
				operative_infiltrator
			}
			bypass_recruitment = no
			available_to_spy_master = yes
			nationalities = {
				SOV
				GER
				UKR
			}
		}
	}
}

# SOV starts an industrialization project in our country - Event for puppet
country_event = {
	id = NSB_soviet_comecon.1
	title = NSB_soviet_comecon.1.t
	desc = NSB_soviet_comecon.1.desc
	picture = GFX_report_event_generic_factory
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_comecon.1.a
		effect_tooltip = {
			swap_ideas = {
				remove_idea = SOV_comecon_puppet_default
				add_idea = SOV_comecon_puppet_industrialization
			}
			custom_effect_tooltip = NSB_soviet_comecon_effect_duration_tt
		}
	}
}

# SOV starts a joint military program - Event for puppets
country_event = {
	id = NSB_soviet_comecon.2
	title = NSB_soviet_comecon.2.t
	desc = NSB_soviet_comecon.2.desc
	picture = GFX_report_event_soviet_tanks
	is_triggered_only = yes
	option = {
		# Good
		name = NSB_soviet_comecon.2.a
		effect_tooltip = {
			swap_ideas = {
				remove_idea = SOV_comecon_puppet_default
				add_idea = SOV_comecon_puppet_military
			}
			custom_effect_tooltip = NSB_soviet_comecon_effect_duration_tt
		}
	}
}

# SOV planned economy - Event for puppets
country_event = {
	id = NSB_soviet_planned_economy.1
	title = NSB_soviet_planned_economy.1.t
	desc = NSB_soviet_planned_economy.1.desc
	picture = GFX_report_event_SOV_national_academy_of_sciences
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			FROM = {
				if = {
					limit = {
						check_variable = {
							SOV_planned_economy_industrial_capacity_factory_initial < 0.1
						}
					}
					add_to_variable = {
						SOV_planned_economy_industrial_capacity_factory_initial = 0.01
					}
				}
				if = {
					limit = {
						check_variable = {
							SOV_planned_economy_production_lack_of_resource_penalty_factor_initial > -0.1
						}
					}
					add_to_variable = {
						SOV_planned_economy_production_lack_of_resource_penalty_factor_initial = -0.01
					}
				}
			}
			add_tech_bonus = {
				name = NSB_soviet_planned_economy.1.t
				bonus = 1
				uses = 2
				category = industry
			}
			add_ideas = new_economic_policy
		}
	}
	option = {
		# Good
		name = NSB_soviet_planned_economy.1.a
		effect_tooltip = {
			add_tech_bonus = {
				name = NSB_soviet_planned_economy.1.t
				bonus = 1
				uses = 2
				category = industry
			}
			add_ideas = new_economic_policy
		}
	}
}
